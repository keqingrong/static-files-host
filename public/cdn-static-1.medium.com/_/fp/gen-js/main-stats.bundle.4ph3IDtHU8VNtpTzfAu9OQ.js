(function(z){
'use strict';var T6=function(a){z.ei.call(this);this.C(a)},U6=function(a){T6.apply(this,arguments)},V6=function(a,b){z.uD.call(this,a,b,3)},W6=function(a){z.ei.call(this);this.C(a)},X6=function(a){z.ei.call(this);this.C(a)},Q3a=function(a,b){if(a.CX[b])return a.CX[b];var c=new V6(a.X,b);return a.CX[b]=c},R3a=function(a,b,c){return z.u(z.UD(a.Z,z.Du,{username:b},{query:{filter:c}}),a.e2,a)},Y6=function(a){W6.apply(this,arguments)},Z6=function(a){X6.apply(this,arguments)},$6=function(a){z.ei.call(this);
this.C(a)},a7=function(a){a=a?new Date(a):new Date;return(new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0)).getTime()},S3a=function(){return{views:!0,reads:!0,readRatio:!0,recommends:!0}},b7=function(a,b){a=a7(a);var c=[];b=Math.floor((b-a)/864E5);for(var d=0;d<=b;d++){var e=a7(a+864E5*d+144E5);c.push(e)}return c},c7=function(a){z.L.call(this);this.C(a)},d7=function(a){z.L.call(this);this.C(a)},U3a=function(a,b){return(a=a.match(T3a))?Number(a[1])*b[a[2]]:window.NaN},V3a=function(a){return"series"==
a?{views:!0,updateNotificationSubscribers:!0,claps:!0}:S3a()},W3a=function(a,b){var c={};b7(a,b).forEach(function(a){c[a]={value:0,time:a}});return c},X3a=function(a,b,c){var d={};a=b7(a,b);a.forEach(function(a){d[a]={};c.forEach(function(b){d[a][b]=0})});return{buckets:d,Vj:a}},e7=function(a,b){var c=a7(a-864E5*b);return a-c>864E5*b?a7(a-864E5*(b-1)):c},Z3a=function(a){return z.za(a,"B")?U3a(a,z.hya):U3a(a,Y3a)},$3a=function(){var a=z.n("The total amount of time spent reading your publication.");
return(0,z.y)(""+a)},a4a=function(){var a=z.n("The total number of views your publication has received on all posts and pages.");return(0,z.y)(""+a)},b4a=function(){var a=z.n("The average number of unique daily visitors who have visited your publication. Each visitor is counted once per day, even if they view multiple pages or the same page multiple times.");return(0,z.y)(""+a)},c4a=function(){var a=z.n("Loading stats for sorting…");return(0,z.y)(""+a)},d4a=function(){var a=z.n("Could not load story stats.");
return(0,z.y)(""+a)},j4a=function(a,b,c){a=a||{};return(0,z.y)(z.A(z.wR(a,c))+e4a(a)+'\x3cdiv class\x3d"stats container u-maxWidth1040"\x3e'+f4a({collection:a.collection,selected:"overview"},c)+'\x3cdiv class\x3d"row u-marginTop30 u-xs-marginTop0 u-borderBottomLightest js-readingTimeStats"\x3e\x3cdiv class\x3d"col u-size5of12 u-md-size12of12 u-marginTop50 js-readingTimeStatsText"\x3e'+g4a(null)+'\x3c/div\x3e\x3cdiv class\x3d"col u-size7of12 u-md-size12of12"\x3e'+f7(c)+'\x3cdiv class\x3d"barGraph2 js-barGraph"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row u-marginTop30 u-xs-marginTop0 u-borderBottomLightest js-viewsStats"\x3e\x3cdiv class\x3d"col u-size5of12 u-md-size12of12 u-marginTop50 js-viewsStatsText"\x3e'+
h4a(null)+'\x3c/div\x3e\x3cdiv class\x3d"col u-size7of12 u-md-size12of12"\x3e'+f7(c)+'\x3cdiv class\x3d"barGraph2 js-barGraph"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row u-marginTop30 u-xs-marginTop0 u-borderBottomLightest js-visitorsStats"\x3e\x3cdiv class\x3d"col u-size5of12 u-md-size12of12 u-marginTop50 js-visitorsStatsText"\x3e'+i4a(null)+'\x3c/div\x3e\x3cdiv class\x3d"col u-size7of12 u-md-size12of12"\x3e'+f7(c)+'\x3cdiv class\x3d"barGraph2 js-barGraph"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'+
z.A(z.DE({collection:a.collection,Md:".popover--branded"},c)))},e4a=function(a){a=a||{};var b="";a=a.collection?z.n("{$name} stats",{name:""+a.collection.name}):z.n("Stats");b+=""+a;b=""+z.A(z.vR({title:z.E(b)}));return(0,z.y)(b)},f4a=function(a,b){var c="",d=z.n("Stories"),e=z.n("Overview"),c=c+z.A(z.eP({ee:!0,l:"heading--stats",Hj:(0,z.N)(""+z.A(z.dP({s:(0,z.N)(""+e),action:"show-tab",actionValue:"overview",isActive:"overview"==a.selected,l:"u-fontSize16"},b))+z.A(z.dP({s:(0,z.N)(""+d),action:"show-tab",
actionValue:"stories",isActive:"stories"==a.selected,l:"u-fontSize16"},b))),rg:(0,z.N)(""+k4a(a,b))}));return(0,z.y)(c)},k4a=function(a,b){a=a||{};var c="",d=z.n("Learn more{$startSpan} about using stats{$endSpan}",{startSpan:'\x3cspan class\x3d"u-sm-hide"\x3e',endSpan:"\x3c/span\x3e"});a=""+(a.collection?z.G(b.j.PEa):z.G(b.j.RFa));a=(0,z.M)(a);d=(0,z.N)(""+d);c+=z.A(z.P({Ua:!0,ca:!0,s:d,href:a,Ya:!0,l:"u-marginTop5 u-floatRight"},b));return(0,z.y)(c)},h4a=function(a){a=a||{};var b="",c=z.n("Views"),
d=a.views&&a.Vj,b=b+((d?"\x3ch2\x3e"+z.A(z.vh(Number(a.views)))+"\x3c/h2\x3e":'\x3ch2 class\x3d"u-textColorNormal"\x3e…\x3c/h2\x3e')+"\x3cstrong "+(d?"":'class\x3d"u-textColorNormal"')+"\x3e"+c+"\x3c/strong\x3e");d&&(a=z.n(" ({$days} days)",{days:z.A(a.Vj)}),b+="\x3cspan\x3e"+a+"\x3c/span\x3e");b+='\x3cdiv class\x3d"u-textColorNormal stats-description"\x3e'+z.A(a4a())+"\x3c/div\x3e";return(0,z.y)(b)},l4a=function(a){var b="",c=z.n("Views"),b=b+("\x3ch2\x3e"+z.A(z.vh(Number(a.views)))+"\x3c/h2\x3e\x3cstrong\x3e"+
c+"\x3c/strong\x3e \x3cspan\x3e("+z.A(a.date)+')\x3c/span\x3e\x3cdiv class\x3d"u-textColorNormal stats-description"\x3e'+z.A(a4a())+"\x3c/div\x3e");return(0,z.y)(b)},g4a=function(a){a=a||{};var b="",c=z.n("Minutes read"),d=a.readingTime&&a.Vj,b=b+((d?"\x3ch2\x3e"+z.A(z.vh(Number(a.readingTime)))+"\x3c/h2\x3e":'\x3ch2 class\x3d"u-textColorNormal"\x3e…\x3c/h2\x3e')+"\x3cstrong "+(d?"":'class\x3d"u-textColorNormal"')+"\x3e"+c+"\x3c/strong\x3e");d&&(a=z.n(" ({$days} days)",{days:z.A(a.Vj)}),b+="\x3cspan\x3e"+
a+"\x3c/span\x3e");b+='\x3cdiv class\x3d"u-textColorNormal stats-description"\x3e'+z.A($3a())+"\x3c/div\x3e";return(0,z.y)(b)},m4a=function(a){var b="",c=z.n("Minutes read"),b=b+("\x3ch2\x3e"+z.A(z.vh(Number(a.readingTime)))+"\x3c/h2\x3e\x3cstrong\x3e"+c+"\x3c/strong\x3e \x3cspan\x3e("+z.A(a.date)+')\x3c/span\x3e\x3cdiv class\x3d"u-textColorNormal stats-description"\x3e'+z.A($3a())+"\x3c/div\x3e");return(0,z.y)(b)},i4a=function(a){a=a||{};var b="",c=z.n("Visitors"),d=a.UR&&a.Vj,b=b+((d?"\x3ch2\x3e"+
z.A(z.vh(Number(a.UR)))+"\x3c/h2\x3e":'\x3ch2 class\x3d"u-textColorNormal"\x3e…\x3c/h2\x3e')+"\x3cstrong "+(d?"":'class\x3d"u-textColorNormal"')+"\x3e"+c+"\x3c/strong\x3e");d&&(a=z.n(" ({$days}-day average)",{days:z.A(a.Vj)}),b+="\x3cspan\x3e"+a+"\x3c/span\x3e");b+='\x3cdiv class\x3d"u-textColorNormal stats-description"\x3e'+z.A(b4a())+"\x3c/div\x3e";return(0,z.y)(b)},n4a=function(a){var b="",c=z.n("Visitors"),b=b+("\x3ch2\x3e"+z.A(z.vh(Number(a.UR)))+"\x3c/h2\x3e\x3cstrong\x3e"+c+"\x3c/strong\x3e \x3cspan\x3e("+
z.A(a.date)+')\x3c/span\x3e\x3cdiv class\x3d"u-textColorNormal stats-description"\x3e'+z.A(b4a())+"\x3c/div\x3e");return(0,z.y)(b)},f7=function(a){var b="",c=z.n("90 days"),d=z.n("30 days"),b=b+('\x3cdiv class\x3d"u-paddingBottom10"\x3e'+z.A(z.eP({ee:!0,yb:!0,l:"heading--stats",Hj:(0,z.N)(""+z.A(z.dP({s:(0,z.N)(""+d),action:"select-time",actionValue:"month",isActive:!0,l:"u-fontSize16 js-time-month"},a))+z.A(z.dP({s:(0,z.N)(""+c),action:"select-time",actionValue:"threeMonths",l:"u-fontSize16 js-time-threeMonths"},
a)))}))+"\x3c/div\x3e");return(0,z.y)(b)},p4a=function(a,b,c){b="";var d=z.n("Next 30 days"),e=z.n("Prev 30 days"),g=z.n("(30 days)");b+=(c.useragent.isNative?"":z.A(z.Hz(z.C({rd:c.variants.enable_left_aligned_logo_and_topic_metabar,yd:c.variants.enable_left_aligned_logo_and_topic_metabar,xd:c.variants.enable_left_aligned_logo_and_topic_metabar,Ed:c.variants.enable_left_aligned_logo_and_topic_metabar,fe:c.variants.enable_left_aligned_logo_and_topic_metabar},a),c)))+(a.collection?z.A(e4a(a)):"")+'\x3cdiv class\x3d"container stats u-maxWidth1040"\x3e\x3cdiv class\x3d"u-backgroundWhite"\x3e';
if(a.collection)b+=z.A(f4a({collection:a.collection,selected:"stories"},c));else{var k=z.n("Click story below to view in chart");b+='\x3ch1 class\x3d"stats-title stats-title--page"\x3eStats\x3c/h1\x3e\x3cdiv class\x3d"stats-title stats-title--chart u-clearfix"\x3e\x3cdiv class\x3d"stats-titleInner stats-titleInner--all"\x3e\x3ch2 class\x3d"stats-titleHeading stats-titleHeading--all"\x3e\x3c/h2\x3e\x3cdiv class\x3d"chartHelper"\x3e'+k+z.A(k4a(a,c))+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"}b+='\x3cul class\x3d"chartTabs u-clearfix"\x3e';
g=(0,z.N)('\x3cspan class\x3d"u-fontWeightNormal u-xs-hide"\x3e '+g+"\x3c/span\x3e");a.oC[c.j.zE.sL]&&(k=z.n("Views {$timeRange}",{timeRange:z.A(g)}),b+='\x3cli class\x3d"is-active" data-action\x3d"switch-graph" data-action-value\x3d"views"\x3e\x3cdiv class\x3d"chartTab"\x3e\x3cdiv class\x3d"stats-totalNumber js-totalViews"\x3e\x3c/div\x3e\x3cdiv\x3e'+k+"\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e");a.oC[c.j.zE.YK]&&(k=z.n("Reads {$timeRange}",{timeRange:z.A(g)}),b+='\x3cli data-action\x3d"switch-graph" data-action-value\x3d"reads"\x3e\x3cdiv class\x3d"chartTab"\x3e\x3cdiv class\x3d"stats-totalNumber js-totalReads"\x3e\x3c/div\x3e\x3cdiv\x3e'+
k+"\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e");a.oC[c.j.zE.Ria]&&(k=z.n("Fans {$timeRange}",{timeRange:z.A(g)}),b+='\x3cli data-action\x3d"switch-graph" data-action-value\x3d"fans"\x3e\x3cdiv class\x3d"chartTab"\x3e\x3cdiv class\x3d"stats-totalNumber js-totalFans"\x3e\x3c/div\x3e\x3cdiv\x3e'+k+"\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e");a.oC[c.j.zE.hla]&&(k=z.n("Subscribers {$timeRange}",{timeRange:z.A(g)}),b+='\x3cli data-action\x3d"switch-graph" data-action-value\x3d"subscribers"\x3e\x3cdiv class\x3d"chartTab"\x3e\x3cdiv class\x3d"stats-totalNumber js-totalSubscribers"\x3e\x3c/div\x3e\x3cdiv\x3e'+
k+"\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e");a.oC[c.j.zE.nK]&&(g=z.n("Claps {$timeRange}",{timeRange:z.A(g)}),b+='\x3cli data-action\x3d"switch-graph" data-action-value\x3d"claps"\x3e\x3cdiv class\x3d"chartTab"\x3e\x3cdiv class\x3d"stats-totalNumber js-totalClaps"\x3e\x3c/div\x3e\x3cdiv\x3e'+g+"\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e");g=a.postStats&&0==a.postStats.length;b+='\x3c/ul\x3e\x3cdiv class\x3d"bargraph"\x3e\x3c/div\x3e\x3cdiv class\x3d"chartPage"\x3e';d=z.A(z.xk({action:"show-graph-previous",ca:!0,
l:"js-showPreviousButton",text:(0,z.N)(""+e),icon:(0,z.N)(""+z.A(z.Hj(null))),isDisabled:g},c))+'\x3cspan class\x3d"chartPage-verticalDivider"\x3e\x3c/span\x3e'+z.A(z.xk({action:"show-graph-next",ca:!0,l:"js-showNextButton",text:(0,z.N)(""+d),icon:(0,z.N)(""+z.A(z.Jj(null))),isDisabled:g,Td:!0},c))+"\x3c/div\x3e";if(a.collection)e="";else{var e="",g=z.n("Series"),k=z.n("Responses"),l=z.n("Stories"),l=(0,z.N)(""+l),p;p=(0,z.li)(z.G(z.ni(c,"USER_STATS",null,null,a.username)));l=""+z.A(z.dP({s:l,href:(0,z.M)(""+
z.G(p)),isActive:"stories"==a.activeTab||!a.activeTab,l:"u-fontSize16"},c));k=(0,z.N)(""+k);p=(0,z.li)(z.G(z.ni(c,"USER_STATS_RESPONSES",null,null,a.username)));k=l+z.A(z.dP({s:k,href:(0,z.M)(""+z.G(p)),isActive:"responses"==a.activeTab,l:"u-fontSize16"},c));g=(0,z.N)(""+g);l=(0,z.li)(z.G(z.ni(c,"USER_STATS_SERIES",null,null,a.username)));e+=z.A(z.eP({ee:!0,GC:!0,Hj:(0,z.N)(k+z.A(z.dP({s:g,href:(0,z.M)(""+z.G(l)),isActive:"series"==a.activeTab,l:"u-fontSize16"},c)))}));e=(0,z.y)(e)}d=d+e+'\x3cdiv class\x3d"sortableTableWrapper"\x3e';
e="";a.postStats&&0==a.postStats.length?(e+='\x3ch1 class\x3d"stats stats--noPosts"\x3e',a="responses"==a.activeTab?z.n("There are no published responses for which you can view stats."):z.n("There are no published stories for which you can view stats."),e+=a,e+="\x3c/h1\x3e"):a.postStats&&(g=z.n("Date"),e+='\x3ctable class\x3d"sortableTable js-statsTable"\x3e\x3cthead class\x3d"sortableTableHeaders"\x3e\x3ctr\x3e'+g7({name:(0,z.N)(""+g),qv:"date",ICa:!0},c),a.Er[c.j.Ql.sL]&&(g=z.n("Views"),e+=g7({name:(0,z.N)(""+
g),qv:"views",l:(null==a.postStats?0:null==a.postStats[0]?0:a.postStats[0].isSeries)?"u-invisible":""},c)),a.Er[c.j.Ql.YK]&&(g=z.n("Reads"),e+=g7({name:(0,z.N)(""+g),qv:"reads"},c)),a.Er[c.j.Ql.W5]&&(g=z.n("Read ratio"),e+=g7({name:(0,z.N)(""+g),qv:"readRatio"},c)),a.Er[c.j.Ql.Z5]&&(g=z.n("Fans"),e+=g7({name:(0,z.N)(""+g),qv:"recommends"},c)),a.Er[c.j.Ql.j6]&&(g=z.n("Subscribers"),e+=g7({name:(0,z.N)(""+g),qv:"updateNotificationSubscribers"},c)),a.Er[c.j.Ql.nK]&&(g=z.n("Claps"),e+=g7({name:(0,z.N)(""+
g),qv:"claps"},c)),e+='\x3c/tr\x3e\x3c/thead\x3e\x3ctbody class\x3d"js-statsTableBody"\x3e'+o4a(a,0,c)+"\x3c/tbody\x3e\x3c/table\x3e");a=(0,z.y)(e);return(0,z.y)(b+(d+a+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"))},q4a=function(a){return(0,z.y)(z.A(z.vh(Number(a.number))))},g7=function(a,b){var c="",d=z.n("Sort by"),e="sortableTable-header"+(a.ICa?" is-sorted":"")+(a.Uh?" sortableTable-header--withTooltip":"")+(a.l?" "+a.l:""),e=z.E(e);b='\x3cth class\x3d"'+z.F(e)+'"\x3e'+z.A(z.vk({ca:!0,s:a.name,action:"sort-table",
actionValue:a.qv,Zza:(0,z.N)(""+d),l:"js-"+a.qv},b));d={};d=(0,z.y)(z.Ej(z.C({name:"sortAscending",size:"19px",content:(0,z.N)('\x3csvg class\x3d"svgIcon-use" width\x3d"19" height\x3d"19" \x3e\x3cpath d\x3d"M5.4 11L4 9.667l5.517-6.11L15 9.597 13.6 11 9.5 6.8 5.4 11z"/\x3e\x3cpath d\x3d"M8.5 15.4h2v-9h-2z" fill-rule\x3d"evenodd"/\x3e\x3c/svg\x3e')},d)));b+=z.A(d);d={};d=(0,z.y)(z.Ej(z.C({name:"sortDescending",size:"19px",content:(0,z.N)('\x3csvg class\x3d"svgIcon-use" width\x3d"19" height\x3d"19" \x3e\x3cpath d\x3d"M5.4 8.4L4 9.733l5.517 6.11L15 9.803 13.6 8.4l-4.1 4.2-4.1-4.2z"/\x3e\x3cpath d\x3d"M8.5 4h2v9h-2z" fill-rule\x3d"evenodd"/\x3e\x3c/svg\x3e')},
d)));c+=b+z.A(d);a.Uh&&(b=z.n("What’s this?"),c+='\x3cdiv class\x3d"sortableTable-tip" data-tooltip-position\x3d"bottom" data-tooltip\x3d"'+z.F(a.Uh)+'"\x3e'+b+"\x3c/div\x3e");return(0,z.y)(c+"\x3c/th\x3e")},o4a=function(a,b,c){var d="";b=a.postStats.length;for(var e=0;e<b;e++){var g=a.postStats[e],k=a.postStats[e-1]||a.HEa,k=!g.firstPublishedAtBucket||k&&g.firstPublishedAtBucket==k.firstPublishedAtBucket?"":'\x3ctr class\x3d"sortableTable-row sortableTable-row--dateBucket"\x3e\x3ctd\x3e\x3cspan class\x3d"sortableTable-value"\x3e'+
z.A(g.firstPublishedAt)+"\x3c/span\x3e"+z.A(z.BO({title:(0,z.N)(""+z.A(g.firstPublishedAtBucket)),$f:!0,Nh:!0},c))+"\x3c/td\x3e\x3c/tr\x3e",l=g,p=a.Er,r=c,g="",t=z.n("Details"),w=""+z.G(z.iR({post:l,source:(0,z.N)(""+z.A(z.ji({name:r.j.Ib.yja})))},r)),w=(0,z.M)(w),g=g+('\x3ctr class\x3d"sortableTable-row js-statsTableRow" data-action-value\x3d"'+z.F(l.postId)+'" data-timestamp\x3d"'+z.F(l.createdAt)+'" \x3e\x3ctd class\x3d"sortableTable-rowTitle"\x3e\x3cspan class\x3d"sortableTable-value"\x3e'+z.A(l.firstPublishedAt)+
'\x3c/span\x3e\x3ca class\x3d"sortableTable-title" href\x3d"'+z.F(z.G(w))+'"\x3e'+z.A(l.title)+'\x3c/a\x3e\x3cspan class\x3d"sortableTable-text"\x3e');if(l.visibility==r.j.qb.sd)var D=z.n("Unlisted"),g=g+('\x3cspan class\x3d"sortableTable-text--visibility"\x3e'+z.A(z.kk({l:"u-verticalAlignMiddle u-marginTopNegative2"}))),H=""+z.A(z.gl()),H=(0,z.N)(H),g=g+('\x3cspan data-tooltip\x3d"'+z.F(H)+'" data-tooltip-position\x3d"bottom"\x3e '+D+'\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"middotDivider"\x3e\x3c/span\x3e');
g+='\x3cspan class\x3d"u-xs-hide"\x3e'+(l.readingTime?z.A(z.fm({readingTime:l.readingTime}))+'\x3cspan class\x3d"middotDivider"\x3e\x3c/span\x3e':"");l.collection&&l.collection.name&&(D=z.n("In "),g+="\x3cem\x3e"+D+"\x3c/em\x3e"+z.A(z.P({href:z.ni(r,"COLLECTION_HOME",null,l.collection),s:(0,z.N)(""+z.A(l.collection.name)),l:"sortableTable-link"},r))+'\x3cspan class\x3d"middotDivider"\x3e\x3c/span\x3e');var g=g+"\x3c/span\x3e",D=""+z.G(z.mi({post:l,collection:l.collection},0,r)),D=(0,z.M)(D),H="",
O=l.isSeries?z.n("View series"):z.n("View story"),H=H+O,g=g+z.A(z.P({href:D,s:(0,z.N)(H),l:"sortableTable-link"},r)),g=g+('\x3cspan class\x3d"middotDivider"\x3e\x3c/span\x3e'+z.A(z.P({href:w,s:(0,z.N)(""+t),l:"sortableTable-link"},r))+"\x3c/span\x3e\x3c/td\x3e"),t=l.views?l.views:0,w=l.reads?l.reads:0;p[r.j.Ql.sL]&&(g+="\x3ctd\x3e",l.isSeries||(g+='\x3cspan class\x3d"sortableTable-value"\x3e'+z.A(t)+'\x3c/span\x3e\x3cspan class\x3d"sortableTable-number" title\x3d"'+z.F(z.vh(Number(t)))+'"\x3e'+z.A(z.xh(Number(t)))+
(l.syndicatedViews&&l.syndicatedViews>=.1*t?'\x3cspan data-action\x3d"show-syndicated-views-popover" data-action-type\x3d"hover" class\x3d"sortableTable-extraNumber" title\x3d"'+z.F(z.vh(Number(l.syndicatedViews)))+'"\x3e'+z.A(z.xh(Number(l.syndicatedViews)))+"\x3c/span\x3e":"")+'\x3cspan class\x3d"u-sm-show"\x3e\x3cbr\x3e',D=1==t?z.n("view"):z.n("views"),g+=D,g+="\x3c/span\x3e\x3c/span\x3e"),g+="\x3c/td\x3e");p[r.j.Ql.YK]&&(g+='\x3ctd\x3e\x3cspan class\x3d"sortableTable-value"\x3e'+z.A(w)+'\x3c/span\x3e\x3cspan class\x3d"sortableTable-number" title\x3d"'+
z.F(z.vh(Number(w)))+'"\x3e'+z.A(z.xh(Number(w)))+'\x3cspan class\x3d"u-sm-show"\x3e\x3cbr\x3e',D=1==w?z.n("read"):z.n("reads"),g+=D,g+="\x3c/span\x3e\x3c/span\x3e\x3c/td\x3e");p[r.j.Ql.W5]&&(D=z.n("ratio"),g+='\x3ctd\x3e\x3cspan class\x3d"sortableTable-value"\x3e'+(0==t?"0":z.A(100*w/t))+'\x3c/span\x3e\x3cspan class\x3d"sortableTable-number"\x3e'+(0==t?"0":z.A(Math.round(100*w/t))+"%")+'\x3cspan class\x3d"u-sm-show"\x3e\x3cbr\x3e'+D+"\x3c/span\x3e\x3c/span\x3e\x3c/td\x3e");t=l.upvotes?l.upvotes:
0;p[r.j.Ql.Z5]&&(g+='\x3ctd\x3e\x3cspan class\x3d"sortableTable-value"\x3e'+z.A(t)+'\x3c/span\x3e\x3cspan class\x3d"sortableTable-number" title\x3d"'+z.F(z.vh(Number(t)))+'"\x3e'+z.A(z.xh(Number(t)))+'\x3cspan class\x3d"u-sm-show"\x3e\x3cbr\x3e',t=1==t?z.n("fan"):z.n("fans"),g+=t,g+="\x3c/span\x3e\x3c/span\x3e\x3c/td\x3e");t=l.updateNotificationSubscribers?l.updateNotificationSubscribers:0;p[r.j.Ql.j6]&&(g+='\x3ctd\x3e\x3cspan class\x3d"sortableTable-value"\x3e'+z.A(t)+'\x3c/span\x3e\x3cspan class\x3d"sortableTable-number" title\x3d"'+
z.F(z.vh(Number(t)))+'"\x3e'+z.A(t)+'\x3cspan class\x3d"u-sm-show"\x3e\x3cbr\x3e',t=1==t?z.n("subscriber"):z.n("subscribers"),g+=t,g+="\x3c/span\x3e\x3c/span\x3e\x3c/td\x3e");l=l.claps?l.claps:0;p[r.j.Ql.nK]&&(g+='\x3ctd\x3e\x3cspan class\x3d"sortableTable-value"\x3e'+z.A(l)+'\x3c/span\x3e\x3cspan class\x3d"sortableTable-number" title\x3d"'+z.F(z.vh(Number(l)))+'"\x3e'+z.A(l)+'\x3cspan class\x3d"u-sm-show"\x3e\x3cbr\x3e',p=1==l?z.n("clap"):z.n("claps"),g+=p,g+="\x3c/span\x3e\x3c/span\x3e\x3c/td\x3e");
g=(0,z.y)(g+"\x3c/tr\x3e");d+=k+g}return(0,z.y)(d)},r4a=function(){var a=z.n("Additional views from RSS readers, Facebook Instant Articles, and AMP. These views do not factor into read ratio.");return(0,z.y)(""+('\x3cdiv class\x3d"popover-description"\x3e'+a+"\x3c/div\x3e"))},h7=function(a){this.EL=a;this.Gqa={top:5,right:0,bottom:23,left:52};this.dra={top:5,right:0,bottom:0,left:0};this.u9=5;this.Zi=null;this.cU=[];this.np=this.Eo=0;var b=Y.time.format("%B %e");this.C7=function(a){return b(a).replace(/\s+/,
" ")};this.bV=function(a){var b=a.value,e=a.label;a=this.C7(new Date(a.time));return(0,z.y)(z.A(z.vh(Number(b)))+" "+z.A(e)+" on "+z.A(a))}.bind(this)},i7=function(a,b){a.Zi=a.EL.offsetHeight;var c=80<a.Zi,d=c?a.Gqa:a.dra;a.Zi=a.Zi-d.top-d.bottom;a.cU=b;a.np=a.EL.offsetWidth-d.left;a.Eo=a.np/30-3;a.iu=Y.time.scale().range([a.Eo/2,a.np-a.Eo/2]);a.Hg=Y.scale.Wp().range([a.Zi,0]);a.vba=Y.svg.axis().scale(a.iu).TQ("bottom").ph(3).Ps(a.C7);a.DZ=Y.svg.axis().scale(a.Hg).TQ("left").ph(5).Ps(z.xh);a.bu=Y.select(a.EL).append("svg").Ca("width",
a.np+d.left+d.right).Ca("height",a.Zi+d.top+d.bottom);a.bu=a.bu.append("g").Ca("transform","translate("+d.left+","+d.top+")");a.iu.domain(Y.sP(b,function(a){return a.time}));a.Hg.domain([0,Y.max(b,function(a){return a.value})]);c?(a.bu.append("g").Ca("class","bargraph-xAxis").Ca("transform","translate(0,"+a.Zi+")").call(a.vba),a.bu.append("g").Ca("class","bargraph-yAxis").call(a.DZ)):a.bu.append("g").Ca("class","bargraph-yAxis").Ca("transform","translate("+a.np+", 0)").call(a.DZ);a.bu.append("g").Ca("class",
"bargraph-gridLines").hg("line").data(a.Hg.ph(5)).Xj().append("line").Ca("class","bargraph-gridLine").Ca("x1",0).Ca("x2",a.np).Ca("y1",a.Hg).Ca("y2",a.Hg);a.bu.append("g").hg("rect").data(b).Xj().append("rect").Ca("class","bargraph-bar").Ca("x",function(a){return this.iu(a.time)-this.Eo/2}.bind(a)).Ca("width",a.Eo).Ca("y",function(a){return this.Hg(a.value)}.bind(a)).Ca("height",function(a){return this.Zi-this.Hg(a.value)}.bind(a)).Ca("data-tooltip",a.bV)},j7=function(a,b,c){z.uC.call(this,a,b,c);
this.Xa="all";this.hx="views ttr reads fans subscribers claps".split(" ");this.WU=this.hx[0];this.ix={};this.jH={};this.$k=a7(Date.now()-25056E5);this.Yl=Date.now();this.lb=a.get("dom-monitor");this.na=a.get("popover")},k7=function(a){z.v(z.u(z.u(z.vC(a,"request").get(a.AP()),a.$Z,a),a.sya,a),function(a){z.kx(a)})},m7=function(a){l7(a,".js-totalViews",a.ix.views);l7(a,".js-totalFans",a.ix.fans);l7(a,".js-totalMinRead",a.ix.mins);l7(a,".js-totalReads",a.ix.reads);l7(a,".js-totalSubscribers",a.ix.subscribers);
l7(a,".js-totalClaps",a.ix.claps)},l7=function(a,b,c){(a=a.query(b))&&z.qw(a,q4a,{number:Number(c)})},n7=function(a){a.query(".js-showPreviousButton").disabled="all"!==a.Xa&&a.$k<a.k$;a.query(".js-showNextButton").disabled=a.Yl>a7()},o7=function(a,b,c){z.Q.call(this);this.X=a;this.ha=a.get("butter-bar");this.aj=b;this.Qma=c;this.rt=this.ud=null;this.kO=s4a;this.jB=!1},v4a=function(a,b){a.kO==b.value?a.jB=!a.jB:(a.kO=b.value,a.jB=!1);var c=t4a(a,a.kO);if(-1!=c){a.query(".is-sorted")?z.be(a.query(".is-sorted"),
"is-sorted"):z.be(a.query(".is-reverseSorted"),"is-reverseSorted");b=a.cb(".sortableTableHeaders th")[c];a.jB?z.Vd(b,"is-reverseSorted"):z.Vd(b,"is-sorted");var d=a.U();z.de(d,"is-hidingBuckets",!(a.kO==u4a&&!a.jB));var e=function(b,c){var d=a.jB?-1:1;c=c[0];b=Z3a(b[0]);c=Z3a(c);return d*((0,window.parseFloat)(c)-(0,window.parseFloat)(b))};(0,z.pb)(d.tBodies,function(b){var k=(0,z.Pb)(b.rows,function(a,b){return[a.cells[c]?z.bS(a.cells[c].querySelector(".sortableTable-value")):"0",b,a]});z.kb(k,e.bind(a));
var l=b.nextSibling;d.removeChild(b);(0,z.pb)(k,function(a){b.appendChild(a[2])});d.insertBefore(b,l)})}},t4a=function(a,b){a=a.cb(".sortableTableHeaders th");var c=-1;(0,z.Pb)(a,function(a,e){a.querySelector("button")&&a.querySelector("button").getAttribute("data-action-value")==b&&(c=e)});return c},p7=function(a,b,c){j7.call(this,a,b,c);this.V=a.get("route-builder");this.fh=b.username?z.GR(b.username):z.ow().ek();this.Nw=null;this.Qa=a.get("screen-request");a=a.get("routeManager").Jg(b.path);a=
this.MY=a==z.Mya||a==z.Eu?"response":a==z.Nya||a==z.Fu?"series":"not-response";this.se="not-response"==a?"stories":"response"==a?"responses":"series"==a?"series":"stories"},q7=function(a){z.Q.call(this);this.Ha(a);this.EV=null;this.AV=!1;this.BV=this.kna=null},r7=function(a){z.L.call(this);this.C(a)},w4a=function(a){return z.$o.rb(r7,a)},s7=function(a){z.L.call(this);this.C(a)},x4a=function(a){return z.$o.rb(s7,a)},t7=function(a){z.Q.call(this);this.Ha(a);this.Yd=this.pH=this.yF=this.VO=null},u7=
function(a,b,c){t7.call(this,b);this.Z=a.get("request");this.V=a.get("route-builder");this.jg=c},v7=function(a,b,c){t7.call(this,b);this.Z=a.get("request");this.V=a.get("route-builder");this.jg=c},w7=function(a,b,c){t7.call(this,b);this.Z=a.get("request");this.V=a.get("route-builder");this.jg=c},y4a=function(a,b,c){var d=z.qb(c,function(a){return String(a.timeWindowStart)});return b7(a-864E5,b-864E5).map(function(a){var b=String(36E5*Math.floor(a/36E5)+864E5);return{value:d[b]?d[b].dailyUniqueVisitors:
0,time:a}})},x7=function(a,b,c){z.uC.call(this,a,b,c);this.wa=a.get("app");this.Va=null;this.Nb=b.collectionSlug;this.Ba=a.get("model-request");this.v$=null;this.V=a.get("route-builder");this.rba=this.oba=null},y7=function(a,b,c){j7.call(this,a,b,c);this.wa=a.get("app");this.Va=null;this.Me=z.Pq();this.fh=this.Me.username;this.Nb=b.collectionSlug;this.Ba=a.get("model-request");this.Z=a.get("request");this.V=a.get("route-builder");this.Qa=a.get("screen-request");this.SL=this.Nw=null;this.Gaa=S3a()};
z.q(T6,z.ei);T6.prototype.F=function(){return""};T6.prototype.J=function(){return""};T6.prototype.L=function(){return T6.prototype};T6.prototype.D={name:"PostStatsListResponse",N:!1,fields:{postStats:{name:"postStats",g:function(){return z.jM},ba:z.S,h:1},paging:{name:"paging",g:function(){return z.cq},h:2}},O:{}};z.m(U6,T6);U6.prototype.C=function(){this.XC=null;T6.prototype.C.call(this)};z.q(V6,z.uD);
V6.prototype.qs=function(a){var b=this.Ba;a.postStats=a.postStats||a.value&&a.value.postStats||a.value;a=b.ec(U6,a);return{response:a,items:a.postStats}};z.q(W6,z.ei);W6.prototype.F=function(){return""};W6.prototype.J=function(){return""};W6.prototype.L=function(){return W6.prototype};W6.prototype.D={name:"UserStatsPageResponse",Zp:"postStats",N:!1,fields:{postStats:{name:"postStats",g:function(){return z.jM},ba:z.S,h:1},paging:{name:"paging",g:function(){return z.cq},h:2}},O:{}};z.q(X6,z.ei);
z.f=X6.prototype;z.f.F=function(){return""};z.f.J=function(){return""};z.f.Jb=function(){return z.J(this,"collection")};z.f.L=function(){return X6.prototype};z.f.D={name:"CollectionStatsPageResponse",N:!1,fields:{collection:{name:"collection",g:function(){return z.Np},h:1},postStats:{name:"postStats",g:function(){return z.jM},ba:z.S,h:2},paging:{name:"paging",g:function(){return z.cq},h:3},updatedAt:{name:"updatedAt",g:z.V,h:4}},O:{}};z.m(Y6,W6);Y6.prototype.C=function(){this.XC=null;W6.prototype.C.call(this)};
z.m(Z6,X6);Z6.prototype.C=function(){this.XC=null;X6.prototype.C.call(this)};z.q($6,z.ei);z.f=$6.prototype;z.f.F=function(){return""};z.f.J=function(){return""};z.f.Jb=function(){return z.J(this,"collection")};z.f.L=function(){return $6.prototype};z.f.D={name:"CollectionStatsResponse",N:!1,fields:{collection:{name:"collection",g:function(){return z.Np},h:1},updatedAt:{name:"updatedAt",g:z.V,h:2}},O:{}};z.qG.prototype.$ga=z.X(609,function(){this.nO=!0;return this});
z.DD.prototype.f8=z.X(596,function(a,b,c){this.ka.fc(c);a=this.V.R(z.Du,{username:a},{filter:b});a=Q3a(this,a);z.vD(a,c.postStats,c.paging);c.XC=a;return c});z.DD.prototype.nC=z.X(595,function(a,b,c){c?z.Gd(this.Ba.e2(c)):R3a(this.Ba,a,b);return z.u(R3a(this.Ba,a,b),this.f8.bind(this,a,b))});z.QD.prototype.nC=z.X(594,function(a,b,c){var d=this.V.R(z.Du,{username:a},{filter:b});return z.RD(this,d,function(){return this.tb.nC(a,b,c)})});
z.DD.prototype.S7=z.X(593,function(a,b){this.ka.fc(b);a=this.V.R(z.mv,{collectionSlug:a});a=Q3a(this,a);z.vD(a,b.postStats,b.paging);b.XC=a;return b});z.DD.prototype.WB=z.X(592,function(a,b){b?b=z.Gd(this.Ba.X1(b)):(b=this.Ba,b=z.u(z.UD(b.Z,z.mv,{collectionSlug:a}),b.X1,b));return z.u(b,this.S7.bind(this,a))});z.QD.prototype.WB=z.X(591,function(a,b){var c=this.V.R(z.mv,{collectionSlug:a});return z.RD(this,c,function(){return this.tb.WB(a,b)})});
z.EA.prototype.pJ=z.X(583,function(a){return z.Goa(this,!1,a,function(a){return!this.IL[a]})});z.Px.prototype.e2=z.X(541,function(a){a.postStats=a.value||a.postStats;return this.ec(Y6,a)});z.Px.prototype.X1=z.X(540,function(a){a.postStats=a.value||a.postStats;return this.ec(Z6,a)});z.Px.prototype.W1=z.X(539,function(a){return this.ec($6,a)});z.ao.prototype.Wj=z.X(35,function(a){return Math.sqrt(z.vHa(this,a))});
z.ye.prototype.tha=z.X(4,function(){for(var a=new z.ye,b=0;b<this.Se.length;b++){var c=this.Se[b];a.set(this.Hm[c],c)}return a});var T3a=/^([-]?\d+\.?\d*)([K,M,G,T,P,k,m,u,n]?)[B]?$/;z.q(c7,z.L);z.f=c7.prototype;z.f.F=function(){return""};z.f.J=function(){return""};z.f.Aa=function(){return z.J(this,"postId")};z.f.Db=function(a){return z.K(this,"postId",a)};z.f.L=function(){return c7.prototype};
z.f.D={name:"HourlyPostStat",N:!1,fields:{postId:{name:"postId",g:z.U,h:1},acceptedAt:{name:"acceptedAt",g:z.V,h:2},collectedAt:{name:"collectedAt",g:z.V,h:3},flaggedSpam:{name:"flaggedSpam",g:z.V,h:4},followUpsCreated:{name:"followUpsCreated",isRemoved:z.S},loggedInReads:{name:"loggedInReads",isRemoved:z.S},loggedInReadsUnique:{name:"loggedInReadsUnique",isRemoved:z.S},loggedInViews:{name:"loggedInViews",isRemoved:z.S},loggedOutReads:{name:"loggedOutReads",isRemoved:z.S},loggedOutViews:{name:"loggedOutViews",
isRemoved:z.S},magnitude:{name:"magnitude",isRemoved:z.S},notesCreated:{name:"notesCreated",g:z.V,h:12},unflaggedSpam:{name:"unflaggedSpam",g:z.V,h:13},unvotes:{name:"unvotes",g:z.V,h:14},upvotes:{name:"upvotes",g:z.V,h:15},ttrMs:{name:"ttrMs",g:z.V,h:16},reads:{name:"reads",g:z.V,h:17},views:{name:"views",g:z.V,h:18},claps:{name:"claps",g:z.V,h:19},updateNotificationSubscribers:{name:"updateNotificationSubscribers",g:z.V,h:20},updateNotificationUnsubscribers:{name:"updateNotificationUnsubscribers",
g:z.V,h:21},internalReferrerViews:{name:"internalReferrerViews",g:z.V,h:22},friendsLinkViews:{name:"friendsLinkViews",g:z.V,h:23}},O:{}};z.q(d7,z.L);z.f=d7.prototype;z.f.F=function(){return""};z.f.J=function(){return""};z.f.$a=function(){return z.J(this,"userId")};z.f.nc=function(a){return z.K(this,"userId",a)};z.f.L=function(){return d7.prototype};
z.f.D={name:"HourlyUserStat",N:!1,fields:{userId:{name:"userId",g:z.U,h:1},flaggedSpam:{name:"flaggedSpam",g:z.V,h:2},followUpsCreated:{name:"followUpsCreated",isRemoved:z.S},loggedInReads:{name:"loggedInReads",isRemoved:z.S},loggedInReadsUnique:{name:"loggedInReadsUnique",isRemoved:z.S},loggedInViews:{name:"loggedInViews",isRemoved:z.S},loggedOutReads:{name:"loggedOutReads",isRemoved:z.S},loggedOutViews:{name:"loggedOutViews",isRemoved:z.S},notesCreated:{name:"notesCreated",g:z.V,h:9},timestampMs:{name:"timestampMs",
g:z.V,h:10},unflaggedSpam:{name:"unflaggedSpam",g:z.V,h:11},unvotes:{name:"unvotes",g:z.V,h:12},upvotes:{name:"upvotes",g:z.V,h:13},ttrMs:{name:"ttrMs",g:z.V,h:14},reads:{name:"reads",g:z.V,h:15},views:{name:"views",g:z.V,h:16},claps:{name:"claps",g:z.V,h:17},updateNotificationSubscribers:{name:"updateNotificationSubscribers",g:z.V,h:18},updateNotificationUnsubscribers:{name:"updateNotificationUnsubscribers",g:z.V,h:19}},O:{}};
var Y3a={"":1,n:1E-9,u:1E-6,m:.001,k:1E3,K:1E3,M:1E6,G:1E9,T:1E12,P:1E15},Y={};
(function(){function a(a,b){return nP.call(a,b)}function b(a,b){return b.querySelectorAll(a)}function c(a,b){return b.querySelector(a)}function d(){return Ea}function e(a){return Array.prototype.slice.call(a)}function g(a){for(var b=-1,c=a.length,d=[];++b<c;)d.push(a[b]);return d}function k(){}function l(a){return a}function p(){return this}function r(){return!0}function t(a){return"function"===typeof a?a:function(){return a}}function w(a,b,c){return function(){var d=c.apply(b,arguments);return arguments.length?
a:d}}function D(a){return null!=a&&!(0,window.isNaN)(a)}function H(a){return a.length}function O(a){return null==a}function R(){}function T(a){function b(){for(var d=c,e=-1,g=d.length,k;++e<g;)(k=d[e].H)&&k.apply(this,arguments);return a}var c=[],d=new k;b.H=function(b,e){var g=d.get(b),k;if(2>arguments.length)return g&&g.H;g&&(g.H=null,c=c.slice(0,k=c.indexOf(g)).concat(c.slice(k+1)),d.remove(b));e&&c.push(d.set(b,{H:e}));return a};return b}function W(a,b){return b-(a?1+Math.floor(Math.log(a+Math.pow(10,
1+Math.floor(Math.log(a)/Math.LN10)-b))/Math.LN10):1)}function Z(a){return a+""}function ya(a){for(var b=a.lastIndexOf("."),c=0<=b?a.substring(b):(b=a.length,""),d=[];0<b;)d.push(a.substring(b-=3,b+3));return d.reverse().join(",")+c}function nb(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function lb(a){return function(b){return 1-a(1-b)}}function Nb(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function Ea(a){return a}function dc(a){return function(b){return Math.pow(b,a)}}function Eb(a){return 1-
Math.cos(a*Math.PI/2)}function Fb(a){return Math.pow(2,10*(a-1))}function ec(a){return 1-Math.sqrt(1-a*a)}function Yc(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Sa(){Y.event.stopPropagation();Y.event.preventDefault()}function fd(){for(var a=Y.event,b;b=a.MFa;)a=b;return a}function Kb(a){for(var b=new R,c=0,d=arguments.length;++c<d;)b[arguments[c]]=T(b);b.of=function(c,d){return function(e){try{var g=
e.MFa=Y.event;e.target=a;Y.event=e;b[e.type].apply(c,d)}finally{Y.event=g}}};return b}function Qd(a){var b=[a.a,a.b],c=[a.c,a.d],d=Va(b),e=b[0]*c[0]+b[1]*c[1],g=-e;c[0]+=g*b[0];c[1]+=g*b[1];g=Va(c)||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1);this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Qo;this.translate=[a.e,a.f];this.scale=[d,g];this.J3=g?Math.atan2(e,g)*Qo:0}function Va(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);b&&(a[0]/=b,a[1]/=b);return b}function sc(a){return"transform"==
a?Y.RBa:Y.Pu}function Hb(a,b){b=b-(a=+a)?1/(b-a):0;return function(c){return(c-a)*b}}function Sd(a,b){b=b-(a=+a)?1/(b-a):0;return function(c){return Math.max(0,Math.min(1,(c-a)*b))}}function Hc(){}function id(a,b,c){return new mb(a,b,c)}function mb(a,b,c){this.r=a;this.Mn=b;this.b=c}function pc(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function Lc(a,b,c){var d=0,e=0,g=0,k,l;if(k=/([a-z]+)\((.*)\)/i.exec(a))switch(l=k[2].split(","),k[1]){case "hsl":return c((0,window.parseFloat)(l[0]),
(0,window.parseFloat)(l[1])/100,(0,window.parseFloat)(l[2])/100);case "rgb":return b(yd(l[0]),yd(l[1]),yd(l[2]))}if(c=Vz.get(a))return b(c.r,c.Mn,c.b);null!=a&&"#"===a.charAt(0)&&(4===a.length?(d=a.charAt(1),d+=d,e=a.charAt(2),e+=e,g=a.charAt(3),g+=g):7===a.length&&(d=a.substring(1,3),e=a.substring(3,5),g=a.substring(5,7)),d=(0,window.parseInt)(d,16),e=(0,window.parseInt)(e,16),g=(0,window.parseInt)(g,16));return b(d,e,g)}function od(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),g=
e-d,k=(e+d)/2;g?(d=.5>k?g/(e+d):g/(2-e-d),a=60*(a==e?(b-c)/g+(b<c?6:0):b==e?(c-a)/g+2:(a-b)/g+4)):d=a=0;return Bc(a,d,k)}function Tc(a,b,c){a=vb(a);b=vb(b);c=vb(c);var d=Mc((.2126729*a+.7151522*b+.072175*c)/OG);return new qc(116*d-16,500*(Mc((.4124564*a+.3575761*b+.1804375*c)/lP)-d),200*(d-Mc((.0193339*a+.119192*b+.9503041*c)/mP)))}function vb(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function yd(a){var b=(0,window.parseFloat)(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*
b):b}function Bc(a,b,c){return new Fa(a,b,c)}function Fa(a,b,c){this.gk=a;this.Py=b;this.Tc=c}function Rb(a,b,c){function d(a){360<a?a-=360:0>a&&(a+=360);return 60>a?e+(g-e)*a/60:180>a?g:240>a?e+(g-e)*(240-a)/60:e}var e,g;a%=360;0>a&&(a+=360);b=0>b?0:1<b?1:b;c=0>c?0:1<c?1:c;g=.5>=c?c*(1+b):c+b-c*b;e=2*c-g;return id(Math.round(255*d(a+120)),Math.round(255*d(a)),Math.round(255*d(a-120)))}function hc(a,b,c){this.gk=a;this.c=b;this.Tc=c}function ic(a,b,c){var d=Math.cos(a*=Math.PI/180)*b;return new qc(c,
d,Math.sin(a)*b)}function qc(a,b,c){this.Tc=a;this.a=b;this.b=c}function Uc(a,b,c){a=(a+16)/116;c=a-c/200;b=$c(a+b/500)*lP;a=$c(a)*OG;c=$c(c)*mP;return id(Vc(3.2404542*b-1.5371385*a-.4985314*c),Vc(-.969266*b+1.8760108*a+.041556*c),Vc(.0556434*b-.2040259*a+1.0572252*c))}function Hd(a,b,c){return new hc(Math.atan2(c,b)/Math.PI*180,Math.sqrt(b*b+c*c),a)}function $c(a){return.206893034<a?a*a*a:(a-4/29)/7.787037}function Mc(a){return.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function Vc(a){return Math.round(255*
(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function Ob(a){qv(a,md);return a}function jd(a){return function(){return c(a,this)}}function Id(a){return function(){return b(a,this)}}function Me(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.lq,a.local)}function e(){this.setAttribute(a,b)}function g(){this.setAttributeNS(a.lq,a.local,b)}function k(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function l(){var c=b.apply(this,
arguments);null==c?this.removeAttributeNS(a.lq,a.local):this.setAttributeNS(a.lq,a.local,c)}a=Y.QC.mJ(a);return null==b?a.local?d:c:"function"===typeof b?a.local?l:k:a.local?g:e}function he(a){return new RegExp("(?:^|\\s+)"+Y.mga(a)+"(?:\\s+|$)","g")}function ad(a,b){function c(){for(var d=-1;++d<e;)a[d](this,b)}function d(){for(var c=-1,g=b.apply(this,arguments);++c<e;)a[c](this,g)}a=a.trim().split(/\s+/).map(tb);var e=a.length;return"function"===typeof b?d:c}function tb(a){var b=he(a);return function(c,
d){var e;if(e=c.classList)return d?e.add(a):e.remove(a);e=c.className;var g=null!=e.baseVal,k=g?e.baseVal:e;d?(b.lastIndex=0,b.test(k)||(k=(k+" "+a).trim().replace(/\s+/g," "),g?e.baseVal=k:c.className=k)):k&&(k=k.replace(b," ").trim().replace(/\s+/g," "),g?e.baseVal=k:c.className=k)}}function Ae(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function g(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==
b?d:"function"===typeof b?g:e}function kd(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"===typeof b?e:d}function Jb(b){return function(){return a(this,b)}}function Yd(a){arguments.length||(a=Y.GH);return function(b,c){return a(b&&b.__data__,c&&c.__data__)}}function ef(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.n4),delete this[g])}function e(){function k(a){var c=
Y.event;Y.event=a;p[0]=l.__data__;try{b.apply(l,p)}finally{Y.event=c}}var l=this,p=arguments;d.call(this);this.addEventListener(a,this[g]=k,k.n4=c);k.df=b}var g="__on"+a,k=a.indexOf(".");0<k&&(a=a.substring(0,k));return b?e:d}function zd(a,b){for(var c=0,d=a.length;c<d;c++)for(var e=a[c],g=0,k=e.length,l;g<k;g++)(l=e[g])&&b(l,g,c);return a}function Cb(a){qv(a,So);return a}function ie(a,b,c){qv(a,Ch);var d=new k,e=Y.zca("start","end"),g=To;a.id=b;a.time=c;a.vv=function(b,c){if(2>arguments.length)return d.get(b);
null==c?d.remove(b):d.set(b,c);return a};a.zp=function(b){if(!arguments.length)return g;g="function"===typeof b?b:Y.zp.apply(Y,arguments);return a};a.Ig=function(b,c){if(2>arguments.length)return re.call(a,b);e.H(b,c);return a};Y.TJ(function(k){return zd(a,function(a,l){function p(g){if(H.active>b)return r();H.active=b;d.forEach(function(b,c){(c=c.call(a,O,l))&&t.push(c)});e.start.call(a,O,l);jb(g)||Y.TJ(jb,0,c);return 1}function jb(c){if(H.active!==b)return r();c=(c-w)/D;for(var d=g(c),k=t.length;0<
k;)t[--k].call(a,d);if(1<=c)return r(),mn=b,e.end.call(a,O,l),mn=0,1}function r(){--H.count||delete a.qT;return 1}var t=[],w=a.gh,D=a.duration,H=(a=a.node).qT||(a.qT={active:0,count:0}),O=a.__data__;++H.count;w<=k?p(k):Y.TJ(p,w,c)})},0,c);return a}function re(a){var b=mn,c=To,d=Vq,e=lj;mn=this.id;To=this.zp();zd(this,function(b,c,d){Vq=b.gh;lj=b.duration;a.call(b=b.node,b.__data__,c,d)});mn=b;To=c;Vq=d;lj=e;return this}function bb(a,b,c){return""!=c&&xv}function Zd(){for(var a,b=Date.now(),c=Wq;c;)a=
b-c.then,a>=c.gh&&(c.flush=c.callback(a)),c=c.next;a=Ne()-b;24<a?((0,window.isFinite)(a)&&((0,window.clearTimeout)(yv),yv=(0,window.setTimeout)(Zd,a)),Yz=0):(Yz=1,oP(Zd))}function Ne(){for(var a=null,b=Wq,c=window.Infinity;b;)b.flush?(delete PG[b.callback.id],b=a?a.next=b.next:Wq=b.next):(c=Math.min(c,b.then+b.gh),b=(a=b).next);return c}function Oe(a,b){var c=a.YYa||a;if(c.Tza){var d=c.Tza();if(0>Zz&&(window.scrollX||window.scrollY)){var c=Y.select(window.document.body).append("svg").style("position",
"absolute").style("top",0).style("left",0),e=c[0][0].NAa();Zz=!(e.f||e.e);c.remove()}Zz?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY);d=d.mYa(a.NAa().inverse());return[d.x,d.y]}c=a.getBoundingClientRect();return[b.clientX-c.left-a.clientLeft,b.clientY-c.top-a.clientTop]}function $d(a){var b=a[0];a=a[a.length-1];return b<a?[b,a]:[a,b]}function Ad(a){return a.gga?a.gga():$d(a.range())}function Pc(a,b){var c=0,d=a.length-1,e=a[c],g=a[d],k;g<e&&(k=c,c=d,d=k,k=e,e=g,g=k);if(b=b(g-e))a[c]=b.floor(e),
a[d]=b.ceil(g);return a}function db(){return Math}function ae(a,b,c,d){function e(){var p=2<Math.min(a.length,b.length)?bd:Qe,r=d?Sd:Hb;k=p(a,b,r,c);l=p(b,a,r,Y.Pu);return g}function g(a){return k(a)}var k,l;g.Yf=function(a){return l(a)};g.domain=function(b){if(!arguments.length)return a;a=b.map(Number);return e()};g.range=function(a){if(!arguments.length)return b;b=a;return e()};g.AZa=function(a){return g.range(a).Pu(Y.PBa)};g.Gh=function(a){if(!arguments.length)return d;d=a;return e()};g.Pu=function(a){if(!arguments.length)return c;
c=a;return e()};g.ph=function(b){return ib(a,b)};g.Ps=function(b){return tc(a,b)};g.I1=function(){Pc(a,se);return e()};g.Di=function(){return ae(a,b,c,d)};return e()}function Pe(a,b){return Y.ev(a,b,"range","rangeRound","interpolate","clamp")}function se(a){return(a=Math.pow(10,Math.round(Math.log(a)/Math.LN10)-1))&&{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}}function zb(a,b){a=$d(a);var c=a[1]-a[0],d=Math.pow(10,Math.floor(Math.log(c/b)/Math.LN10));b=b/
c*d;.15>=b?d*=10:.35>=b?d*=5:.75>=b&&(d*=2);a[0]=Math.ceil(a[0]/d)*d;a[1]=Math.floor(a[1]/d)*d+.5*d;a[2]=d;return a}function ib(a,b){return Y.range.apply(Y,zb(a,b))}function tc(a,b){return Y.format(",."+Math.max(0,-Math.floor(Math.log(zb(a,b)[2])/Math.LN10+.01))+"f")}function Qe(a,b,c,d){var e=c(a[0],a[1]),g=d(b[0],b[1]);return function(a){return g(e(a))}}function bd(a,b,c,d){var e=[],g=[],k=0,l=Math.min(a.length,b.length)-1;a[l]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());for(;++k<=l;)e.push(c(a[k-
1],a[k])),g.push(d(b[k-1],b[k]));return function(b){var c=Y.nu(a,b,1,l)-1;return g[c](e[c](b))}}function ff(a,b){function c(d){return a(b(d))}var d=b.pow;c.Yf=function(b){return d(a.Yf(b))};c.domain=function(e){if(!arguments.length)return a.domain().map(d);b=0>e[0]?Jd:je;d=b.pow;a.domain(e.map(b));return c};c.I1=function(){a.domain(Pc(a.domain(),db));return c};c.ph=function(){var c=$d(a.domain()),e=[];if(c.every(window.isFinite)){var g=Math.floor(c[0]),k=Math.ceil(c[1]),l=d(c[0]),c=d(c[1]);if(b===
Jd)for(e.push(d(g));g++<k;)for(var p=9;0<p;p--)e.push(d(g)*p);else{for(;g<k;g++)for(p=1;10>p;p++)e.push(d(g)*p);e.push(d(g))}for(g=0;e[g]<l;g++);for(k=e.length;e[k-1]>c;k--);e=e.slice(g,k)}return e};c.Ps=function(a,e){2>arguments.length&&(e=Q1);if(1>arguments.length)return e;var g,k=Math.max(.1,a/c.ph().length),l=b===Jd?(g=-1E-12,Math.floor):(g=1E-12,Math.ceil);return function(a){return a/d(l(b(a)+g))<=k?e(a):""}};c.Di=function(){return ff(a.Di(),b)};return Pe(c,a)}function je(a){return Math.log(0>
a?0:a)/Math.LN10}function Jd(a){return-Math.log(0<a?0:-a)/Math.LN10}function cd(a,b){function c(b){return a(d(b))}var d=Kd(b),e=Kd(1/b);c.Yf=function(b){return e(a.Yf(b))};c.domain=function(b){if(!arguments.length)return a.domain().map(e);a.domain(b.map(d));return c};c.ph=function(a){return ib(c.domain(),a)};c.Ps=function(a){return tc(c.domain(),a)};c.I1=function(){return c.domain(Pc(c.domain(),se))};c.vAa=function(a){if(!arguments.length)return b;var g=c.domain();d=Kd(b=a);e=Kd(1/b);return c.domain(g)};
c.Di=function(){return cd(a.Di(),b)};return Pe(c,a)}function Kd(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function ub(a,b){function c(b){return g[((e.get(b)||e.set(b,a.push(b)))-1)%g.length]}function d(b,c){return Y.range(a.length).map(function(a){return b+c*a})}var e,g,l;c.domain=function(d){if(!arguments.length)return a;a=[];e=new k;for(var g=-1,l=d.length,p;++g<l;)e.has(p=d[g])||e.set(p,a.push(p));return c[b.t].apply(c,b.a)};c.range=function(a){if(!arguments.length)return g;
g=a;l=0;b={t:"range",a:arguments};return c};c.zZa=function(e,k){2>arguments.length&&(k=0);var p=e[0],r=e[1],t=(r-p)/(Math.max(1,a.length-1)+k);g=d(2>a.length?(p+r)/2:p+t*k/2,t);l=0;b={t:"rangePoints",a:arguments};return c};c.yZa=function(e,k,p){2>arguments.length&&(k=0);3>arguments.length&&(p=k);var r=e[1]<e[0],t=e[r-0],w=(e[1-r]-t)/(a.length-k+2*p);g=d(t+w*p,w);r&&g.reverse();l=w*(1-k);b={t:"rangeBands",a:arguments};return c};c.BZa=function(e,k,p){2>arguments.length&&(k=0);3>arguments.length&&(p=
k);var r=e[1]<e[0],t=e[r-0],w=e[1-r],We=Math.floor((w-t)/(a.length-k+2*p));g=d(t+Math.round((w-t-(a.length-k)*We)/2),We);r&&g.reverse();l=Math.round(We*(1-k));b={t:"rangeRoundBands",a:arguments};return c};c.SEa=function(){return l};c.gga=function(){return $d(b.a[0])};c.Di=function(){return ub(a,b)};return c.domain(a)}function te(a,b){function c(){var g=0,k=b.length;for(e=[];++g<k;)e[g-1]=Y.r2(a,g/k);return d}function d(a){return(0,window.isNaN)(a=+a)?window.NaN:b[Y.nu(e,a)]}var e;d.domain=function(b){if(!arguments.length)return a;
a=b.filter(function(a){return!(0,window.isNaN)(a)}).sort(Y.GH);return c()};d.range=function(a){if(!arguments.length)return b;b=a;return c()};d.vZa=function(){return e};d.Di=function(){return te(a,b)};return c()}function Cc(a,b,c){function d(b){return c[Math.max(0,Math.min(k,Math.floor(g*(b-a))))]}function e(){g=c.length/(b-a);k=c.length-1;return d}var g,k;d.domain=function(c){if(!arguments.length)return[a,b];a=+c[0];b=+c[c.length-1];return e()};d.range=function(a){if(!arguments.length)return c;c=
a;return e()};d.Di=function(){return Cc(a,b,c)};return e()}function Bd(a,b){function c(d){return b[Y.nu(a,d)]}c.domain=function(b){if(!arguments.length)return a;a=b;return c};c.range=function(a){if(!arguments.length)return b;b=a;return c};c.Di=function(){return Bd(a,b)};return c}function ke(a){function b(a){return+a}b.Yf=b;b.domain=b.range=function(c){if(!arguments.length)return a;a=c.map(b);return b};b.ph=function(b){return ib(a,b)};b.Ps=function(b){return tc(a,b)};b.Di=function(){return ke(a)};
return b}function le(a){return a.Rda}function Ld(a){return a.Mfa}function Re(a){return a.$y}function Td(a){return a.Nx}function Ff(a){function b(k){function p(){r.push("M",g(a($b),l))}for(var r=[],$b=[],w=-1,D=k.length,oj,H=t(c),O=t(d);++w<D;)e.call(this,oj=k[w],w)?$b.push([+H.call(this,oj,w),+O.call(this,oj,w)]):$b.length&&(p(),$b=[]);$b.length&&p();return r.length?r.join(""):null}var c=Vb,d=Dc,e=r,g=Wc,k=g.key,l=.7;b.x=function(a){if(!arguments.length)return c;c=a;return b};b.y=function(a){if(!arguments.length)return d;
d=a;return b};b.cAa=function(a){if(!arguments.length)return e;e=a;return b};b.Pu=function(a){if(!arguments.length)return k;k="function"===typeof a?g=a:(g=SG.get(a)||Wc).key;return b};b.YFa=function(a){if(!arguments.length)return l;l=a;return b};return b}function Vb(a){return a[0]}function Dc(a){return a[1]}function Wc(a){return a.join("L")}function xf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function pd(a){for(var b=0,c=a.length,
d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function Md(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return Wc(a);var c=a.length!=b.length,d="",e=a[0],g=a[1],k=b[0],l=k,p=1;c&&(d+="Q"+(g[0]-2*k[0]/3)+","+(g[1]-2*k[1]/3)+","+g[0]+","+g[1],e=a[1],p=2);if(1<b.length)for(l=b[1],g=a[p],p++,d+="C"+(e[0]+k[0])+","+(e[1]+k[1])+","+(g[0]-l[0])+","+(g[1]-l[1])+","+g[0]+","+g[1],e=2;e<b.length;e++,p++)g=a[p],l=b[e],d+="S"+(g[0]-l[0])+","+(g[1]-l[1])+","+
g[0]+","+g[1];c&&(a=a[p],d+="Q"+(g[0]+2*l[0]/3)+","+(g[1]+2*l[1]/3)+","+a[0]+","+a[1]);return d}function Be(a,b){var c=[];b=(1-b)/2;for(var d,e=a[0],g=a[1],k=1,l=a.length;++k<l;)d=e,e=g,g=a[k],c.push([b*(g[0]-d[0]),b*(g[1]-d[1])]);return c}function gf(a){if(3>a.length)return Wc(a);var b=1,c=a.length,d=a[0],e=d[0],g=d[1],k=[e,e,e,(d=a[1])[0]],l=[g,g,g,d[1]],e=[e,",",g];for(qd(e,k,l);++b<c;)d=a[b],k.shift(),k.push(d[0]),l.shift(),l.push(d[1]),qd(e,k,l);for(b=-1;2>++b;)k.shift(),k.push(d[0]),l.shift(),
l.push(d[1]),qd(e,k,l);return e.join("")}function uc(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function qd(a,b,c){a.push("C",uc(TG,b),",",uc(TG,c),",",uc(nn,b),",",uc(nn,c),",",uc(Vo,b),",",uc(Vo,c))}function Se(a,b){return(b[1]-a[1])/(b[0]-a[0])}function Qg(a){for(var b,c=-1,d=a.length,e,g;++c<d;)b=a[c],e=b[0],g=b[1]+Uo,b[0]=e*Math.cos(g),b[1]=e*Math.sin(g);return a}function rg(a){function b(p){function r(){$b.push("M",l(a(O),H),D,w(a(Xo.reverse()),H),"Z")}for(var $b=[],Xo=[],O=[],R=-1,
T=p.length,W,Z=t(c),hA=t(e),X1=c===d?function(){return Ea}:t(d),ya=e===g?function(){return Sa}:t(g),Ea,Sa;++R<T;)k.call(this,W=p[R],R)?(Xo.push([Ea=+Z.call(this,W,R),Sa=+hA.call(this,W,R)]),O.push([+X1.call(this,W,R),+ya.call(this,W,R)])):Xo.length&&(r(),Xo=[],O=[]);Xo.length&&r();return $b.length?$b.join(""):null}var c=Vb,d=Vb,e=0,g=Dc,k=r,l=Wc,p=l.key,w=l,D="L",H=.7;b.x=function(a){if(!arguments.length)return d;c=d=a;return b};b.Kha=function(a){if(!arguments.length)return c;c=a;return b};b.Lha=
function(a){if(!arguments.length)return d;d=a;return b};b.y=function(a){if(!arguments.length)return g;e=g=a;return b};b.m4=function(a){if(!arguments.length)return e;e=a;return b};b.Mha=function(a){if(!arguments.length)return g;g=a;return b};b.cAa=function(a){if(!arguments.length)return k;k=a;return b};b.Pu=function(a){if(!arguments.length)return p;p="function"===typeof a?l=a:(l=SG.get(a)||Wc).key;w=l.reverse||l;D=l.closed?"M":"L";return b};b.YFa=function(a){if(!arguments.length)return H;H=a;return b};
return b}function ch(a){return a.source}function Rg(a){return a.target}function rd(a){return a.s2}function rc(a){return[a.x,a.y]}function sg(a){return function(){var b=a.apply(this,arguments),c=b[0],b=b[1]+Uo;return[c*Math.cos(b),c*Math.sin(b)]}}function Te(){return 64}function tg(){return"circle"}function Ug(a){a=Math.sqrt(a/Math.PI);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function Ce(a,b){a.Ca("transform",function(a){return"translate("+b(a)+",0)"})}function Wj(a,b){a.Ca("transform",
function(a){return"translate(0,"+b(a)+")"})}function fh(a,b,c){var d=[];if(c&&1<b.length){a=$d(a.domain());for(var e=-1,g=b.length,k=(b[1]-b[0])/++c,l,p;++e<g;)for(l=c;0<--l;)(p=+b[e]-l*k)>=a[0]&&d.push(p);--e;for(l=0;++l<c&&(p=+b[e]+l*k)<a[1];)d.push(p)}return d}function Th(){Xq||(Xq=Y.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var a=Y.event,b;try{Xq.scrollTop=
1E3,Xq.dispatchEvent(a),b=1E3-Xq.scrollTop}catch(c){b=a.wheelDelta||5*-a.detail}return b}function Uh(a){var b=a.source;a=a.target;var c;var d=a;if(b===d)c=b;else{c=yh(b);for(var d=yh(d),e=c.pop(),g=d.pop(),k=null;e===g;)k=e,e=c.pop(),g=d.pop();c=k}for(d=[b];b!==c;)b=b.parent,d.push(b);for(b=d.length;a!==c;)d.splice(b,0,a),a=a.parent;return d}function yh(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;b.push(a);return b}function Xj(a){a.fixed|=2}function Yj(a){a.fixed&=1}function Jk(a){a.fixed|=
4}function Vh(a){a.fixed&=3}function yi(a,b,c){var d=0,e=0;a.charge=0;if(!a.XI)for(var g=a.av,k=g.length,l=-1,p;++l<k;)p=g[l],null!=p&&(yi(p,b,c),a.charge+=p.charge,d+=p.charge*p.oca,e+=p.charge*p.pca);a.point&&(a.XI||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5),b*=c[a.point.index],a.charge+=a.DEa=b,d+=b*a.point.x,e+=b*a.point.y);a.oca=d/a.charge;a.pca=e/a.charge}function Ml(){return 20}function Vm(){return 1}function dj(a){return a.x}function ej(a){return a.y}function Zj(a,b,c){a.m4=
b;a.y=c}function Nl(a){return Y.range(a.length)}function fj(a){var b=-1;a=a[0].length;for(var c=[];++b<a;)c[b]=0;return c}function zh(a){for(var b=1,c=0,d=a[0][1],e,g=a.length;b<g;++b)(e=a[b][1])>d&&(c=b,d=e);return c}function gh(a){return a.reduce(Kk,0)}function Kk(a,b){return a+b[1]}function ak(a,b){return Ol(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function Ol(a,b){var c=-1,d=+a[0];a=(a[1]-d)/b;for(var e=[];++c<=b;)e[c]=a*c+d;return e}function Wh(a){return[Y.min(a),Y.max(a)]}function Lk(a,b){Y.ev(a,
b,"sort","children","value");a.links=gj;a.av=function(b){Av=!0;return(a.av=a)(b)};return a}function yo(a){return a.children}function hh(a){return a.value}function Mk(a,b){return b.value-a.value}function gj(a){return Y.Ph(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function Pl(a,b){return a.value-b.value}function bk(a,b){var c=a.Kt;a.Kt=b;b.Lt=a;b.Kt=c;c.Lt=b}function Wm(a,b){a.Kt=b;b.Lt=a}function zi(a,b){var c=b.x-a.x,d=b.y-a.y;a=a.r+b.r;return.001<a*a-
c*c-d*d}function hj(a){function b(a){d=Math.min(a.x-a.r,d);e=Math.max(a.x+a.r,e);g=Math.min(a.y-a.r,g);k=Math.max(a.y+a.r,k)}var c,d=window.Infinity,e=-window.Infinity,g=window.Infinity,k=-window.Infinity,l,p,r,t,w,D,H;if((c=a.children)&&(H=c.length)){c.forEach(Xh);l=c[0];l.x=-l.r;l.y=0;b(l);if(1<H&&(p=c[1],p.x=p.r,p.y=0,b(p),2<H))for(r=c[2],Xm(l,p,r),b(r),bk(l,r),l.Lt=r,bk(r,p),p=l.Kt,t=3;t<H;t++){Xm(l,p,r=c[t]);var O=0,R=1,T=1;for(w=p.Kt;w!==p;w=w.Kt,R++)if(zi(w,r)){O=1;break}if(1==O)for(D=l.Lt;D!==
w.Lt&&!zi(D,r);D=D.Lt,T++);O?(R<T||R==T&&p.r<l.r?Wm(l,p=w):Wm(l=D,p),t--):(bk(l,r),p=r,b(r))}l=(d+e)/2;p=(g+k)/2;for(t=w=0;t<H;t++)r=c[t],r.x-=l,r.y-=p,w=Math.max(w,r.r+Math.sqrt(r.x*r.x+r.y*r.y));a.r=w;c.forEach(Dq)}}function Xh(a){a.Kt=a.Lt=a}function Dq(a){delete a.Kt;delete a.Lt}function Eq(a,b,c,d){var e=a.children;a.x=b+=d*a.x;a.y=c+=d*a.y;a.r*=d;if(e){a=-1;for(var g=e.length;++a<g;)Eq(e[a],b,c,d)}}function Xm(a,b,c){var d=a.r+c.r,e=b.x-a.x,g=b.y-a.y;if(d&&(e||g)){var k=b.r+c.r,l=e*e+g*g,k=
k*k,d=d*d;b=.5+(d-k)/(2*l);k=Math.sqrt(Math.max(0,2*k*(d+l)-(d-=l)*d-k*k))/(2*l);c.x=a.x+b*e+k*g;c.y=a.y+b*g-k*e}else c.x=a.x+d,c.y=a.y}function Yh(a){return 1+Y.max(a,function(a){return a.y})}function Zh(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Nk(a){var b=a.children;return b&&b.length?Nk(b[0]):a}function zo(a){var b=a.children,c;return b&&(c=b.length)?zo(b[c-1]):a}function Ql(a,b){return a.parent==b.parent?1:2}function kf(a){var b=a.children;return b&&b.length?b[0]:a.Ad.R3}
function bg(a){var b=a.children,c;return b&&(c=b.length)?b[c-1]:a.Ad.R3}function Ai(a,b){var c=a.children,d;if(c&&(d=c.length))for(var e,g=-1;++g<d;)0<b(e=Ai(c[g],b),a)&&(a=e);return a}function ck(a,b){return a.x-b.x}function Ao(a,b){return b.x-a.x}function Rl(a,b){return a.depth-b.depth}function Of(a,b){function c(a,d){var e=a.children,g;if(e&&(g=e.length))for(var k,l=null,p=-1;++p<g;)k=e[p],c(k,l),l=k;b(a,d)}c(a,null)}function dk(a){return{x:a.x,y:a.y,uf:a.uf,Uf:a.Uf}}function Bo(a,b){var c=a.x+
b[3],d=a.y+b[0],e=a.uf-b[1]-b[3];a=a.Uf-b[0]-b[2];0>e&&(c+=e/2,e=0);0>a&&(d+=a/2,a=0);return{x:c,y:d,uf:e,Uf:a}}function Ym(a,b){function c(a,d){Y.text(a,b,function(a){d(a&&c.parse(a))})}function d(b){return b.map(e).join(a)}function e(a){return k.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var g=new RegExp("\r\n|["+a+"\r\n]","g"),k=new RegExp('["'+a+"\n]"),l=a.charCodeAt(0);c.parse=function(a){var b;return c.wEa(a,function(a,c){if(c){c={};for(var d=-1,e=b.length;++d<e;)c[b[d]]=a[d];return c}b=a;return null})};
c.wEa=function(a,b){function c(){if(g.lastIndex>=a.length)return e;if(jb)return jb=!1,d;var b=g.lastIndex;if(34===a.charCodeAt(b)){for(var k=b;k++<a.length;)if(34===a.charCodeAt(k)){if(34!==a.charCodeAt(k+1))break;k++}g.lastIndex=k+2;var p=a.charCodeAt(k+1);13===p?(jb=!0,10===a.charCodeAt(k+2)&&g.lastIndex++):10===p&&(jb=!0);return a.substring(b+1,k).replace(/""/g,'"')}if(k=g.exec(a))return jb=k[0].charCodeAt(0)!==l,a.substring(b,k.index);g.lastIndex=a.length;return a.substring(b)}var d={},e={},k=
[],p=0,r,jb;for(g.lastIndex=0;(r=c())!==e;){for(var t=[];r!==d&&r!==e;)t.push(r),r=c();b&&!(t=b(t,p++))||k.push(t)}return k};c.format=function(a){return a.map(d).join("\n")};return c}function Ok(a,b){return function(c){return c&&a.hasOwnProperty(c.type)?a[c.type](c):b}}function cg(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function ij(a,b){if(bA.hasOwnProperty(a.type))bA[a.type](a,b)}function Co(a,b){a=a.Qe;for(var c=0,d=a.length;c<d;c++)b.apply(null,a[c])}function Pk(a){return a.source}
function Do(a){return a.target}function Sl(){function a(b){var c=Math.sin(b*=H)*O;b=Math.sin(H-b)*O;var d=b*g+c*w,l=b*k+c*D;return[Math.atan2(l,d)/wc,Math.atan2(b*e+c*t,Math.sqrt(d*d+l*l))/wc]}var b,c,d,e,g,k,l,p,r,t,w,D,H,O;a.Wj=function(){null==H&&(O=1/Math.sin(H=Math.acos(Math.max(-1,Math.min(1,e*t+d*r*Math.cos(l-b))))));return H};a.source=function(l){var p=Math.cos(b=l[0]*wc),r=Math.sin(b);d=Math.cos(c=l[1]*wc);e=Math.sin(c);g=d*p;k=d*r;H=null;return a};a.target=function(b){var c=Math.cos(l=b[0]*
wc),d=Math.sin(l);r=Math.cos(p=b[1]*wc);t=Math.sin(p);w=r*c;D=r*d;H=null;return a};return a}function dg(a,b){a=Sl().source(a).target(b);a.Wj();return a}function Bi(a,b,c,d){var e,g,k;a=d[a];e=a[0];g=a[1];a=d[b];b=a[0];k=a[1];a=d[c];return 0<(a[1]-g)*(b-e)-(k-g)*(a[0]-e)}function Zm(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Qk(a,b,c,d){var e=a[0],g=c[0];a=a[1];var k=c[1];c=b[0]-e;var l=d[0]-g;b=b[1]-a;d=d[1]-k;g=(l*(a-k)-d*(e-g))/(d*c-l*b);return[e+g*c,a+g*b]}function $m(a,
b){a=a.map(function(a,b){return{index:b,x:a[0],y:a[1]}}).sort(function(a,b){return a.y<b.y?-1:a.y>b.y?1:a.x<b.x?-1:a.x>b.x?1:0});var c=null,d={list:[],LC:null,cD:null,init:function(){d.LC=d.SH(null,"l");d.cD=d.SH(null,"l");d.LC.r=d.cD;d.cD.Tc=d.LC;d.list.unshift(d.LC,d.cD)},SH:function(a,b){return{Kn:a,Ls:b,TR:null,Tc:null,r:null}},wl:function(a,b){b.Tc=a;b.r=a.r;a.r.Tc=b;a.r=b},nDa:function(a){var b=d.LC;do b=b.r;while(b!=d.cD&&e.eFa(b,a));return b=b.Tc},Hd:function(a){a.Tc.r=a.r;a.r.Tc=a.Tc;a.Kn=
null},right:function(a){return a.r},left:function(a){return a.Tc},qDa:function(a){return null==a.Kn?c:a.Kn.region[a.Ls]},qga:function(a){return null==a.Kn?c:a.Kn.region[WG[a.Ls]]}},e={nu:function(a,b){var c={region:{Tc:a,r:b},TB:{Tc:null,r:null}},d=b.x-a.x;b=b.y-a.y;c.c=a.x*d+a.y*b+.5*(d*d+b*b);(0<d?d:-d)>(0<b?b:-b)?(c.a=1,c.b=b/d,c.c/=d):(c.b=1,c.a=d/b,c.c/=b);return c},mQ:function(a,b){var c=a.Kn,d=b.Kn;if(!c||!d||c.region.r==d.region.r)return null;var e=c.a*d.b-c.b*d.a;if(1E-10>Math.abs(e))return null;
var g=(c.c*d.b-d.c*c.b)/e,e=(d.c*c.a-c.c*d.a)/e,k=c.region.r,l=d.region.r;k.y<l.y||k.y==l.y&&k.x<l.x||(a=b,c=d);return(c=g>=c.region.r.x)&&"l"===a.Ls||!c&&"r"===a.Ls?null:{x:g,y:e}},eFa:function(a,b){var c=a.Kn,d=c.region.r,e=b.x>d.x;if(e&&"l"===a.Ls)return 1;if(!e&&"r"===a.Ls)return 0;if(1===c.a){var g=b.y-d.y,k=b.x-d.x,l=0;!e&&0>c.b||e&&0<=c.b?b=l=g>=c.b*k:(b=b.x+b.y*c.b>c.c,0>c.b&&(b=!b),b||(l=1));l||(d=d.x-c.region.Tc.x,b=c.b*(k*k-g*g)<d*g*(1+2*k/d+c.b*c.b),0>c.b&&(b=!b))}else g=c.c-c.a*b.x,c=
b.y-g,b=b.x-d.x,d=g-d.y,b=c*c>b*b+d*d;return"l"===a.Ls?b:!b},E_:function(a,c,d){a.TB[c]=d;a.TB[WG[c]]&&b(a)},Wj:function(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}},g={list:[],wl:function(a,b,c){a.TR=b;a.fK=b.y+c;c=0;for(var d=g.list,e=d.length;c<e;c++){var k=d[c];if(!(a.fK>k.fK||a.fK==k.fK&&b.x>k.TR.x))break}d.splice(c,0,a)},Hd:function(a){for(var b=0,c=g.list,d=c.length;b<d&&c[b]!=a;++b);c.splice(b,1)},empty:function(){return 0===g.list.length},KYa:function(a){for(var b=0,c=g.list,
d=c.length;b<d;++b)if(c[b]==a)return c[b+1];return null},min:function(){var a=g.list[0];return{x:a.TR.x,y:a.fK}},wAa:function(){return g.list.shift()}};d.init();for(var c=a.shift(),k=a.shift(),l,p,r,t,w,D,H,O,R;;)if(g.empty()||(l=g.min()),k&&(g.empty()||k.y<l.y||k.y==l.y&&k.x<l.x)){p=d.nDa(k);r=d.right(p);H=d.qga(p);R=e.nu(H,k);D=d.SH(R,"l");d.wl(p,D);if(O=e.mQ(p,D))g.Hd(p),g.wl(p,O,e.Wj(O,k));p=D;D=d.SH(R,"r");d.wl(p,D);(O=e.mQ(D,r))&&g.wl(D,O,e.Wj(O,k));k=a.shift()}else if(g.empty())break;else{p=
g.wAa();t=d.left(p);r=d.right(p);w=d.right(r);H=d.qDa(p);D=d.qga(r);O=p.TR;e.E_(p.Kn,p.Ls,O);e.E_(r.Kn,r.Ls,O);d.Hd(p);g.Hd(r);d.Hd(r);p="l";H.y>D.y&&(p=H,H=D,D=p,p="r");R=e.nu(H,D);D=d.SH(R,p);d.wl(t,D);e.E_(R,WG[p],O);if(O=e.mQ(t,D))g.Hd(t),g.wl(t,O,e.Wj(O,H));(O=e.mQ(D,w))&&g.wl(D,O,e.Wj(O,H))}for(p=d.right(d.LC);p!=d.cD;p=d.right(p))b(p.Kn)}function eg(a,b,c,d,e,g){if(!a(b,c,d,e,g)){var k=.5*(c+e),l=.5*(d+g);b=b.av;b[0]&&eg(a,b[0],c,d,k,l);b[1]&&eg(a,b[1],k,d,e,l);b[2]&&eg(a,b[2],c,l,k,g);b[3]&&
eg(a,b[3],k,l,e,g)}}function Ah(a){return{x:a[0],y:a[1]}}function zf(){this.df=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function an(a){return a.substring(0,3)}function Rk(a,b,c,d){for(var e,g=0,k=b.length,l=c.length;g<k;){if(d>=l)return-1;e=b.charCodeAt(g++);if(37==e){if(e=wP[b.charAt(g++)],!e||0>(d=e(a,c,d)))return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function Ci(a){return new RegExp("^(?:"+a.map(Y.mga).join("|")+")","i")}function Tl(a){for(var b=new k,
c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function jj(a,b,c){Qb.lastIndex=0;return(b=Qb.exec(b.substring(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function Tz(a,b,c){Qb.lastIndex=0;return(b=Qb.exec(b.substring(c,c+2)))?(a.Az=+b[0],c+b[0].length):-1}function Mo(a){return a.toISOString()}function Vk(a,b,c){function d(b){var c=a(b),e=g(c,1);return b-c<e-b?c:e}function e(c){b(c=a(new ih(c-1)),1);return c}function g(a,c){b(a=new ih(+a),c);return a}function k(a,d,g){a=e(a);var l=[];if(1<g)for(;a<
d;)c(a)%g||l.push(new Date(+a)),b(a,1);else for(;a<d;)l.push(new Date(+a)),b(a,1);return l}a.floor=a;a.round=d;a.ceil=e;a.offset=g;a.range=k;var l=a.Je=No(a);l.floor=l;l.round=No(d);l.ceil=No(e);l.offset=No(g);l.range=function(a,b,c){try{ih=zf;var d=new zf;d.df=a;return k(d,b,c)}finally{ih=Date}};return a}function No(a){return function(b,c){try{ih=zf;var d=new zf;d.df=b;return a(d,c).df}finally{ih=Date}}}function $l(a,b,c){function d(b){return a(b)}d.Yf=function(b){return jn(a.Yf(b))};d.domain=function(b){if(!arguments.length)return a.domain().map(jn);
a.domain(b);return d};d.I1=function(a){return d.domain(Pc(d.domain(),function(){return a}))};d.ph=function(c,e){var g,k=d.domain();g=k[0];k=k[k.length-1];g=g<k?[g,k]:[k,g];if("function"!==typeof c){e=(g[1]-g[0])/c;k=Y.nu(Yk,e);if(k==Yk.length)return b.year(g,c);if(!k)return a.ph(c).map(jn);Math.log(e/Yk[k-1])<Math.log(Yk[k]/e)&&--k;c=b[k];e=c[1];c=c[0].range}return c(g[0],new Date(+g[1]+1),e)};d.Ps=function(){return c};d.Di=function(){return $l(a.Di(),b,c)};return Y.ev(d,a,"range","rangeRound","interpolate",
"clamp")}function jn(a){return new Date(a)}function nv(a){return function(b){for(var c=a.length-1,d=a[c];!d[1](b);)d=a[--c];return d[0](b)}}function am(a){var b=new Date(a,0,1);b.setFullYear(a);return b}function ov(a){var b=a.getFullYear(),c=am(b),d=am(b+1);return b+(a-c)/(d-c)}function pv(a){var b=new Date(Date.UTC(a,0,1));b.setUTCFullYear(a);return b}function Tq(a){var b=a.getUTCFullYear(),c=pv(b),d=pv(b+1);return b+(a-c)/(d-c)}Date.now||(Date.now=function(){return+new Date});try{window.document.createElement("div").style.setProperty("opacity",
0,"")}catch(jb){var Wk=window.CSSStyleDeclaration.prototype,LG=Wk.setProperty;Wk.setProperty=function(a,b,c){LG.call(this,a,b+"",c)}}Y.version="2.10.3";try{e(window.document.documentElement.childNodes)[0].nodeType}catch(jb){e=g}var qv=[].__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]};Y.map=function(a){var b=new k,c;for(c in a)b.set(c,a[c]);return b};(function(a,b){try{for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}catch(d){a.prototype=
b}})(k,{has:function(a){return bm+a in this},get:function(a){return this[bm+a]},set:function(a,b){return this[bm+a]=b},remove:function(a){a=bm+a;return a in this&&delete this[a]},keys:function(){var a=[];this.forEach(function(b){a.push(b)});return a},values:function(){var a=[];this.forEach(function(b,c){a.push(c)});return a},entries:function(){var a=[];this.forEach(function(b,c){a.push({key:b,value:c})});return a},forEach:function(a){for(var b in this)b.charCodeAt(0)===ai&&a.call(this,b.substring(1),
this[b])}});var bm="\x00",ai=bm.charCodeAt(0);Y.tWa=t;Y.ev=function(a,b){for(var c=1,d=arguments.length,e;++c<d;)a[e=arguments[c]]=w(a,b,b[e]);return a};Y.GH=function(a,b){return a<b?-1:a>b?1:a>=b?0:window.NaN};Y.YVa=function(a,b){return b<a?-1:b>a?1:b>=a?0:window.NaN};Y.oYa=function(a,b){var c=a.length,d,e=0,g=-1,k=0;if(1===arguments.length)for(;++g<c;)D(d=a[g])&&(e+=(d-e)/++k);else for(;++g<c;)D(d=b.call(a,a[g],g))&&(e+=(d-e)/++k);return k?e:void 0};Y.pYa=function(a,b){1<arguments.length&&(a=a.map(b));
a=a.filter(D);return a.length?Y.r2(a.sort(Y.GH),.5):void 0};Y.min=function(a,b){var c=-1,d=a.length,e,g;if(1===arguments.length){for(;++c<d&&(null==(e=a[c])||e!=e);)e=void 0;for(;++c<d;)null!=(g=a[c])&&e>g&&(e=g)}else{for(;++c<d&&(null==(e=b.call(a,a[c],c))||e!=e);)e=void 0;for(;++c<d;)null!=(g=b.call(a,a[c],c))&&e>g&&(e=g)}return e};Y.max=function(a,b){var c=-1,d=a.length,e,g;if(1===arguments.length){for(;++c<d&&(null==(e=a[c])||e!=e);)e=void 0;for(;++c<d;)null!=(g=a[c])&&g>e&&(e=g)}else{for(;++c<
d&&(null==(e=b.call(a,a[c],c))||e!=e);)e=void 0;for(;++c<d;)null!=(g=b.call(a,a[c],c))&&g>e&&(e=g)}return e};Y.sP=function(a,b){var c=-1,d=a.length,e,g,k;if(1===arguments.length){for(;++c<d&&(null==(e=k=a[c])||e!=e);)e=k=void 0;for(;++c<d;)null!=(g=a[c])&&(e>g&&(e=g),k<g&&(k=g))}else{for(;++c<d&&(null==(e=k=b.call(a,a[c],c))||e!=e);)e=void 0;for(;++c<d;)null!=(g=b.call(a,a[c],c))&&(e>g&&(e=g),k<g&&(k=g))}return[e,k]};Y.random={WDa:function(a,b){var c=arguments.length;2>c&&(b=1);1>c&&(a=0);return function(){var c,
d;do c=2*Math.random()-1,d=2*Math.random()-1,d=c*c+d*d;while(!d||1<d);return a+b*c*Math.sqrt(-2*Math.log(d)/d)}},iYa:function(a,b){var c=arguments.length;2>c&&(b=1);1>c&&(a=0);var d=Y.random.WDa();return function(){return Math.exp(a+b*d())}},YWa:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b/a}}};Y.UFa=function(a,b){var c=0,d=a.length,e,g=-1;if(1===arguments.length)for(;++g<d;)(0,window.isNaN)(e=+a[g])||(c+=e);else for(;++g<d;)(0,window.isNaN)(e=+b.call(a,a[g],g))||
(c+=e);return c};Y.r2=function(a,b){var c=(a.length-1)*b+1;b=Math.floor(c);var d=a[b-1];return(c-=b)?d+c*(a[b]-d):d};Y.tha=function(a){return Y.UGa.apply(Y,a)};Y.UGa=function(){var a;if(!(a=arguments.length))return[];for(var b=-1,c=Y.min(arguments,H),d=Array(c);++b<c;)for(var e=-1,g=d[b]=Array(a);++e<a;)g[e]=arguments[e][b];return d};Y.vza=function(a){return{left:function(b,c,d,e){3>arguments.length&&(d=0);4>arguments.length&&(e=b.length);for(;d<e;){var g=d+e>>>1;a.call(b,b[g],g)<c?d=g+1:e=g}return d},
right:function(b,c,d,e){3>arguments.length&&(d=0);4>arguments.length&&(e=b.length);for(;d<e;){var g=d+e>>>1;c<a.call(b,b[g],g)?e=g:d=g+1}return d}}};var Oo=Y.vza(function(a){return a});Y.TUa=Oo.left;Y.nu=Y.UUa=Oo.right;Y.first=function(a,b){var c=0,d=a.length,e=a[0],g;1===arguments.length&&(b=Y.GH);for(;++c<d;)0<b.call(a,e,g=a[c])&&(e=g);return e};Y.JXa=function(a,b){var c=0,d=a.length,e=a[0],g;1===arguments.length&&(b=Y.GH);for(;++c<d;)0>=b.call(a,e,g=a[c])&&(e=g);return e};Y.IYa=function(){function a(b,
e){if(e>=d.length)return l?l.call(c,b):g?b.sort(g):b;for(var p=-1,r=b.length,t=d[e++],w,$b,D=new k,H,We={};++p<r;)(H=D.get(w=t($b=b[p])))?H.push($b):D.set(w,[$b]);D.forEach(function(b,c){We[b]=a(c,e)});return We}function b(a,c){if(c>=d.length)return a;var g=[],k=e[c++],l;for(l in a)g.push({key:l,values:b(a[l],c)});k&&g.sort(function(a,b){return k(a.key,b.key)});return g}var c={},d=[],e=[],g,l;c.map=function(b){return a(b,0)};c.entries=function(c){return b(a(c,0),0)};c.key=function(a){d.push(a);return c};
c.i_a=function(a){e[d.length-1]=a;return c};c.k_a=function(a){g=a;return c};c.HZa=function(a){l=a;return c};return c};Y.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};Y.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};Y.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};Y.Tfa=function(a,b){for(var c=[],d=-1,e=b.length;++d<e;)c[d]=a[b[d]];return c};Y.Ph=function(a){return Array.prototype.concat.apply([],a)};Y.split=function(a,b){var c=[],d=[],
e,g=-1,k=a.length;for(2>arguments.length&&(b=O);++g<k;)b.call(d,e=a[g],g)?d=[]:(d.length||c.push(d),d.push(e));return c};Y.range=function(a,b,c){3>arguments.length&&(c=1,2>arguments.length&&(b=a,a=0));if(window.Infinity===(b-a)/c)throw Error("infinite range");var d=[],e;for(e=1;Math.abs(c)*e%1;)e*=10;var g=-1,k;a*=e;b*=e;c*=e;if(0>c)for(;(k=a+c*++g)>b;)d.push(k/e);else for(;(k=a+c*++g)<b;)d.push(k/e);return d};Y.mga=function(a){return a.replace(Po,"\\$\x26")};var Po=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;
Y.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};Y.lz=function(a,b,c){var d=new window.XMLHttpRequest;3>arguments.length?(c=b,b=null):b&&d.overrideMimeType&&d.overrideMimeType(b);d.open("GET",a,!0);b&&d.setRequestHeader("Accept",b);d.onreadystatechange=function(){if(4===d.readyState){var a=d.status;c(!a&&d.response||200<=a&&300>a||304===a?d:null)}};d.send(null)};Y.text=function(a,b,c){3>arguments.length&&(c=b,b=null);Y.lz(a,b,function(a){c(a&&a.responseText)})};Y.json=
function(a,b){Y.text(a,"application/json",function(a){b(a?JSON.parse(a):null)})};Y.html=function(a,b){Y.text(a,"text/html",function(a){if(null!=a){var c=window.document.createRange();c.selectNode(window.document.body);a=c.createContextualFragment(a)}b(a)})};Y.xml=function(a,b,c){3>arguments.length&&(c=b,b=null);Y.lz(a,b,function(a){c(a&&a.responseXML)})};var wg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",
xmlns:"http://www.w3.org/2000/xmlns/"};Y.QC={prefix:wg,mJ:function(a){var b=a.indexOf(":"),c=a;0<=b&&(c=a.substring(0,b),a=a.substring(b+1));return wg.hasOwnProperty(c)?{lq:wg[c],local:a}:a}};Y.zca=function(){for(var a=new R,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=T(a);return a};R.prototype.H=function(a,b){var c=a.indexOf("."),d="";0<c&&(d=a.substring(c+1),a=a.substring(0,c));return 2>arguments.length?this[a].H(d):this[a].H(d,b)};Y.format=function(a){a=kn.exec(a);var b=a[1]||" ",c=a[3]||"",
d=a[5],e=+a[6],g=a[7],k=a[8],l=a[9],p=1,r="",t=!1;k&&(k=+k.substring(1));d&&(b="0",g&&(e-=Math.floor((e-1)/4)));switch(l){case "n":g=!0;l="g";break;case "%":p=100;r="%";l="f";break;case "p":p=100;r="%";l="r";break;case "d":t=!0;k=0;break;case "s":p=-1,l="r"}"r"!=l||k||(l="g");l=Xk.get(l)||Z;return function(a){if(t&&a%1)return"";var jb=0>a&&(a=-a)?"-":c;if(0>p){var w=Y.GAa(a,k);a=w.scale(a);r=w.symbol}else a*=p;a=l(a,k);d?(w=a.length+jb.length,w<e&&(a=Array(e-w+1).join(b)+a),g&&(a=ya(a)),a=jb+a):(g&&
(a=ya(a)),a=jb+a,w=a.length,w<e&&(a=Array(e-w+1).join(b)+a));return a+r}};var kn=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,Xk=Y.map({Mn:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return Y.round(a,b=W(a,b)).toFixed(Math.max(0,Math.min(20,b)))}}),rv="y z a f p n μ m  k M G T P E Z Y".split(" ").map(function(a,b){var c=Math.pow(10,3*Math.abs(8-b));return{scale:8<b?function(a){return a/
c}:function(a){return a*c},symbol:a}});Y.GAa=function(a,b){var c=0;a&&(0>a&&(a*=-1),b&&(a=Y.round(a,W(a,b))),c=1+Math.floor(1E-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((0>=c?c+1:c-1)/3))));return rv[8+c/3]};var ln=dc(2),MG=dc(3),sv=Y.map({Wp:d,nZa:dc,uZa:function(){return ln},AVa:function(){return MG},sin:function(){return Eb},exp:function(){return Fb},circle:function(){return ec},dWa:function(a,b){var c;2>arguments.length&&(b=.45);1>arguments.length?(a=1,c=b/4):c=b/(2*Math.PI)*
Math.asin(1/a);return function(d){return 1+a*Math.pow(2,10*-d)*Math.sin(2*(d-c)*Math.PI/b)}},back:function(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}},$Ua:function(){return Yc}}),tv=Y.map({"in":Ea,rEa:lb,"in-out":Nb,"out-in":function(a){return Nb(lb(a))}});Y.zp=function(a){var b=a.indexOf("-"),c=0<=b?a.substring(0,b):a,b=0<=b?a.substring(b+1):"in",c=sv.get(c)||d,b=tv.get(b)||Ea;return nb(b(c.apply(null,Array.prototype.slice.call(arguments,1))))};Y.event=null;Y.transform=function(a){var b=
window.document.createElementNS(Y.QC.prefix.svg,"g");return(Y.transform=function(a){b.setAttribute("transform",a);a=b.transform.baseVal.consolidate();return new Qd(a?a.matrix:uv)})(a)};Qd.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.J3+")scale("+this.scale+")"};var Qo=180/Math.PI,uv={a:1,b:0,c:0,d:1,e:0,f:0};Y.Pu=function(a,b){for(var c=Y.Yda.length,d;0<=--c&&!(d=Y.Yda[c](a,b)););return d};Y.Qu=function(a,b){b-=a;return function(c){return a+
b*c}};Y.PBa=function(a,b){b-=a;return function(c){return Math.round(a+b*c)}};Y.QBa=function(a,b){var c,d,e=0,g=[],k=[],l,p;for(d=vv.lastIndex=0;c=vv.exec(b);++d)c.index&&g.push(b.substring(e,c.index)),k.push({ce:g.length,x:c[0]}),g.push(null),e=vv.lastIndex;e<b.length&&g.push(b.substring(e));d=0;for(l=k.length;(c=vv.exec(a))&&d<l;++d)if(p=k[d],p.x==c[0]){if(p.ce)if(null==g[p.ce+1])for(g[p.ce-1]+=p.x,g.splice(p.ce,1),c=d+1;c<l;++c)k[c].ce--;else for(g[p.ce-1]+=p.x+g[p.ce+1],g.splice(p.ce,2),c=d+1;c<
l;++c)k[c].ce-=2;else if(null==g[p.ce+1])g[p.ce]=p.x;else for(g[p.ce]=p.x+g[p.ce+1],g.splice(p.ce+1,1),c=d+1;c<l;++c)k[c].ce--;k.splice(d,1);l--;d--}else p.x=Y.Qu((0,window.parseFloat)(c[0]),(0,window.parseFloat)(p.x));for(;d<l;)p=k.pop(),null==g[p.ce+1]?g[p.ce]=p.x:(g[p.ce]=p.x+g[p.ce+1],g.splice(p.ce+1,1)),l--;return 1===g.length?null==g[0]?k[0].x:function(){return b}:function(a){for(d=0;d<l;++d)g[(p=k[d]).ce]=p.x(a);return g.join("")}};Y.RBa=function(a,b){var c=[],d=[],e,g=Y.transform(a),k=Y.transform(b);
b=g.translate;a=k.translate;var l=g.rotate,p=k.rotate,r=g.J3,t=k.J3,g=g.scale,k=k.scale;b[0]!=a[0]||b[1]!=a[1]?(c.push("translate(",null,",",null,")"),d.push({ce:1,x:Y.Qu(b[0],a[0])},{ce:3,x:Y.Qu(b[1],a[1])})):a[0]||a[1]?c.push("translate("+a+")"):c.push("");l!=p?(180<l-p?p+=360:180<p-l&&(l+=360),d.push({ce:c.push(c.pop()+"rotate(",null,")")-2,x:Y.Qu(l,p)})):p&&c.push(c.pop()+"rotate("+p+")");r!=t?d.push({ce:c.push(c.pop()+"skewX(",null,")")-2,x:Y.Qu(r,t)}):t&&c.push(c.pop()+"skewX("+t+")");g[0]!=
k[0]||g[1]!=k[1]?(e=c.push(c.pop()+"scale(",null,",",null,")"),d.push({ce:e-4,x:Y.Qu(g[0],k[0])},{ce:e-2,x:Y.Qu(g[1],k[1])})):1==k[0]&&1==k[1]||c.push(c.pop()+"scale("+k+")");e=d.length;return function(a){for(var b=-1,g;++b<e;)c[(g=d[b]).ce]=g.x(a);return c.join("")}};Y.OBa=function(a,b){a=Y.zs(a);b=Y.zs(b);var c=a.r,d=a.Mn,e=a.b,g=b.r-c,k=b.Mn-d,l=b.b-e;return function(a){return"#"+pc(Math.round(c+g*a))+pc(Math.round(d+k*a))+pc(Math.round(e+l*a))}};Y.WWa=function(a,b){a=Y.A0(a);b=Y.A0(b);var c=a.gk,
d=a.Py,e=a.Tc,g=b.gk-c,k=b.Py-d,l=b.Tc-e;180<g?g-=360:-180>g&&(g+=360);return function(a){return Rb(c+g*a,d+k*a,e+l*a)+""}};Y.XWa=function(a,b){a=Y.Vea(a);b=Y.Vea(b);var c=a.Tc,d=a.a,e=a.b,g=b.Tc-c,k=b.a-d,l=b.b-e;return function(a){return Uc(c+g*a,d+k*a,e+l*a)+""}};Y.VWa=function(a,b){a=Y.zda(a);b=Y.zda(b);var c=a.gk,d=a.c,e=a.Tc,g=b.gk-c,k=b.c-d,l=b.Tc-e;180<g?g-=360:-180>g&&(g+=360);return function(a){return ic(c+g*a,d+k*a,e+l*a)+""}};Y.MBa=function(a,b){var c=[],d=[],e=a.length,g=b.length,k=Math.min(a.length,
b.length),l;for(l=0;l<k;++l)c.push(Y.Pu(a[l],b[l]));for(;l<e;++l)d[l]=a[l];for(;l<g;++l)d[l]=b[l];return function(a){for(l=0;l<k;++l)d[l]=c[l](a);return d}};Y.NBa=function(a,b){var c={},d={},e;for(e in a)e in b?c[e]=sc(e)(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}};var vv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Y.Yda=[Y.NBa,function(a,b){return b instanceof Array&&Y.MBa(a,b)},function(a,b){return("string"===typeof a||"string"===typeof b)&&
Y.QBa(a+"",b+"")},function(a,b){return("string"===typeof b?Vz.has(b)||/^(#|rgb\(|hsl\()/.test(b):b instanceof Hc)&&Y.OBa(a,b)},function(a,b){return!(0,window.isNaN)(a=+a)&&!(0,window.isNaN)(b=+b)&&Y.Qu(a,b)}];Hc.prototype.toString=function(){return this.zs()+""};Y.zs=function(a,b,c){return 1===arguments.length?a instanceof mb?id(a.r,a.Mn,a.b):Lc(""+a,id,Rb):id(~~a,~~b,~~c)};var Uz=mb.prototype=new Hc;Uz.ZZ=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.Mn,d=this.b;if(!b&&!c&&
!d)return id(30,30,30);b&&30>b&&(b=30);c&&30>c&&(c=30);d&&30>d&&(d=30);return id(Math.min(255,Math.floor(b/a)),Math.min(255,Math.floor(c/a)),Math.min(255,Math.floor(d/a)))};Uz.q_=function(a){a=Math.pow(.7,arguments.length?a:1);return id(Math.floor(a*this.r),Math.floor(a*this.Mn),Math.floor(a*this.b))};Uz.A0=function(){return od(this.r,this.Mn,this.b)};Uz.toString=function(){return"#"+pc(this.r)+pc(this.Mn)+pc(this.b)};var Vz=Y.map({DUa:"#f0f8ff",HUa:"#faebd7",IUa:"#00ffff",JUa:"#7fffd4",MUa:"#f0ffff",
RUa:"#f5f5dc",VUa:"#ffe4c4",WUa:"#000000",XUa:"#ffebcd",blue:"#0000ff",YUa:"#8a2be2",bVa:"#a52a2a",dVa:"#deb887",fVa:"#5f9ea0",mVa:"#7fff00",nVa:"#d2691e",vVa:"#ff7f50",wVa:"#6495ed",xVa:"#fff8dc",yVa:"#dc143c",BVa:"#00ffff",CVa:"#00008b",DVa:"#008b8b",EVa:"#b8860b",FVa:"#a9a9a9",GVa:"#006400",HVa:"#a9a9a9",IVa:"#bdb76b",JVa:"#8b008b",KVa:"#556b2f",LVa:"#ff8c00",MVa:"#9932cc",NVa:"#8b0000",OVa:"#e9967a",PVa:"#8fbc8f",QVa:"#483d8b",RVa:"#2f4f4f",SVa:"#2f4f4f",TVa:"#00ced1",UVa:"#9400d3",VVa:"#ff1493",
WVa:"#00bfff",aWa:"#696969",bWa:"#696969",cWa:"#1e90ff",mWa:"#b22222",nWa:"#fffaf0",pWa:"#228b22",sWa:"#ff00ff",uWa:"#dcdcdc",xWa:"#f8f8ff",yWa:"#ffd700",zWa:"#daa520",BWa:"#808080",green:"#008000",DWa:"#adff2f",EWa:"#808080",OWa:"#f0fff0",PWa:"#ff69b4",SWa:"#cd5c5c",TWa:"#4b0082",GXa:"#fffff0",IXa:"#f0e68c",KXa:"#e6e6fa",LXa:"#fff0f5",MXa:"#7cfc00",NXa:"#fffacd",OXa:"#add8e6",PXa:"#f08080",QXa:"#e0ffff",SXa:"#fafad2",TXa:"#d3d3d3",UXa:"#90ee90",VXa:"#d3d3d3",WXa:"#ffb6c1",XXa:"#ffa07a",YXa:"#20b2aa",
ZXa:"#87cefa",$Xa:"#778899",aYa:"#778899",bYa:"#b0c4de",dYa:"#ffffe0",eYa:"#00ff00",fYa:"#32cd32",gYa:"#faf0e6",kYa:"#ff00ff",lYa:"#800000",qYa:"#66cdaa",rYa:"#0000cd",sYa:"#ba55d3",tYa:"#9370db",uYa:"#3cb371",vYa:"#7b68ee",wYa:"#00fa9a",xYa:"#48d1cc",yYa:"#c71585",AYa:"#191970",BYa:"#f5fffa",CYa:"#ffe4e1",DYa:"#ffe4b5",FYa:"#ffdead",GYa:"#000080",OYa:"#fdf5e6",PYa:"#808000",QYa:"#6b8e23",TYa:"#ffa500",UYa:"#ff4500",VYa:"#da70d6",$Ya:"#eee8aa",aZa:"#98fb98",bZa:"#afeeee",cZa:"#db7093",dZa:"#ffefd5",
gZa:"#ffdab9",hZa:"#cd853f",jZa:"#ffc0cb",kZa:"#dda0dd",qZa:"#b0e0e6",tZa:"#800080",red:"#ff0000",IZa:"#bc8f8f",JZa:"#4169e1",KZa:"#8b4513",LZa:"#fa8072",MZa:"#f4a460",QZa:"#2e8b57",RZa:"#fff5ee",WZa:"#a0522d",$Za:"#c0c0c0",b_a:"#87ceeb",c_a:"#6a5acd",d_a:"#708090",e_a:"#708090",f_a:"#fffafa",m_a:"#00ff7f",o_a:"#4682b4",tan:"#d2b48c",x_a:"#008080",z_a:"#d8bfd8",F_a:"#ff6347",M_a:"#40e0d0",S_a:"#ee82ee",V_a:"#f5deb3",W_a:"#ffffff",X_a:"#f5f5f5",d0a:"#ffff00",e0a:"#9acd32"});Vz.forEach(function(a,b){Vz.set(a,
Lc(b,id,Rb))});Y.A0=function(a,b,c){return 1===arguments.length?a instanceof Fa?Bc(a.gk,a.Py,a.Tc):Lc(""+a,od,Bc):Bc(+a,+b,+c)};var wv=Fa.prototype=new Hc;wv.ZZ=function(a){a=Math.pow(.7,arguments.length?a:1);return Bc(this.gk,this.Py,this.Tc/a)};wv.q_=function(a){a=Math.pow(.7,arguments.length?a:1);return Bc(this.gk,this.Py,a*this.Tc)};wv.zs=function(){return Rb(this.gk,this.Py,this.Tc)};Y.zda=function(a,b,c){return 1===arguments.length?a instanceof hc?new hc(a.gk,a.c,a.Tc):a instanceof qc?Hd(a.Tc,
a.a,a.b):Hd((a=Tc((a=Y.zs(a)).r,a.Mn,a.b)).Tc,a.a,a.b):new hc(+a,+b,+c)};var NG=hc.prototype=new Hc;NG.ZZ=function(a){return new hc(this.gk,this.c,Math.min(100,this.Tc+Wz*(arguments.length?a:1)))};NG.q_=function(a){return new hc(this.gk,this.c,Math.max(0,this.Tc-Wz*(arguments.length?a:1)))};NG.zs=function(){return ic(this.gk,this.c,this.Tc).zs()};Y.Vea=function(a,b,c){return 1===arguments.length?a instanceof qc?new qc(a.Tc,a.a,a.b):a instanceof hc?ic(a.Tc,a.c,a.gk):Tc((a=Y.zs(a)).r,a.Mn,a.b):new qc(+a,
+b,+c)};var Wz=18,lP=.95047,OG=1,mP=1.08883,Xz=qc.prototype=new Hc;Xz.ZZ=function(a){return new qc(Math.min(100,this.Tc+Wz*(arguments.length?a:1)),this.a,this.b)};Xz.q_=function(a){return new qc(Math.max(0,this.Tc-Wz*(arguments.length?a:1)),this.a,this.b)};Xz.zs=function(){return Uc(this.Tc,this.a,this.b)};var Uq=window.document.documentElement,nP=Uq.matchesSelector||Uq.webkitMatchesSelector||Uq.mozMatchesSelector||Uq.msMatchesSelector||Uq.oMatchesSelector;"function"===typeof window.Sizzle&&(c=function(a,
b){return(0,window.Sizzle)(a,b)[0]||null},b=function(a,b){return window.Sizzle.O_a((0,window.Sizzle)(a,b))},a=window.Sizzle.matchesSelector);var md=[];Y.selection=function(){return Ro};Y.selection.prototype=md;md.select=function(a){var b=[],c,d,e,g;"function"!==typeof a&&(a=jd(a));for(var k=-1,l=this.length;++k<l;){b.push(c=[]);c.parentNode=(e=this[k]).parentNode;for(var p=-1,r=e.length;++p<r;)(g=e[p])?(c.push(d=a.call(g,g.__data__,p)),d&&"__data__"in g&&(d.__data__=g.__data__)):c.push(null)}return Ob(b)};
md.hg=function(a){var b=[],c,d;"function"!==typeof a&&(a=Id(a));for(var g=-1,k=this.length;++g<k;)for(var l=this[g],p=-1,r=l.length;++p<r;)if(d=l[p])b.push(c=e(a.call(d,d.__data__,p))),c.parentNode=d;return Ob(b)};md.Ca=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node();a=Y.QC.mJ(a);return a.local?c.getAttributeNS(a.lq,a.local):c.getAttribute(a)}for(b in a)this.Ig(Me(b,a[b]));return this}return this.Ig(Me(a,b))};md.aP=function(a,b){if(2>arguments.length){if("string"===
typeof a){var c=this.node(),d=(a=a.trim().split(/^|\s+/g)).length,e=-1;if(b=c.classList)for(;++e<d;){if(!b.contains(a[e]))return!1}else for(b=c.className,null!=b.baseVal&&(b=b.baseVal);++e<d;)if(!he(a[e]).test(b))return!1;return!0}for(b in a)this.Ig(ad(b,a[b]));return this}return this.Ig(ad(a,b))};md.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!==typeof a){2>d&&(b="");for(c in a)this.Ig(Ae(c,a[c],b));return this}if(2>d)return window.getComputedStyle(this.node(),null).getPropertyValue(a);
c=""}return this.Ig(Ae(a,b,c))};md.eR=function(a,b){if(2>arguments.length){if("string"===typeof a)return this.node()[a];for(b in a)this.Ig(kd(b,a[b]));return this}return this.Ig(kd(a,b))};md.text=function(a){return 1>arguments.length?this.node().textContent:this.Ig("function"===typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a})};md.html=function(a){return 1>arguments.length?this.node().innerHTML:
this.Ig("function"===typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a})};md.append=function(a){function b(){return this.appendChild(window.document.createElementNS(this.namespaceURI,a))}function c(){return this.appendChild(window.document.createElementNS(a.lq,a.local))}a=Y.QC.mJ(a);return this.select(a.local?c:b)};md.wl=function(a,b){function d(){return this.insertBefore(window.document.createElementNS(this.namespaceURI,
a),c(b,this))}function e(){return this.insertBefore(window.document.createElementNS(a.lq,a.local),c(b,this))}a=Y.QC.mJ(a);return this.select(a.local?e:d)};md.remove=function(){return this.Ig(function(){var a=this.parentNode;a&&a.removeChild(this)})};md.data=function(a,b){function c(a,d){var e,g=a.length,l=d.length,w=Math.min(g,l),jb=Math.max(g,l),D=[],H=[],Bf=[],Zk,oj;if(b){var w=new k,jb=[],bi;oj=d.length;for(e=-1;++e<g;)bi=b.call(Zk=a[e],Zk.__data__,e),w.has(bi)?Bf[oj++]=Zk:w.set(bi,Zk),jb.push(bi);
for(e=-1;++e<l;)bi=b.call(d,oj=d[e],e),w.has(bi)?(D[e]=Zk=w.get(bi),Zk.__data__=oj,H[e]=Bf[e]=null):(H[e]={__data__:oj},D[e]=Bf[e]=null),w.remove(bi);for(e=-1;++e<g;)w.has(jb[e])&&(Bf[e]=a[e])}else{for(e=-1;++e<w;)Zk=a[e],oj=d[e],Zk?(Zk.__data__=oj,D[e]=Zk,H[e]=Bf[e]=null):(H[e]={__data__:oj},D[e]=Bf[e]=null);for(;e<l;++e)H[e]={__data__:d[e]},D[e]=Bf[e]=null;for(;e<jb;++e)Bf[e]=a[e],H[e]=D[e]=null}H.update=D;H.parentNode=D.parentNode=Bf.parentNode=a.parentNode;p.push(H);r.push(D);t.push(Bf)}var d=
-1,e=this.length,g,l;if(!arguments.length){for(a=Array(e=(g=this[0]).length);++d<e;)if(l=g[d])a[d]=l.__data__;return a}var p=Cb([]),r=Ob([]),t=Ob([]);if("function"===typeof a)for(;++d<e;)c(g=this[d],a.call(g,g.parentNode.__data__,d));else for(;++d<e;)c(g=this[d],a);r.Xj=function(){return p};r.XH=function(){return t};return r};md.$za=md.map=function(a){return 1>arguments.length?this.eR("__data__"):this.eR("__data__",a)};md.filter=function(a){var b=[],c,d,e;"function"!==typeof a&&(a=Jb(a));for(var g=
0,k=this.length;g<k;g++){b.push(c=[]);c.parentNode=(d=this[g]).parentNode;for(var l=0,p=d.length;l<p;l++)(e=d[l])&&a.call(e,e.__data__,l)&&c.push(e)}return Ob(b)};md.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c=this[a],d=c.length-1,e=c[d],g;0<=--d;)if(g=c[d])e&&e!==g.nextSibling&&e.parentNode.insertBefore(g,e),e=g;return this};md.sort=function(a){a=Yd.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};md.H=function(a,b,c){var d=arguments.length;
if(3>d){if("string"!==typeof a){2>d&&(b=!1);for(c in a)this.Ig(ef(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d.df;c=!1}return this.Ig(ef(a,b,c))};md.Ig=function(a){return zd(this,function(b,c,d){a.call(b,b.__data__,c,d)})};md.call=function(a){a.apply(this,(arguments[0]=this,arguments));return this};md.empty=function(){return!this.node()};md.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var g=c[d];if(g)return g}return null};md.transition=
function(){for(var a=[],b,c,d=-1,e=this.length;++d<e;){a.push(b=[]);for(var g=this[d],k=-1,l=g.length;++k<l;)b.push((c=g[k])?{node:c,gh:Vq,duration:lj}:null)}return ie(a,mn||++O1,Date.now())};var Ro=Ob([[window.document]]);Ro[0].parentNode=Uq;Y.select=function(a){return"string"===typeof a?Ro.select(a):Ob([[a]])};Y.hg=function(a){return"string"===typeof a?Ro.hg(a):Ob([e(a)])};var So=[];Y.selection.Xj=Cb;Y.selection.Xj.prototype=So;So.append=md.append;So.wl=md.wl;So.empty=md.empty;So.node=md.node;So.select=
function(a){for(var b=[],c,d,e,g,k,l=-1,p=this.length;++l<p;){e=(g=this[l]).update;b.push(c=[]);c.parentNode=g.parentNode;for(var r=-1,t=g.length;++r<t;)(k=g[r])?(c.push(e[r]=d=a.call(g.parentNode,k.__data__,r)),d.__data__=k.__data__):c.push(null)}return Ob(b)};var Ch=[],O1=0,mn=0,Vq=0,lj=250,To=Y.zp("cubic-in-out");Ch.call=md.call;Y.transition=function(a){return arguments.length?mn?a.transition():a:Ro.transition()};Y.transition.prototype=Ch;Ch.select=function(a){var b=[],c,d,e;"function"!==typeof a&&
(a=jd(a));for(var g=-1,k=this.length;++g<k;){b.push(c=[]);for(var l=this[g],p=-1,r=l.length;++p<r;)(e=l[p])&&(d=a.call(e.node,e.node.__data__,p))?("__data__"in e.node&&(d.__data__=e.node.__data__),c.push({node:d,gh:e.gh,duration:e.duration})):c.push(null)}return ie(b,this.id,this.time).zp(this.zp())};Ch.hg=function(a){var b=[],c,d,e;"function"!==typeof a&&(a=Id(a));for(var g=-1,k=this.length;++g<k;)for(var l=this[g],p=-1,r=l.length;++p<r;)if(e=l[p]){d=a.call(e.node,e.node.__data__,p);b.push(c=[]);
for(var t=-1,w=d.length;++t<w;)c.push({node:d[t],gh:e.gh,duration:e.duration})}return ie(b,this.id,this.time).zp(this.zp())};Ch.filter=function(a){var b=[],c,d;"function"!==typeof a&&(a=Jb(a));for(var e=0,g=this.length;e<g;e++){b.push(c=[]);for(var k=this[e],l=0,p=k.length;l<p;l++)(d=k[l])&&a.call(d.node,d.node.__data__,l)&&c.push(d)}return ie(b,this.id,this.time).zp(this.zp())};Ch.Ca=function(a,b){if(2>arguments.length){for(b in a)this.Lba(b,Y.vv(a[b],sc(b)));return this}return this.Lba(a,Y.vv(b,
sc(a)))};Ch.Lba=function(a,b){function c(a,d){var g=b.call(this,a,d,this.getAttribute(e));return g===xv?(this.removeAttribute(e),null):g&&function(a){this.setAttribute(e,g(a))}}function d(a,c){var g=b.call(this,a,c,this.getAttributeNS(e.lq,e.local));return g===xv?(this.removeAttributeNS(e.lq,e.local),null):g&&function(a){this.setAttributeNS(e.lq,e.local,g(a))}}var e=Y.QC.mJ(a);return this.vv("attr."+a,e.local?d:c)};Ch.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!==typeof a){2>
d&&(b="");for(c in a)this.aha(c,Y.vv(a[c],sc(c)),b);return this}c=""}return this.aha(a,Y.vv(b,sc(a)),c)};Ch.aha=function(a,b,c){3>arguments.length&&(c="");return this.vv("style."+a,function(d,e){var g=b.call(this,d,e,window.getComputedStyle(this,null).getPropertyValue(a));return g===xv?(this.style.removeProperty(a),null):g&&function(b){this.style.setProperty(a,g(b),c)}})};Ch.text=function(a){return this.vv("text",function(b,c){this.textContent="function"===typeof a?a.call(this,b,c):a})};Ch.remove=
function(){return this.Ig("end.transition",function(){var a;!this.qT&&(a=this.parentNode)&&a.removeChild(this)})};Ch.gh=function(a){return zd(this,"function"===typeof a?function(b,c,d){b.gh=a.call(b=b.node,b.__data__,c,d)|0}:(a|=0,function(b){b.gh=a}))};Ch.duration=function(a){return zd(this,"function"===typeof a?function(b,c,d){b.duration=Math.max(1,a.call(b=b.node,b.__data__,c,d)|0)}:(a=Math.max(1,a|0),function(b){b.duration=a}))};Ch.transition=function(){return this.select(p)};Y.vv=function(a,
b){function c(d,e,g){d=a.call(this,d,e);return null==d?""!=g&&xv:g!=d&&b(g,d+"")}function d(c,e,g){return g!=a&&b(g,a)}return"function"===typeof a?c:null==a?bb:(a+="",d)};var xv={},P1=0,PG={},Wq=null,Yz,yv;Y.TJ=function(a,b,c){if(3>arguments.length){if(2>arguments.length)b=0;else if(!(0,window.isFinite)(b))return;c=Date.now()}var d=PG[a.id];d&&d.callback===a?(d.then=c,d.gh=b):PG[a.id=++P1]=Wq={callback:a,then:c,gh:b,next:Wq};Yz||(yv=(0,window.clearTimeout)(yv),Yz=1,oP(Zd))};Y.TJ.flush=function(){for(var a,
b=Date.now(),c=Wq;c;)a=b-c.then,c.gh||(c.flush=c.callback(a)),c=c.next;Ne()};var oP=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){(0,window.setTimeout)(a,17)};Y.ps=function(a){return Oe(a,fd())};var Zz=/WebKit/.test(window.navigator.userAgent)?-1:0;Y.touches=function(a,b){2>arguments.length&&(b=fd().touches);return b?e(b).map(function(b){var c=Oe(a,b);c.identifier=b.identifier;
return c}):[]};Y.scale={};Y.scale.Wp=function(){return ae([0,1],[0,1],Y.Pu,!1)};Y.scale.log=function(){return ff(Y.scale.Wp(),je)};var Q1=Y.format(".0e");je.pow=function(a){return Math.pow(10,a)};Jd.pow=function(a){return-Math.pow(10,-a)};Y.scale.pow=function(){return cd(Y.scale.Wp(),1)};Y.scale.sqrt=function(){return Y.scale.pow().vAa(.5)};Y.scale.SQ=function(){return ub([],{t:"range",a:[[]]})};Y.scale.iVa=function(){return Y.scale.SQ().range(pP)};Y.scale.jVa=function(){return Y.scale.SQ().range($z)};
Y.scale.kVa=function(){return Y.scale.SQ().range(QG)};Y.scale.lVa=function(){return Y.scale.SQ().range(RG)};var pP="#1f77b4 #ff7f0e #2ca02c #d62728 #9467bd #8c564b #e377c2 #7f7f7f #bcbd22 #17becf".split(" "),$z="#1f77b4 #aec7e8 #ff7f0e #ffbb78 #2ca02c #98df8a #d62728 #ff9896 #9467bd #c5b0d5 #8c564b #c49c94 #e377c2 #f7b6d2 #7f7f7f #c7c7c7 #bcbd22 #dbdb8d #17becf #9edae5".split(" "),QG="#393b79 #5254a3 #6b6ecf #9c9ede #637939 #8ca252 #b5cf6b #cedb9c #8c6d31 #bd9e39 #e7ba52 #e7cb94 #843c39 #ad494a #d6616b #e7969c #7b4173 #a55194 #ce6dbd #de9ed6".split(" "),
RG="#3182bd #6baed6 #9ecae1 #c6dbef #e6550d #fd8d3c #fdae6b #fdd0a2 #31a354 #74c476 #a1d99b #c7e9c0 #756bb1 #9e9ac8 #bcbddc #dadaeb #636363 #969696 #bdbdbd #d9d9d9".split(" ");Y.scale.r2=function(){return te([],[])};Y.scale.wZa=function(){return Cc(0,1,[0,1])};Y.scale.threshold=function(){return Bd([.5],[0,1])};Y.scale.RWa=function(){return ke([0,1])};Y.svg={};Y.svg.arc=function(){function a(){var g=b.apply(this,arguments),k=c.apply(this,arguments),l=d.apply(this,arguments)+Uo,p=e.apply(this,arguments)+
Uo,r=Math.abs(l-p),t=r<Math.PI?"0":"1",w=Math.cos(l),l=Math.sin(l),jb=Math.cos(p),p=Math.sin(p);return r>=qP?g?"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"M0,"+g+"A"+g+","+g+" 0 1,0 0,"+-g+"A"+g+","+g+" 0 1,0 0,"+g+"Z":"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"Z":g?"M"+k*w+","+k*l+"A"+k+","+k+" 0 "+t+",1 "+k*jb+","+k*p+"L"+g*jb+","+g*p+"A"+g+","+g+" 0 "+t+",0 "+g*w+","+g*l+"Z":"M"+k*w+","+k*l+"A"+k+","+k+" 0 "+t+",1 "+k*jb+","+k*p+"L0,0Z"}var b=le,c=Ld,d=Re,e=
Td;a.Rda=function(c){if(!arguments.length)return b;b=t(c);return a};a.Mfa=function(b){if(!arguments.length)return c;c=t(b);return a};a.$y=function(b){if(!arguments.length)return d;d=t(b);return a};a.Nx=function(b){if(!arguments.length)return e;e=t(b);return a};a.$O=function(){var a=(b.apply(this,arguments)+c.apply(this,arguments))/2,g=(d.apply(this,arguments)+e.apply(this,arguments))/2+Uo;return[Math.cos(g)*a,Math.sin(g)*a]};return a};var Uo=-Math.PI/2,qP=2*Math.PI-1E-6;Y.svg.JQ=function(){return Ff(l)};
var SG=Y.map({Wp:Wc,"linear-closed":function(a){return Wc(a)+"Z"},"step-before":xf,"step-after":pd,QUa:gf,"basis-open":function(a){if(4>a.length)return Wc(a);for(var b=[],c=-1,d=a.length,e,g=[0],k=[0];3>++c;)e=a[c],g.push(e[0]),k.push(e[1]);b.push(uc(Vo,g)+","+uc(Vo,k));for(--c;++c<d;)e=a[c],g.shift(),g.push(e[0]),k.shift(),k.push(e[1]),qd(b,g,k);return b.join("")},"basis-closed":function(a){for(var b,c=-1,d=a.length,e=d+4,g,k=[],l=[];4>++c;)g=a[c%d],k.push(g[0]),l.push(g[1]);b=[uc(Vo,k),",",uc(Vo,
l)];for(--c;++c<e;)g=a[c%d],k.shift(),k.push(g[0]),l.shift(),l.push(g[1]),qd(b,k,l);return b.join("")},Bza:function(a,b){var c=a.length-1;if(c)for(var d=a[0][0],e=a[0][1],g=a[c][0]-d,k=a[c][1]-e,l=-1,p,r;++l<=c;)p=a[l],r=l/c,p[0]=b*p[0]+(1-b)*(d+r*g),p[1]=b*p[1]+(1-b)*(e+r*k);return gf(a)},hVa:function(a,b){return 3>a.length?Wc(a):a[0]+Md(a,Be(a,b))},"cardinal-open":function(a,b){return 4>a.length?Wc(a):a[1]+Md(a.slice(1,a.length-1),Be(a,b))},"cardinal-closed":function(a,b){return 3>a.length?Wc(a):
a[0]+Md((a.push(a[0]),a),Be([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=Wc(a);else{var b=a[0],c=[],d,e,g,k;d=0;e=a.length-1;var l=[];g=a[1];for(k=l[0]=Se(a[0],g);++d<e;)l[d]=(k+(k=Se(g,g=a[d+1])))/2;l[d]=k;for(var p=-1,r=a.length-1;++p<r;)d=Se(a[p],a[p+1]),1E-6>Math.abs(d)?l[p]=l[p+1]=0:(e=l[p]/d,g=l[p+1]/d,k=e*e+g*g,9<k&&(k=3*d/Math.sqrt(k),l[p]=k*e,l[p+1]=k*g));for(p=-1;++p<=r;)k=(a[Math.min(r,p+1)][0]-a[Math.max(0,p-1)][0])/(6*(1+l[p]*l[p])),c.push([k||0,l[p]*k||
0]);a=b+Md(a,c)}return a}});SG.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var TG=[0,2/3,1/3,0],nn=[0,1/3,2/3,0],Vo=[0,1/6,2/3,1/6];Y.svg.JQ.fga=function(){var a=Ff(Qg);a.s2=a.x;delete a.x;a.ei=a.y;delete a.y;return a};xf.reverse=pd;pd.reverse=xf;Y.svg.$d=function(){return rg(l)};Y.svg.$d.fga=function(){var a=rg(Qg);a.s2=a.x;delete a.x;a.Rda=a.Kha;delete a.Kha;a.Mfa=a.Lha;delete a.Lha;a.ei=a.y;delete a.y;a.$y=a.m4;delete a.m4;a.Nx=a.Mha;delete a.Mha;return a};Y.svg.Hza=function(){function a(g,
k){var l=b(this,d,g,k);g=b(this,e,g,k);return"M"+l.WQ+c(l.r,l.p1,l.OO-l.NO)+(l.NO==g.NO&&l.OO==g.OO?"Q 0,0 "+l.WQ:"Q 0,0 "+g.WQ+c(g.r,g.p1,g.OO-g.NO)+("Q 0,0 "+l.WQ))+"Z"}function b(a,c,d,e){var p=c.call(a,d,e);c=g.call(a,p,e);d=k.call(a,p,e)+Uo;a=l.call(a,p,e)+Uo;return{r:c,NO:d,OO:a,WQ:[c*Math.cos(d),c*Math.sin(d)],p1:[c*Math.cos(a),c*Math.sin(a)]}}function c(a,b,d){return"A"+a+","+a+" 0 "+ +(d>Math.PI)+",1 "+b}var d=ch,e=Rg,g=rd,k=Re,l=Td;a.s2=function(b){if(!arguments.length)return g;g=t(b);return a};
a.source=function(b){if(!arguments.length)return d;d=t(b);return a};a.target=function(b){if(!arguments.length)return e;e=t(b);return a};a.$y=function(b){if(!arguments.length)return k;k=t(b);return a};a.Nx=function(b){if(!arguments.length)return l;l=t(b);return a};return a};Y.svg.xca=function(){function a(e,g){var k=b.call(this,e,g);e=c.call(this,e,g);g=(k.y+e.y)/2;k=[k,{x:k.x,y:g},{x:e.x,y:g},e];k=k.map(d);return"M"+k[0]+"C"+k[1]+" "+k[2]+" "+k[3]}var b=ch,c=Rg,d=rc;a.source=function(c){if(!arguments.length)return b;
b=t(c);return a};a.target=function(b){if(!arguments.length)return c;c=t(b);return a};a.n2=function(b){if(!arguments.length)return d;d=b;return a};return a};Y.svg.xca.fga=function(){var a=Y.svg.xca(),b=rc,c=a.n2;a.n2=function(a){return arguments.length?c(sg(b=a)):b};return a};Y.svg.ps=Y.ps;Y.svg.touches=Y.touches;Y.svg.symbol=function(){function a(d,e){return(rP.get(b.call(this,d,e))||Ug)(c.call(this,d,e))}var b=tg,c=Te;a.type=function(c){if(!arguments.length)return b;b=t(c);return a};a.size=function(b){if(!arguments.length)return c;
c=t(b);return a};return a};var rP=Y.map({circle:Ug,zVa:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},$Va:function(a){a=Math.sqrt(a/(2*sP));var b=a*sP;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},n_a:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/zv);var b=a*zv/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=
Math.sqrt(a/zv);var b=a*zv/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});Y.svg.t_a=rP.keys();var zv=Math.sqrt(3),sP=Math.tan(30*Math.PI/180);Y.svg.axis=function(){function a(w){w.Ig(function(){var a=Y.select(this),w=null==p?b.ph?b.ph.apply(b,l):b.domain():p,D=null==r?b.Ps?b.Ps.apply(b,l):String:r,jb=fh(b,w,t),H=a.hg(".minor").data(jb,String),jb=H.Xj().wl("line","g").Ca("class","tick minor").style("opacity",1E-6),O=Y.transition(H.XH()).style("opacity",1E-6).remove(),H=Y.transition(H).style("opacity",
1),R=a.hg("g").data(w,String),w=R.Xj().wl("g","path").style("opacity",1E-6),$q=Y.transition(R.XH()).style("opacity",1E-6).remove(),T=Y.transition(R).style("opacity",1),W,Z=Ad(b),a=a.hg(".domain").data([0]);a.Xj().append("path").Ca("class","domain");var a=Y.transition(a),ya=b.Di(),Ea=this.Sla||ya;this.Sla=ya;w.append("line").Ca("class","tick");w.append("text");var Sa=w.select("line"),Fa=T.select("line"),D=R.select("text").text(D),R=w.select("text"),Va=T.select("text");switch(c){case "bottom":W=Ce;
jb.Ca("y2",e);H.Ca("x2",0).Ca("y2",e);Sa.Ca("y2",d);R.Ca("y",Math.max(d,0)+k);Fa.Ca("x2",0).Ca("y2",d);Va.Ca("x",0).Ca("y",Math.max(d,0)+k);D.Ca("dy",".71em").Ca("text-anchor","middle");a.Ca("d","M"+Z[0]+","+g+"V0H"+Z[1]+"V"+g);break;case "top":W=Ce;jb.Ca("y2",-e);H.Ca("x2",0).Ca("y2",-e);Sa.Ca("y2",-d);R.Ca("y",-(Math.max(d,0)+k));Fa.Ca("x2",0).Ca("y2",-d);Va.Ca("x",0).Ca("y",-(Math.max(d,0)+k));D.Ca("dy","0em").Ca("text-anchor","middle");a.Ca("d","M"+Z[0]+","+-g+"V0H"+Z[1]+"V"+-g);break;case "left":W=
Wj;jb.Ca("x2",-e);H.Ca("x2",-e).Ca("y2",0);Sa.Ca("x2",-d);R.Ca("x",-(Math.max(d,0)+k));Fa.Ca("x2",-d).Ca("y2",0);Va.Ca("x",-(Math.max(d,0)+k)).Ca("y",0);D.Ca("dy",".32em").Ca("text-anchor","end");a.Ca("d","M"+-g+","+Z[0]+"H0V"+Z[1]+"H"+-g);break;case "right":W=Wj,jb.Ca("x2",e),H.Ca("x2",e).Ca("y2",0),Sa.Ca("x2",d),R.Ca("x",Math.max(d,0)+k),Fa.Ca("x2",d).Ca("y2",0),Va.Ca("x",Math.max(d,0)+k).Ca("y",0),D.Ca("dy",".32em").Ca("text-anchor","start"),a.Ca("d","M"+g+","+Z[0]+"H0V"+Z[1]+"H"+g)}if(b.ph)w.call(W,
Ea),T.call(W,ya),$q.call(W,ya),jb.call(W,Ea),H.call(W,ya),O.call(W,ya);else{var bb=ya.SEa()/2,jb=function(a){return ya(a)+bb};w.call(W,jb);T.call(W,jb)}})}var b=Y.scale.Wp(),c="bottom",d=6,e=6,g=6,k=3,l=[10],p=null,r,t=0;a.scale=function(c){if(!arguments.length)return b;b=c;return a};a.TQ=function(b){if(!arguments.length)return c;c=b;return a};a.ph=function(){if(!arguments.length)return l;l=arguments;return a};a.E_a=function(b){if(!arguments.length)return p;p=b;return a};a.Ps=function(b){if(!arguments.length)return r;
r=b;return a};a.C_a=function(b,c,k){if(!arguments.length)return d;var l=arguments.length-1;d=+b;e=1<l?+c:d;g=0<l?+arguments[l]:d;return a};a.B_a=function(b){if(!arguments.length)return k;k=+b;return a};a.D_a=function(b){if(!arguments.length)return t;t=+b;return a};return a};Y.svg.cVa=function(){function a(g){g.Ig(function(){var g=Y.select(this),r=g.hg(".background").data([0]),t=g.hg(".extent").data([0]),w=g.hg(".resize").data(p,String);g.style("pointer-events","all").H("mousedown.brush",e).H("touchstart.brush",
e);r.Xj().append("rect").Ca("class","background").style("visibility","hidden").style("cursor","crosshair");t.Xj().append("rect").Ca("class","extent").style("cursor","move");w.Xj().append("g").Ca("class",function(a){return"resize "+a}).style("cursor",function(a){return R1[a]}).append("rect").Ca("x",function(a){return/[ew]$/.test(a)?-3:null}).Ca("y",function(a){return/^[ns]/.test(a)?-3:null}).Ca("width",6).Ca("height",6).style("visibility","hidden");w.style("display",a.empty()?"none":null);w.XH().remove();
k&&(t=Ad(k),r.Ca("x",t[0]).Ca("width",t[1]-t[0]),c(g));l&&(t=Ad(l),r.Ca("y",t[0]).Ca("height",t[1]-t[0]),d(g));b(g)})}function b(a){a.hg(".resize").Ca("transform",function(a){return"translate("+r[+/e$/.test(a)][0]+","+r[+/^s/.test(a)][1]+")"})}function c(a){a.select(".extent").Ca("x",r[0][0]);a.hg(".extent,.n\x3erect,.s\x3erect").Ca("width",r[1][0]-r[0][0])}function d(a){a.select(".extent").Ca("y",r[0][1]);a.hg(".extent,.e\x3erect,.w\x3erect").Ca("height",r[1][1]-r[0][1])}function e(){function p(){var a=
Y.event.changedTouches;return a?Y.touches(O,a)[0]:Y.ps(O)}function w(){var a=p(),e=!1;Va&&(a[0]+=Va[0],a[1]+=Va[1]);ya||(Y.event.altKey?(Ea||(Ea=[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]),Fa[0]=r[+(a[0]<Ea[0])][0],Fa[1]=r[+(a[1]<Ea[1])][1]):Ea=null);Xo&&D(a,k,0)&&(c(We),e=!0);Z&&D(a,l,1)&&(d(We),e=!0);e&&(b(We),T({type:"brush",mode:ya?"move":"resize"}))}function D(a,b,c){var d=Ad(b);b=d[0];var e=d[1],d=Fa[c],g=r[1][c]-r[0][c];ya&&(b-=d,e-=g+d);a=Math.max(b,Math.min(e,a[c]));ya?b=(a+=d)+g:(Ea&&(d=
Math.max(b,Math.min(e,2*Ea[c]-a))),d<a?(b=a,a=d):b=d);if(r[0][c]!==a||r[1][c]!==b)return t=null,r[0][c]=a,r[1][c]=b,!0}function H(){w();We.style("pointer-events","all").hg(".resize").style("display",a.empty()?"none":null);Y.select("body").style("cursor",null);bb.H("mousemove.brush",null).H("mouseup.brush",null).H("touchmove.brush",null).H("touchend.brush",null).H("keydown.brush",null).H("keyup.brush",null);T({type:"brushend"});Sa()}var O=this,R=Y.select(Y.event.target),T=g.of(O,arguments),We=Y.select(O),
W=R.$za(),Xo=!/^(n|s)$/.test(W)&&k,Z=!/^(e|w)$/.test(W)&&l,ya=R.aP("extent"),Ea,Fa=p(),Va,bb=Y.select(window).H("mousemove.brush",w).H("mouseup.brush",H).H("touchmove.brush",w).H("touchend.brush",H).H("keydown.brush",function(){32==Y.event.keyCode&&(ya||(Ea=null,Fa[0]-=r[1][0],Fa[1]-=r[1][1],ya=2),Sa())}).H("keyup.brush",function(){32==Y.event.keyCode&&2==ya&&(Fa[0]+=r[1][0],Fa[1]+=r[1][1],ya=0,Sa())});if(ya)Fa[0]=r[0][0]-Fa[0],Fa[1]=r[0][1]-Fa[1];else if(W){var db=+/w$/.test(W),W=+/^n/.test(W);Va=
[r[1-db][0]-Fa[0],r[1-W][1]-Fa[1]];Fa[0]=r[db][0];Fa[1]=r[W][1]}else Y.event.altKey&&(Ea=Fa.slice());We.style("pointer-events","none").hg(".resize").style("display",null);Y.select("body").style("cursor",R.style("cursor"));T({type:"brushstart"});w();Sa()}var g=Kb(a,"brushstart","brush","brushend"),k=null,l=null,p=on[0],r=[[0,0],[0,0]],t;a.x=function(b){if(!arguments.length)return k;k=b;p=on[!k<<1|!l];return a};a.y=function(b){if(!arguments.length)return l;l=b;p=on[!k<<1|!l];return a};a.sP=function(b){var c,
d,e,g,p;if(!arguments.length)return b=t||r,k&&(c=b[0][0],d=b[1][0],t||(c=r[0][0],d=r[1][0],k.Yf&&(c=k.Yf(c),d=k.Yf(d)),d<c&&(p=c,c=d,d=p))),l&&(e=b[0][1],g=b[1][1],t||(e=r[0][1],g=r[1][1],l.Yf&&(e=l.Yf(e),g=l.Yf(g)),g<e&&(p=e,e=g,g=p))),k&&l?[[c,e],[d,g]]:k?[c,d]:l&&[e,g];t=[[0,0],[0,0]];k&&(c=b[0],d=b[1],l&&(c=c[0],d=d[0]),t[0][0]=c,t[1][0]=d,k.Yf&&(c=k(c),d=k(d)),d<c&&(p=c,c=d,d=p),r[0][0]=c|0,r[1][0]=d|0);l&&(e=b[0],g=b[1],k&&(e=e[1],g=g[1]),t[0][1]=e,t[1][1]=g,l.Yf&&(e=l(e),g=l(g)),g<e&&(p=e,
e=g,g=p),r[0][1]=e|0,r[1][1]=g|0);return a};a.clear=function(){t=null;r[0][0]=r[0][1]=r[1][0]=r[1][1]=0;return a};a.empty=function(){return k&&r[0][0]===r[1][0]||l&&r[0][1]===r[1][1]};return Y.ev(a,g,"on")};var R1={n:"ns-resize",e:"ew-resize",Py:"ns-resize",xGa:"ew-resize",MYa:"nwse-resize",HYa:"nesw-resize",PZa:"nwse-resize",s_a:"nesw-resize"},on=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]];Y.behavior={};Y.behavior.Gca=function(){function a(){this.H("mousedown.drag",b).H("touchstart.drag",
b)}function b(){function a(){var b=k.parentNode;return r?Y.touches(b).filter(function(a){return a.identifier===r})[0]:Y.ps(b)}function e(){l({type:"dragend"});D&&(Sa(),Y.event.target===p&&jb.H("click.drag",g,!0));jb.H(r?"touchmove.drag-"+r:"mousemove.drag",null).H(r?"touchend.drag-"+r:"mouseup.drag",null)}function g(){Sa();jb.H("click.drag",null)}var k=this,l=c.of(k,arguments),p=Y.event.target,r=Y.event.touches&&Y.event.changedTouches[0].identifier,t,w=a(),D=0,jb=Y.select(window).H(r?"touchmove.drag-"+
r:"mousemove.drag",function(){if(!k.parentNode)return e();var b=a(),c=b[0]-w[0],d=b[1]-w[1];D|=c|d;w=b;Sa();l({type:"drag",x:b[0]+t[0],y:b[1]+t[1],uf:c,Uf:d})}).H(r?"touchend.drag-"+r:"mouseup.drag",e,!0);d?(t=d.apply(k,arguments),t=[t.x-w[0],t.y-w[1]]):t=[0,0];r||Sa();l({type:"dragstart"})}var c=Kb(a,"drag","dragstart","dragend"),d=null;a.origin=function(b){if(!arguments.length)return d;d=b;return a};return Y.ev(a,c,"on")};Y.behavior.zoom=function(){function a(){this.H("mousedown.zoom",g).H("mousewheel.zoom",
k).H("mousemove.zoom",l).H("DOMMouseScroll.zoom",k).H("dblclick.zoom",p).H("touchstart.zoom",r).H("touchmove.zoom",t).H("touchend.zoom",r)}function b(a){return[(a[0]-w[0])/H,(a[1]-w[1])/H]}function c(a){H=Math.max(R[0],Math.min(R[1],a))}function d(a,b){b=[b[0]*H+w[0],b[1]*H+w[1]];w[0]+=a[0]-b[0];w[1]+=a[1]-b[1]}function e(a){Z&&Z.domain(W.range().map(function(a){return(a-w[0])/H}).map(W.Yf));Ea&&Ea.domain(ya.range().map(function(a){return(a-w[1])/H}).map(ya.Yf));Y.event.preventDefault();a({type:"zoom",
scale:H,translate:w})}function g(){function a(){Sa();r.H("click.zoom",null)}var c=this,k=T.of(c,arguments),l=Y.event.target,p=0,r=Y.select(window).H("mousemove.zoom",function(){p=1;d(Y.ps(c),t);e(k)}).H("mouseup.zoom",function(){p&&Sa();r.H("mousemove.zoom",null).H("mouseup.zoom",null);p&&Y.event.target===l&&r.H("click.zoom",a,!0)}),t=b(Y.ps(c));window.focus();Sa()}function k(){D||(D=b(Y.ps(this)));c(Math.pow(2,.002*Th())*H);d(Y.ps(this),D);e(T.of(this,arguments))}function l(){D=null}function p(){var a=
Y.ps(this),g=b(a);c(Y.event.shiftKey?H/2:2*H);d(a,g);e(T.of(this,arguments))}function r(){var a=Y.touches(this),g=Date.now();O=H;D={};a.forEach(function(a){D[a.identifier]=b(a)});Sa();if(1===a.length){if(500>g-Fa){var k=a[0],a=b(a[0]);c(2*H);d(k,a);e(T.of(this,arguments))}Fa=g}}function t(){var a=Y.touches(this),b=a[0],g=D[b.identifier];if(a=a[1]){var k=D[a.identifier],b=[(b[0]+a[0])/2,(b[1]+a[1])/2],g=[(g[0]+k[0])/2,(g[1]+k[1])/2];c(Y.event.scale*O)}d(b,g);Fa=null;e(T.of(this,arguments))}var w=[0,
0],D,H=1,O,R=tP,T=Kb(a,"zoom"),W,Z,ya,Ea,Fa;a.translate=function(b){if(!arguments.length)return w;w=b.map(Number);return a};a.scale=function(b){if(!arguments.length)return H;H=+b;return a};a.NZa=function(b){if(!arguments.length)return R;R=null==b?tP:b.map(Number);return a};a.x=function(b){if(!arguments.length)return Z;Z=b;W=b.Di();return a};a.y=function(b){if(!arguments.length)return Ea;Ea=b;ya=b.Di();return a};return Y.ev(a,T,"on")};var Xq,tP=[0,window.Infinity];Y.layout={};Y.layout.Bza=function(){return function(a){for(var b=
[],c=-1,d=a.length;++c<d;)b.push(Uh(a[c]));return b}};Y.layout.Hza=function(){function a(){var c={},w=[],D=Y.range(k),H=[],jb,O,R,Bf,T;d=[];e=[];jb=0;for(Bf=-1;++Bf<k;){O=0;for(T=-1;++T<k;)O+=g[Bf][T];w.push(O);H.push(Y.range(k));jb+=O}p&&D.sort(function(a,b){return p(w[a],w[b])});r&&H.forEach(function(a,b){a.sort(function(a,c){return r(g[b][a],g[b][c])})});jb=(2*Math.PI-l*k)/jb;O=0;for(Bf=-1;++Bf<k;){R=O;for(T=-1;++T<k;){var W=D[Bf],Z=H[W][T],ya=g[W][Z],Ea=O,Fa=O+=ya*jb;c[W+"-"+Z]={index:W,q_a:Z,
$y:Ea,Nx:Fa,value:ya}}e[W]={index:W,$y:R,Nx:O,value:(O-R)/jb};O+=l}for(Bf=-1;++Bf<k;)for(T=Bf-1;++T<k;)D=c[Bf+"-"+T],H=c[T+"-"+Bf],(D.value||H.value)&&d.push(D.value<H.value?{source:H,target:D}:{source:D,target:H});t&&b()}function b(){d.sort(function(a,b){return t((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c={},d,e,g,k,l=0,p,r,t;c.matrix=function(a){if(!arguments.length)return g;k=(g=a)&&g.length;d=e=null;return c};c.padding=function(a){if(!arguments.length)return l;
l=a;d=e=null;return c};c.h_a=function(a){if(!arguments.length)return p;p=a;d=e=null;return c};c.j_a=function(a){if(!arguments.length)return r;r=a;d=null;return c};c.g_a=function(a){if(!arguments.length)return t;t=a;d&&b();return c};c.oVa=function(){d||a();return d};c.FWa=function(){e||a();return e};return c};Y.layout.force=function(){function a(b){return function(a,c,d,e){if(a.point!==b){d=a.oca-b.x;var g=a.pca-b.y,k=1/Math.sqrt(d*d+g*g);if((e-c)*k<O)return c=a.charge*k*k,b.ts-=d*c,b.ws-=g*c,!0;a.point&&
(0,window.isFinite)(k)&&(c=a.DEa*k*k,b.ts-=d*c,b.ws-=g*c)}return!a.charge}}function b(a){a.ts=Y.event.x;a.ws=Y.event.y;c.pJ()}var c={},d=Y.zca("start","tick","end"),e=[1,1],g,k,p=.9,r=Ml,w=Vm,D=-30,H=.1,O=.8,R=[],T=[],W,Z,ya;c.hha=function(){if(.005>(k*=.99))return d.end({type:"end",alpha:k=0}),!0;var b=R.length,c=T.length,g,l,r,t,w,O,$b;for(g=0;g<c;++g)if(l=T[g],r=l.source,t=l.target,O=t.x-r.x,$b=t.y-r.y,w=O*O+$b*$b)w=k*Z[g]*((w=Math.sqrt(w))-W[g])/w,O*=w,$b*=w,t.x-=O*(w=r.weight/(t.weight+r.weight)),
t.y-=$b*w,r.x+=O*(w=1-w),r.y+=$b*w;if(w=k*H)if(O=e[0]/2,$b=e[1]/2,g=-1,w)for(;++g<b;)l=R[g],l.x+=(O-l.x)*w,l.y+=($b-l.y)*w;if(D)for(yi(c=Y.Nn.REa(R),k,ya),g=-1;++g<b;)(l=R[g]).fixed||c.wGa(a(l));for(g=-1;++g<b;)l=R[g],l.fixed?(l.x=l.ts,l.y=l.ws):(l.x-=(l.ts-(l.ts=l.x))*p,l.y-=(l.ws-(l.ws=l.y))*p);d.hha()};c.av=function(a){if(!arguments.length)return R;R=a;return c};c.links=function(a){if(!arguments.length)return T;T=a;return c};c.size=function(a){if(!arguments.length)return e;e=a;return c};c.uDa=
function(a){if(!arguments.length)return r;r=t(a);return c};c.Wj=c.uDa;c.hYa=function(a){if(!arguments.length)return w;w=t(a);return c};c.rWa=function(a){if(!arguments.length)return p;p=a;return c};c.charge=function(a){if(!arguments.length)return D;D="function"===typeof a?a:+a;return c};c.AWa=function(a){if(!arguments.length)return H;H=a;return c};c.y_a=function(a){if(!arguments.length)return O;O=a;return c};c.alpha=function(a){if(!arguments.length)return k;k?k=0<a?a:0:0<a&&(d.start({type:"start",
alpha:k=a}),Y.TJ(c.hha));return c};c.start=function(){function a(c,e){var l;if(!t){t=[];for(d=0;d<g;++d)t[d]=[];for(d=0;d<k;++d)l=T[d],t[l.source.index].push(l.target),t[l.target.index].push(l.source)}l=t[b];for(var p=-1,r=l.length,w;++p<r;)if(!(0,window.isNaN)(w=l[p][c]))return w;return Math.random()*e}var b,d,g=R.length,k=T.length,l=e[0],p=e[1],t,H;for(b=0;b<g;++b)(H=R[b]).index=b,H.weight=0;W=[];Z=[];for(b=0;b<k;++b)H=T[b],"number"==typeof H.source&&(H.source=R[H.source]),"number"==typeof H.target&&
(H.target=R[H.target]),W[b]=r.call(this,H,b),Z[b]=w.call(this,H,b),++H.source.weight,++H.target.weight;for(b=0;b<g;++b)H=R[b],(0,window.isNaN)(H.x)&&(H.x=a("x",l)),(0,window.isNaN)(H.y)&&(H.y=a("y",p)),(0,window.isNaN)(H.ts)&&(H.ts=H.x),(0,window.isNaN)(H.ws)&&(H.ws=H.y);ya=[];if("function"===typeof D)for(b=0;b<g;++b)ya[b]=+D.call(this,R[b],b);else for(b=0;b<g;++b)ya[b]=D;return c.pJ()};c.pJ=function(){return c.alpha(.1)};c.stop=function(){return c.alpha(0)};c.Gca=function(){g||(g=Y.behavior.Gca().origin(l).H("dragstart",
Xj).H("drag",b).H("dragend",Yj));this.H("mouseover.force",Jk).H("mouseout.force",Vh).call(g)};return Y.ev(c,d,"on")};Y.layout.eZa=function(){function a(b,c,d,e){var g=b.children,k;b.x=c;b.y=b.depth*e;b.uf=d;b.Uf=e;if(g&&(k=g.length)){var l=-1,p;for(d=b.value?d/b.value:0;++l<k;)a(p=g[l],c,b=p.value*d,e),c+=b}}function b(a){a=a.children;var c=0,d;if(a&&(d=a.length))for(var e=-1;++e<d;)c=Math.max(c,b(a[e]));return 1+c}function c(g,k){g=d.call(this,g,k);a(g[0],0,e[0],e[1]/b(g[0]));return g}var d=Y.layout.wI(),
e=[1,1];c.size=function(a){if(!arguments.length)return e;e=a;return c};return Lk(c,d)};Y.layout.iZa=function(){function a(g,k){var l=g.map(function(c,d){return+b.call(a,c,d)}),p=+("function"===typeof d?d.apply(this,arguments):d),r=(("function"===typeof e?e.apply(this,arguments):e)-d)/Y.UFa(l),t=Y.range(g.length);null!=c&&t.sort(c===aA?function(a,b){return l[b]-l[a]}:function(a,b){return c(g[a],g[b])});var w=[];t.forEach(function(a){var b;w[a]={data:g[a],value:b=l[a],$y:p,Nx:p+=b*r}});return w}var b=
Number,c=aA,d=0,e=2*Math.PI;a.value=function(c){if(!arguments.length)return b;b=c;return a};a.sort=function(b){if(!arguments.length)return c;c=b;return a};a.$y=function(b){if(!arguments.length)return d;d=b;return a};a.Nx=function(b){if(!arguments.length)return e;e=b;return a};return a};var aA={};Y.layout.stack=function(){function a(l,p){var r=l.map(function(c,d){return b.call(a,c,d)}),t=r.map(function(b){return b.map(function(b,c){return[g.call(a,b,c),k.call(a,b,c)]})}),w=c.call(a,t,p),r=Y.Tfa(r,
w),t=Y.Tfa(t,w);p=d.call(a,t,p);var w=r.length,D=r[0].length,H,O,R;for(O=0;O<D;++O)for(e.call(a,r[0][O],R=p[O],t[0][O][1]),H=1;H<w;++H)e.call(a,r[H][O],R+=t[H-1][O][1],t[H][O][1]);return l}var b=l,c=Nl,d=fj,e=Zj,g=dj,k=ej;a.values=function(c){if(!arguments.length)return b;b=c;return a};a.order=function(b){if(!arguments.length)return c;c="function"===typeof b?b:UG.get(b)||Nl;return a};a.offset=function(b){if(!arguments.length)return d;d="function"===typeof b?b:S1.get(b)||fj;return a};a.x=function(b){if(!arguments.length)return g;
g=b;return a};a.y=function(b){if(!arguments.length)return k;k=b;return a};a.rEa=function(b){if(!arguments.length)return e;e=b;return a};return a};var UG=Y.map({"inside-out":function(a){var b=a.length,c,d=a.map(zh),e=a.map(gh),g=Y.range(b).sort(function(a,b){return d[a]-d[b]}),k=0,l=0,p=[],r=[];for(a=0;a<b;++a)c=g[a],k<l?(k+=e[c],p.push(c)):(l+=e[c],r.push(c));return r.reverse().concat(p)},reverse:function(a){return Y.range(a.length).reverse()},"default":Nl}),S1=Y.map({ZZa:function(a){var b=a.length,
c=a[0].length,d=[],e=0,g,k,l,p=[];for(k=0;k<c;++k){for(l=g=0;g<b;g++)l+=a[g][k][1];l>e&&(e=l);d.push(l)}for(k=0;k<c;++k)p[k]=(e-d[k])/2;return p},Y_a:function(a){var b=a.length,c=a[0],d=c.length,e,g,k,l,p,r,t,w,D,H=[];H[0]=w=D=0;for(g=1;g<d;++g){for(l=e=0;e<b;++e)l+=a[e][g][1];p=e=0;for(t=c[g][0]-c[g-1][0];e<b;++e){k=0;for(r=(a[e][g][1]-a[e][g-1][1])/(2*t);k<e;++k)r+=(a[k][g][1]-a[k][g-1][1])/t;p+=r*a[e][g][1]}H[g]=w-=l?p/l*t:0;w<D&&(D=w)}for(g=0;g<d;++g)H[g]-=D;return H},expand:function(a){var b=
a.length,c=a[0].length,d=1/b,e,g,k,l=[];for(g=0;g<c;++g){for(k=e=0;e<b;e++)k+=a[e][g][1];if(k)for(e=0;e<b;e++)a[e][g][1]/=k;else for(e=0;e<b;e++)a[e][g][1]=d}for(g=0;g<c;++g)l[g]=0;return l},f0a:fj});Y.layout.NWa=function(){function a(g,k){var l=[],p=g.map(c,this),r=d.call(this,p,k),t=e.call(this,r,p,k),w,D=p.length,H=t.length-1,jb=b?1:1/D;for(k=-1;++k<H;)w=l[k]=[],w.uf=t[k+1]-(w.x=t[k]),w.y=0;if(0<H)for(k=-1;++k<D;)w=p[k],w>=r[0]&&w<=r[1]&&(w=l[Y.nu(t,w,1,H)-1],w.y+=jb,w.push(g[k]));return l}var b=
!0,c=Number,d=Wh,e=ak;a.value=function(b){if(!arguments.length)return c;c=b;return a};a.range=function(b){if(!arguments.length)return d;d=t(b);return a};a.SUa=function(b){if(!arguments.length)return e;e="number"===typeof b?function(a){return Ol(a,b)}:t(b);return a};a.frequency=function(c){if(!arguments.length)return b;b=!!c;return a};return a};Y.layout.wI=function(){function a(b,k,l){var p=e.call(c,b,k),r=Av?b:{data:b},t;r.depth=k;l.push(r);if(p&&(t=p.length)){b=-1;var w=r.children=[],D=0;k+=1;for(var H;++b<
t;)H=a(p[b],k,l),H.parent=r,w.push(H),D+=H.value;d&&w.sort(d);g&&(r.value=D)}else g&&(r.value=+g.call(c,b,k)||0);return r}function b(a,d){var e=a.children,k=0,l;if(e&&(l=e.length)){var p=-1;for(d+=1;++p<l;)k+=b(e[p],d)}else g&&(k=+g.call(c,Av?a:a.data,d)||0);g&&(a.value=k);return k}function c(b){var d=[];a(b,0,d);return d}var d=Mk,e=yo,g=hh;c.sort=function(a){if(!arguments.length)return d;d=a;return c};c.children=function(a){if(!arguments.length)return e;e=a;return c};c.value=function(a){if(!arguments.length)return g;
g=a;return c};c.aFa=function(a){b(a,0)};return c};var Av=!1;Y.layout.ZYa=function(){function a(e,g){e=b.call(this,e,g);g=e[0];g.x=0;g.y=0;Of(g,function(a){a.r=Math.sqrt(a.value)});Of(g,hj);var k=d[0],l=d[1],p=Math.max(2*g.r/k,2*g.r/l);if(0<c){var r=c*p/2;Of(g,function(a){a.r+=r});Of(g,hj);Of(g,function(a){a.r-=r});p=Math.max(2*g.r/k,2*g.r/l)}Eq(g,k/2,l/2,1/p);return e}var b=Y.layout.wI().sort(Pl),c=0,d=[1,1];a.size=function(b){if(!arguments.length)return d;d=b;return a};a.padding=function(b){if(!arguments.length)return c;
c=+b;return a};return Lk(a,b)};Y.layout.qVa=function(){function a(e,g){e=b.call(this,e,g);var k=e[0],l,p=0;Of(k,function(a){var b=a.children;b&&b.length?(a.x=Zh(b),a.y=Yh(b)):(a.x=l?p+=c(a,l):0,a.y=0,l=a)});g=Nk(k);var r=zo(k),t=g.x-c(g,r)/2,w=r.x+c(r,g)/2;Of(k,function(a){a.x=(a.x-t)/(w-t)*d[0];a.y=(1-(k.y?a.y/k.y:1))*d[1]});return e}var b=Y.layout.wI().sort(null).value(null),c=Ql,d=[1,1];a.pFa=function(b){if(!arguments.length)return c;c=b;return a};a.size=function(b){if(!arguments.length)return d;
d=b;return a};return Lk(a,b)};Y.layout.J_a=function(){function a(e,g){function k(a,b){var d=a.children,e=a.Ad,g;if(d&&(g=d.length)){for(var l=d[0],p,r=l,t,w=-1;++w<g;){t=d[w];k(t,p);var D=t;if(p){for(var H=D,jb=D,O=D.parent.children[0],R=H.Ad.Qh,T=jb.Ad.Qh,$b=p.Ad.Qh,W=O.Ad.Qh,Z;p=bg(p),H=kf(H),p&&H;){O=kf(O);jb=bg(jb);jb.Ad.LZ=D;Z=p.Ad.Pi+$b-H.Ad.Pi-R+c(p,H);if(0<Z){var bi=p.Ad.LZ.parent==D.parent?p.Ad.LZ:r,We=D,$q=Z,bi=bi.Ad,We=We.Ad,zP=$q/(We.number-bi.number);bi.NH+=zP;We.NH-=zP;We.shift+=$q;
We.Pi+=$q;We.Qh+=$q;R+=Z;T+=Z}$b+=p.Ad.Qh;R+=H.Ad.Qh;W+=O.Ad.Qh;T+=jb.Ad.Qh}p&&!bg(jb)&&(jb.Ad.R3=p,jb.Ad.Qh+=$b-T);H&&!kf(O)&&(O.Ad.R3=H,O.Ad.Qh+=R-W,r=D)}p=t}g=d=0;w=a.children;for(D=w.length;0<=--D;)r=w[D].Ad,r.Pi+=d,r.Qh+=d,d+=r.shift+(g+=r.NH);l=.5*(l.Ad.Pi+t.Ad.Pi);b?(e.Pi=b.Ad.Pi+c(a,b),e.Qh=e.Pi-l):e.Pi=l}else b&&(e.Pi=b.Ad.Pi+c(a,b))}function l(a,b){a.x=a.Ad.Pi+b;var c=a.children,d;if(c&&(d=c.length)){var e=-1;for(b+=a.Ad.Qh;++e<d;)l(c[e],b)}}e=b.call(this,e,g);g=e[0];Of(g,function(a,b){a.Ad=
{LZ:a,Pi:0,Qh:0,NH:0,shift:0,number:b?b.Ad.number+1:0}});k(g);l(g,-g.Ad.Pi);var p=Ai(g,Ao),r=Ai(g,ck),t=Ai(g,Rl),w=p.x-c(p,r)/2,D=r.x+c(r,p)/2,H=t.depth||1;Of(g,function(a){a.x=(a.x-w)/(D-w)*d[0];a.y=a.depth/H*d[1];delete a.Ad});return e}var b=Y.layout.wI().sort(null).value(null),c=Ql,d=[1,1];a.pFa=function(b){if(!arguments.length)return c;c=b;return a};a.size=function(b){if(!arguments.length)return d;d=b;return a};return Lk(a,b)};Y.layout.K_a=function(){function a(b,c){for(var d=-1,e=b.length,g,
k;++d<e;)k=(g=b[d]).value*(0>c?0:c),g.$d=(0,window.isNaN)(k)||0>=k?0:k}function b(c){var e=c.children;if(e&&e.length){var g=r(c),k=[],l=e.slice(),p=window.Infinity,t=Math.min(g.uf,g.Uf);a(l,g.uf*g.Uf/c.value);for(k.$d=0;0<(c=l.length);){k.push(c=l[c-1]);k.$d+=c.$d;c=t;for(var w=k.$d,H,O=0,R=window.Infinity,T=-1,W=k.length;++T<W;)if(H=k[T].$d)H<R&&(R=H),H>O&&(O=H);w*=w;c*=c;(c=w?Math.max(c*O*D/w,w/(c*R*D)):window.Infinity)<=p?(l.pop(),p=c):(k.$d-=k.pop().$d,d(k,t,g,!1),t=Math.min(g.uf,g.Uf),k.length=
k.$d=0,p=window.Infinity)}k.length&&(d(k,t,g,!0),k.length=k.$d=0);e.forEach(b)}}function c(b){var e=b.children;if(e&&e.length){var g=r(b),k=e.slice(),l=[];a(k,g.uf*g.Uf/b.value);for(l.$d=0;b=k.pop();)l.push(b),l.$d+=b.$d,null!=b.z&&(d(l,b.z?g.uf:g.Uf,g,!k.length),l.length=l.$d=0);e.forEach(c)}}function d(a,b,c,e){var g=-1,l=a.length,p=c.x,r=c.y,t=b?k(a.$d/b):0,w;if(b==c.uf){if(e||t>c.Uf)t=c.Uf;for(;++g<l;)w=a[g],w.x=p,w.y=r,w.Uf=t,p+=w.uf=Math.min(c.x+c.uf-p,t?k(w.$d/t):0);w.z=!0;w.uf+=c.x+c.uf-p;
c.y+=t;c.Uf-=t}else{if(e||t>c.uf)t=c.uf;for(;++g<l;)w=a[g],w.x=p,w.y=r,w.uf=t,r+=w.Uf=Math.min(c.y+c.Uf-r,t?k(w.$d/t):0);w.z=!1;w.Uf+=c.y+c.Uf-r;c.x+=t;c.uf-=t}}function e(d){d=w||g(d);var k=d[0];k.x=0;k.y=0;k.uf=l[0];k.Uf=l[1];w&&g.aFa(k);a([k],k.uf*k.Uf/k.value);(w?c:b)(k);t&&(w=d);return d}var g=Y.layout.wI(),k=Math.round,l=[1,1],p=null,r=dk,t=!1,w,D=.5*(1+Math.sqrt(5));e.size=function(a){if(!arguments.length)return l;l=a;return e};e.padding=function(a){function b(c){var d=a.call(e,c,c.depth);
return null==d?dk(c):Bo(c,"number"===typeof d?[d,d,d,d]:d)}function c(b){return Bo(b,a)}if(!arguments.length)return p;var d;r=null==(p=a)?dk:"function"===(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c;return e};e.round=function(a){if(!arguments.length)return k!=Number;k=a?Math.round:Number;return e};e.$ga=function(a){if(!arguments.length)return t;t=a;w=null;return e};e.ratio=function(a){if(!arguments.length)return D;D=a;return e};return Lk(e,g)};Y.csv=Ym(",","text/csv");Y.L_a=Ym(" ","text/tab-separated-values");
Y.Hh={};var wc=Math.PI/180;Y.Hh.LUa=function(){function a(c){var k=c[0]*wc-g,r=c[1]*wc;c=Math.cos(k);var k=Math.sin(k),t=Math.cos(r),r=Math.sin(r),w="orthographic"!==b?p*r+l*t*c:null,D,w="stereographic"===b?1/(1+w):"gnomonic"===b?1/w:"equidistant"===b?(D=Math.acos(w),D?D/Math.sin(D):0):"equalarea"===b?Math.sqrt(2/(1+w)):1;return[d*w*t*k+e[0],d*w*(p*t*c-l*r)+e[1]]}var b="orthographic",c,d=200,e=[480,250],g,k,l,p;a.Yf=function(a){var c=(a[0]-e[0])/d;a=(a[1]-e[1])/d;var k=Math.sqrt(c*c+a*a),r="stereographic"===
b?2*Math.atan(k):"gnomonic"===b?Math.atan(k):"equidistant"===b?k:"equalarea"===b?2*Math.asin(.5*k):Math.asin(k),t=Math.sin(r),r=Math.cos(r);return[(g+Math.atan2(c*t,k*l*r+a*p*t))/wc,Math.asin(r*p-(k?a*t*l/k:0))/wc]};a.mode=function(c){if(!arguments.length)return b;b=c+"";return a};a.origin=function(b){if(!arguments.length)return c;c=b;g=c[0]*wc;k=c[1]*wc;l=Math.cos(k);p=Math.sin(k);return a};a.scale=function(b){if(!arguments.length)return d;d=+b;return a};a.translate=function(b){if(!arguments.length)return e;
e=[+b[0],+b[1]];return a};return a.origin([0,0])};Y.Hh.QO=function(){function a(b){var c=l*(wc*b[0]-k);b=Math.sqrt(p-2*l*Math.sin(wc*b[1]))/l;return[e*b*Math.sin(c)+g[0],e*(b*Math.cos(c)-r)+g[1]]}function b(){var e=wc*d[0],g=wc*d[1],t=wc*c[1],w=Math.sin(e),e=Math.cos(e);k=wc*c[0];l=.5*(w+Math.sin(g));p=e*e+2*l*w;r=Math.sqrt(p-2*l*Math.sin(t))/l;return a}var c=[-98,38],d=[29.5,45.5],e=1E3,g=[480,250],k,l,p,r;a.Yf=function(a){var b=(a[0]-g[0])/e;a=r+(a[1]-g[1])/e;var c=Math.sqrt(b*b+a*a);return[(k+
Math.atan2(b,a)/l)/wc,Math.asin((p-c*c*l*l)/(2*l))/wc]};a.origin=function(a){if(!arguments.length)return c;c=[+a[0],+a[1]];return b()};a.P1=function(a){if(!arguments.length)return d;d=[+a[0],+a[1]];return b()};a.scale=function(b){if(!arguments.length)return e;e=+b;return a};a.translate=function(b){if(!arguments.length)return g;g=[+b[0],+b[1]];return a};return b()};Y.Hh.bza=function(){function a(g){var k=g[0],l=g[1];return(50<l?c:-140>k?d:21>l?e:b)(g)}var b=Y.Hh.QO(),c=Y.Hh.QO().origin([-160,60]).P1([55,
65]),d=Y.Hh.QO().origin([-160,20]).P1([8,18]),e=Y.Hh.QO().origin([-60,10]).P1([8,18]);a.scale=function(g){if(!arguments.length)return b.scale();b.scale(g);c.scale(.6*g);d.scale(g);e.scale(1.5*g);return a.translate(b.translate())};a.translate=function(g){if(!arguments.length)return b.translate();var k=b.scale()/1E3,l=g[0],p=g[1];b.translate(g);c.translate([l-400*k,p+170*k]);d.translate([l-190*k,p+200*k]);e.translate([l+580*k,p+430*k]);return a};return a.scale(b.scale())};Y.Hh.ZUa=function(){function a(l){var p=
l[0]*wc-d,r=l[1]*wc-e;g?(l=k+g-r,r=p*Math.cos(r)/l,p=l*Math.sin(r),r=l*Math.cos(r)-k):(p*=Math.cos(r),r*=-1);return[b*p+c[0],b*r+c[1]]}var b=200,c=[480,250],d,e,g,k;a.Yf=function(a){var e=(a[0]-c[0])/b;a=(a[1]-c[1])/b;if(g){var l=k+a,p=Math.sqrt(e*e+l*l);a=k+g-p;e=d+p*Math.atan2(e,l)/Math.cos(a)}else a*=-1,e/=Math.cos(a);return[e/wc,a/wc]};a.uEa=function(b){if(!arguments.length)return g/wc;k=1/Math.tan(g=b*wc);return a};a.origin=function(b){if(!arguments.length)return[d/wc,e/wc];d=b[0]*wc;e=b[1]*
wc;return a};a.scale=function(c){if(!arguments.length)return b;b=+c;return a};a.translate=function(b){if(!arguments.length)return c;c=[+b[0],+b[1]];return a};return a.origin([0,0]).uEa(45)};Y.Hh.hWa=function(){function a(d){return[d[0]/360*b+c[0],-d[1]/360*b+c[1]]}var b=500,c=[480,250];a.Yf=function(a){return[(a[0]-c[0])/b*360,(a[1]-c[1])/b*-360]};a.scale=function(c){if(!arguments.length)return b;b=+c;return a};a.translate=function(b){if(!arguments.length)return c;c=[+b[0],+b[1]];return a};return a};
Y.Hh.zYa=function(){function a(d){return[d[0]/360*b+c[0],b*Math.max(-.5,Math.min(.5,-(Math.log(Math.tan(Math.PI/4+d[1]*wc/2))/wc)/360))+c[1]]}var b=500,c=[480,250];a.Yf=function(a){return[(a[0]-c[0])/b*360,2*Math.atan(Math.exp((a[1]-c[1])/b*-360*wc))/wc-90]};a.scale=function(c){if(!arguments.length)return b;b=+c;return a};a.translate=function(b){if(!arguments.length)return c;c=[+b[0],+b[1]];return a};return a};Y.Hh.path=function(){function a(b,c){"function"===typeof e&&(g=cg(e.apply(this,arguments)));
p(b);var d=l.length?l.join(""):null;l=[];return d}function b(a){return k(a).join(",")}function c(a){for(var b=Math.abs(Y.Nn.aR(a[0].map(k)).$d()),d=0,e=a.length;++d<e;)b-=Math.abs(Y.Nn.aR(a[d].map(k)).$d());return b}function d(a){for(var b=Y.Nn.aR(a[0].map(k)),c=b.$d(),b=b.$O(0>c?(c*=-1,1):-1),e=b[0],g=b[1],l=c,p=0,r=a.length;++p<r;)b=Y.Nn.aR(a[p].map(k)),c=b.$d(),b=b.$O(0>c?(c*=-1,1):-1),e-=b[0],g-=b[1],l-=c;return[e,g,6*l]}var e=4.5,g=cg(e),k=Y.Hh.bza(),l=[],p=Ok({sS:function(a){a=a.features;for(var b=
-1,c=a.length;++b<c;)l.push(p(a[b].Sx))},uK:function(a){p(a.Sx)},T5:function(a){l.push("M",b(a.Qe),g)},q5:function(a){a=a.Qe;for(var c=-1,d=a.length;++c<d;)l.push("M",b(a[c]),g)},k5:function(a){a=a.Qe;var c=-1,d=a.length;for(l.push("M");++c<d;)l.push(b(a[c]),"L");l.pop()},p5:function(a){a=a.Qe;for(var c=-1,d=a.length,e,g,k;++c<d;){e=a[c];g=-1;k=e.length;for(l.push("M");++g<k;)l.push(b(e[g]),"L");l.pop()}},WK:function(a){a=a.Qe;for(var c=-1,d=a.length,e,g,k;++c<d;)if(e=a[c],g=-1,0<(k=e.length-1)){for(l.push("M");++g<
k;)l.push(b(e[g]),"L");l[l.length-1]="Z"}},PK:function(a){a=a.Qe;for(var c=-1,d=a.length,e,g,k,p,r,t;++c<d;)for(e=a[c],g=-1,k=e.length;++g<k;)if(p=e[g],r=-1,0<(t=p.length-1)){for(l.push("M");++r<t;)l.push(b(p[r]),"L");l[l.length-1]="Z"}},vS:function(a){a=a.xP;for(var b=-1,c=a.length;++b<c;)l.push(p(a[b]))}}),r=a.$d=Ok({sS:function(a){var b=0;a=a.features;for(var c=-1,d=a.length;++c<d;)b+=r(a[c]);return b},uK:function(a){return r(a.Sx)},WK:function(a){return c(a.Qe)},PK:function(a){var b=0;a=a.Qe;
for(var d=-1,e=a.length;++d<e;)b+=c(a[d]);return b},vS:function(a){var b=0;a=a.xP;for(var c=-1,d=a.length;++c<d;)b+=r(a[c]);return b}},0),t=a.$O=Ok({uK:function(a){return t(a.Sx)},WK:function(a){a=d(a.Qe);return[a[0]/a[2],a[1]/a[2]]},PK:function(a){a=a.Qe;for(var b,c=0,e=0,g=0,k=-1,l=a.length;++k<l;)b=d(a[k]),c+=b[0],e+=b[1],g+=b[2];return[c/g,e/g]}});a.n2=function(b){k=b;return a};a.mZa=function(b){"function"===typeof b?e=b:(e=+b,g=cg(e));return a};return a};Y.Hh.aVa=function(a){var b=window.Infinity,
c=window.Infinity,d=-window.Infinity,e=-window.Infinity;ij(a,function(a,g){a<b&&(b=a);a>d&&(d=a);g<c&&(c=g);g>e&&(e=g)});return[[b,c],[d,e]]};var bA={uK:function(a,b){ij(a.Sx,b)},sS:function(a,b){a=a.features;for(var c=0,d=a.length;c<d;c++)ij(a[c].Sx,b)},vS:function(a,b){a=a.xP;for(var c=0,d=a.length;c<d;c++)ij(a[c],b)},k5:Co,p5:function(a,b){a=a.Qe;for(var c=0,d=a.length;c<d;c++)for(var e=a[c],g=0,k=e.length;g<k;g++)b.apply(null,e[g])},q5:Co,PK:function(a,b){a=a.Qe;for(var c=0,d=a.length;c<d;c++)for(var e=
a[c][0],g=0,k=e.length;g<k;g++)b.apply(null,e[g])},T5:function(a,b){b.apply(null,a.Qe)},WK:function(a,b){a=a.Qe[0];for(var c=0,d=a.length;c<d;c++)b.apply(null,a[c])}};Y.Hh.circle=function(){function a(){}function b(a){return k.Wj(a)<g}function c(a){for(var b=-1,d=a.length,e=[],l,p,r,t,w;++b<d;)w=k.Wj(r=a[b]),w<g?(p&&e.push(dg(p,r)((t-g)/(t-w))),e.push(r),l=p=null):(p=r,!l&&e.length&&(e.push(dg(e[e.length-1],p)((g-t)/(w-t))),l=p)),t=w;l=a[0];p=e[0];!p||r[0]!==l[0]||r[1]!==l[1]||r[0]===p[0]&&r[1]===
p[1]||e.push(p);a=0;p=(b=e.length)?[e[0]]:e;for(t=k.source();++a<b;)for(r=k.source(e[a-1])(e[a]).Qe,d=0,l=r.length;++d<l;)p.push(r[d]);k.source(t);return p}var d=[0,0],e=89.99,g=e*wc,k=Y.Hh.QAa().source(d).target(l);a.clip=function(a){"function"===typeof d&&k.source(d.apply(this,arguments));return p(a)||null};var p=Ok({sS:function(a){var b=a.features.map(p).filter(l);return b&&(a=Object.create(a),a.features=b,a)},uK:function(a){var b=p(a.Sx);return b&&(a=Object.create(a),a.Sx=b,a)},T5:function(a){return b(a.Qe)&&
a},q5:function(a){var c=a.Qe.filter(b);return c.length&&{type:a.type,Qe:c}},k5:function(a){var b=c(a.Qe);return b.length&&(a=Object.create(a),a.Qe=b,a)},p5:function(a){var b=a.Qe.map(c).filter(function(a){return a.length});return b.length&&(a=Object.create(a),a.Qe=b,a)},WK:function(a){var b=a.Qe.map(c);return b[0].length&&(a=Object.create(a),a.Qe=b,a)},PK:function(a){var b=a.Qe.map(function(a){return a.map(c)}).filter(function(a){return a[0].length});return b.length&&(a=Object.create(a),a.Qe=b,a)},
vS:function(a){var b=a.xP.map(p).filter(l);return b.length&&(a=Object.create(a),a.xP=b,a)}});a.origin=function(b){if(!arguments.length)return d;d=b;"function"!==typeof d&&k.source(d);return a};a.ei=function(b){if(!arguments.length)return e;g=(e=+b)*wc;return a};return Y.ev(a,k,"precision")};Y.Hh.QAa=function(){function a(){for(var b=a.Wj.apply(this,arguments),d=0,b=g/b,l=[c];1>(d+=b);)l.push(k(d));l.push(e);return{type:"LineString",Qe:l}}var b=Pk,c,d=Do,e,g=6*wc,k=Sl();a.Wj=function(){"function"===
typeof b&&k.source(c=b.apply(this,arguments));"function"===typeof d&&k.target(e=d.apply(this,arguments));return k.Wj()};a.source=function(d){if(!arguments.length)return b;b=d;"function"!==typeof b&&k.source(c=b);return a};a.target=function(b){if(!arguments.length)return d;d=b;"function"!==typeof d&&k.target(e=d);return a};a.precision=function(b){if(!arguments.length)return g/wc;g=b*wc;return a};return a};Y.Hh.CWa=Y.Hh.circle;Y.Nn={};Y.Nn.uVa=function(a,b){if(!b)a:for(var c=b=0;;){if(a(b,c)){b=[b,
c];break a}0===b?(b=c+1,c=0):(--b,c+=1)}var c=[],d=b[0],e=b[1],g,k,l=window.NaN,p=window.NaN;do k=0,a(d-1,e-1)&&(k+=1),a(d,e-1)&&(k+=2),a(d-1,e)&&(k+=4),a(d,e)&&(k+=8),6===k?(g=-1===p?-1:1,k=0):9===k?(g=0,k=1===l?-1:1):(g=uP[k],k=VG[k]),g!=l&&k!=p&&(c.push([d,e]),l=g,p=k),d+=g,e+=k;while(b[0]!=d||b[1]!=e);return c};var uP=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,window.NaN],VG=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,window.NaN];Y.Nn.QWa=function(a){if(3>a.length)return[];var b=a.length,c=b-1,d=[],e=[],g,k=0,
l,p,r,t,w,D,H;for(g=1;g<b;++g)a[g][1]<a[k][1]?k=g:a[g][1]==a[k][1]&&(k=a[g][0]<a[k][0]?g:k);for(g=0;g<b;++g)g!==k&&(p=a[g][1]-a[k][1],l=a[g][0]-a[k][0],d.push({ei:Math.atan2(p,l),index:g}));d.sort(function(a,b){return a.ei-b.ei});H=d[0].ei;D=d[0].index;w=0;for(g=1;g<c;++g)b=d[g].index,H==d[g].ei?(l=a[D][0]-a[k][0],p=a[D][1]-a[k][1],r=a[b][0]-a[k][0],t=a[b][1]-a[k][1],l*l+p*p>=r*r+t*t?d[g].index=-1:(d[w].index=-1,H=d[g].ei,w=g,D=b)):(H=d[g].ei,w=g,D=b);e.push(k);for(b=g=0;2>g;++b)-1!==d[b].index&&
(e.push(d[b].index),g++);for(k=e.length;b<c;++b)if(-1!==d[b].index){for(;!Bi(e[k-2],e[k-1],d[b].index,a);)--k;e[k++]=d[b].index}c=[];for(g=0;g<k;++g)c.push(a[e[g]]);return c};Y.Nn.aR=function(a){a.$d=function(){for(var b=0,c=a.length,d=a[c-1][0]*a[0][1],e=a[c-1][1]*a[0][0];++b<c;)d+=a[b-1][0]*a[b][1],e+=a[b-1][1]*a[b][0];return.5*(e-d)};a.$O=function(b){var c=-1,d=a.length,e=0,g=0,k,l=a[d-1],p;for(arguments.length||(b=-1/(6*a.$d()));++c<d;)k=l,l=a[c],p=k[0]*l[1]-l[0]*k[1],e+=(k[0]+l[0])*p,g+=(k[1]+
l[1])*p;return[e*b,g*b]};a.clip=function(b){for(var c,d=-1,e=a.length,g,k,l=a[e-1],p,r,t;++d<e;){c=b.slice();b.length=0;p=a[d];r=c[(k=c.length)-1];for(g=-1;++g<k;)t=c[g],Zm(t,l,p)?(Zm(r,l,p)||b.push(Qk(r,t,l,p)),b.push(t)):Zm(r,l,p)&&b.push(Qk(r,t,l,p)),r=t;l=p}return b};return a};Y.Nn.T_a=function(a){var b=a.map(function(){return[]});$m(a,function(a){var c,d,e,g;1===a.a&&0<=a.b?(c=a.TB.r,d=a.TB.Tc):(c=a.TB.Tc,d=a.TB.r);1===a.a?(e=c?c.y:-1E6,c=a.c-a.b*e,g=d?d.y:1E6,d=a.c-a.b*g):(c=c?c.x:-1E6,e=a.c-
a.a*c,d=d?d.x:1E6,g=a.c-a.a*d);c=[c,e];d=[d,g];b[a.region.Tc.index].push(c,d);b[a.region.r.index].push(c,d)});return b.map(function(b,c){var d=a[c][0],e=a[c][1];b.forEach(function(a){a.ei=Math.atan2(a[0]-d,a[1]-e)});return b.sort(function(a,b){return a.ei-b.ei}).filter(function(a,c){return!c||1E-10<a.ei-b[c-1].ei})})};var WG={Tc:"r",r:"l"};Y.Nn.XVa=function(a){var b=a.map(function(){return[]}),c=[];$m(a,function(c){b[c.region.Tc.index].push(a[c.region.r.index])});b.forEach(function(b,d){d=a[d];var e=
d[0],g=d[1];b.forEach(function(a){a.ei=Math.atan2(a[0]-e,a[1]-g)});b.sort(function(a,b){return a.ei-b.ei});for(var k=0,l=b.length-1;k<l;k++)c.push([d,b[k],b[k+1]])});return c};Y.Nn.REa=function(a,b,c,d,e){function g(a,b,c,d,e,l){if(!(0,window.isNaN)(b.x)&&!(0,window.isNaN)(b.y))if(a.XI){var p=a.point;p?(.01>Math.abs(p.x-b.x)+Math.abs(p.y-b.y)||(a.point=null,k(a,p,c,d,e,l)),k(a,b,c,d,e,l)):a.point=b}else k(a,b,c,d,e,l)}function k(a,b,c,d,e,l){var p=.5*(c+e),r=.5*(d+l),t=b.x>=p,w=b.y>=r,D=(w<<1)+t;
a.XI=!1;a=a.av[D]||(a.av[D]={XI:!0,av:[],point:null});t?c=p:e=p;w?d=r:l=r;g(a,b,c,d,e,l)}var l,p=-1,r=a.length;r&&(0,window.isNaN)(a[0].x)&&(a=a.map(Ah));if(5>arguments.length)if(3===arguments.length)e=d=c,c=b;else{b=c=window.Infinity;for(d=e=-window.Infinity;++p<r;)l=a[p],l.x<b&&(b=l.x),l.y<c&&(c=l.y),l.x>d&&(d=l.x),l.y>e&&(e=l.y);l=d-b;p=e-c;l>p?e=c+l:d=b+p}var t={XI:!0,av:[],point:null,add:function(a){g(t,a,b,c,d,e)},wGa:function(a){eg(a,t,b,c,d,e)}};a.forEach(t.add);return t};Y.time={};var ih=
Date,Bv="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");zf.prototype={getDate:function(){return this.df.getUTCDate()},getDay:function(){return this.df.getUTCDay()},getFullYear:function(){return this.df.getUTCFullYear()},getHours:function(){return this.df.getUTCHours()},getMilliseconds:function(){return this.df.getUTCMilliseconds()},getMinutes:function(){return this.df.getUTCMinutes()},getMonth:function(){return this.df.getUTCMonth()},getSeconds:function(){return this.df.getUTCSeconds()},
getTime:function(){return this.df.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this.df.valueOf()},setDate:function(){pn.setUTCDate.apply(this.df,arguments)},setFullYear:function(){pn.setUTCFullYear.apply(this.df,arguments)},setHours:function(){pn.setUTCHours.apply(this.df,arguments)},setMilliseconds:function(){pn.setUTCMilliseconds.apply(this.df,arguments)},setMinutes:function(){pn.setUTCMinutes.apply(this.df,arguments)},setMonth:function(){pn.setUTCMonth.apply(this.df,
arguments)},setSeconds:function(){pn.setUTCSeconds.apply(this.df,arguments)},setTime:function(){pn.setTime.apply(this.df,arguments)}};var pn=Date.prototype,XG=Bv.map(an),Yq="January February March April May June July August September October November December".split(" "),Cv=Yq.map(an);Y.time.format=function(a){function b(d){for(var e=[],g=-1,k=0,l,p;++g<c;)37==a.charCodeAt(g)&&(e.push(a.substring(k,g),(p=eA[l=a.charAt(++g)])?p(d):l),k=g+1);e.push(a.substring(k,g));return e.join("")}var c=a.length;
b.parse=function(b){var c={y:1900,Xu:0,d:1,Az:0,M:0,bL:0,CK:0};if(Rk(c,a,b,0)!=b.length)return null;"p"in c&&(c.Az=c.Az%12+12*c.p);b=new ih;b.setFullYear(c.y,c.Xu,c.d);b.setHours(c.Az,c.M,c.bL,c.CK);return b};b.toString=function(){return a};return b};var mj=Y.format("02d"),vP=Y.format("03d"),cA=Y.format("04d"),T1=Y.format("2d"),YG=Ci(Bv),cm=Ci(XG),dA=Ci(Yq),ZG=Tl(Yq),Zq=Ci(Cv),U1=Tl(Cv),eA={a:function(a){return XG[a.getDay()]},A:function(a){return Bv[a.getDay()]},b:function(a){return Cv[a.getMonth()]},
B:function(a){return Yq[a.getMonth()]},c:Y.time.format("%a %b %e %H:%M:%S %Y"),d:function(a){return mj(a.getDate())},e:function(a){return T1(a.getDate())},Az:function(a){return mj(a.getHours())},I:function(a){return mj(a.getHours()%12||12)},HXa:function(a){return vP(1+Y.time.r_(a))},CK:function(a){return vP(a.getMilliseconds())},Xu:function(a){return mj(a.getMonth()+1)},M:function(a){return mj(a.getMinutes())},p:function(a){return 12<=a.getHours()?"PM":"AM"},bL:function(a){return mj(a.getSeconds())},
USa:function(a){return mj(Y.time.VFa(a))},xGa:function(a){return a.getDay()},Mla:function(a){return mj(Y.time.EYa(a))},x:Y.time.format("%m/%d/%y"),p6:Y.time.format("%H:%M:%S"),y:function(a){return mj(a.getFullYear()%100)},Y:function(a){return cA(a.getFullYear()%1E4)},xUa:function(a){a=a.getTimezoneOffset();var b=Math.abs(a)%60;return(0<a?"-":"+")+mj(~~(Math.abs(a)/60))+mj(b)},"%":function(){return"%"}},wP={a:function(a,b,c){cm.lastIndex=0;return(a=cm.exec(b.substring(c)))?c+a[0].length:-1},A:function(a,
b,c){YG.lastIndex=0;return(a=YG.exec(b.substring(c)))?c+a[0].length:-1},b:function(a,b,c){Zq.lastIndex=0;return(b=Zq.exec(b.substring(c)))?(a.Xu=U1.get(b[0].toLowerCase()),c+b[0].length):-1},B:function(a,b,c){dA.lastIndex=0;return(b=dA.exec(b.substring(c)))?(a.Xu=ZG.get(b[0].toLowerCase()),c+b[0].length):-1},c:function(a,b,c){return Rk(a,eA.c.toString(),b,c)},d:jj,e:jj,Az:Tz,I:Tz,CK:function(a,b,c){Qb.lastIndex=0;return(b=Qb.exec(b.substring(c,c+3)))?(a.CK=+b[0],c+b[0].length):-1},Xu:function(a,b,
c){Qb.lastIndex=0;return(b=Qb.exec(b.substring(c,c+2)))?(a.Xu=b[0]-1,c+b[0].length):-1},M:function(a,b,c){Qb.lastIndex=0;return(b=Qb.exec(b.substring(c,c+2)))?(a.M=+b[0],c+b[0].length):-1},p:function(a,b,c){b=nj.get(b.substring(c,c+=2).toLowerCase());return null==b?-1:(a.p=b,c)},bL:function(a,b,c){Qb.lastIndex=0;return(b=Qb.exec(b.substring(c,c+2)))?(a.bL=+b[0],c+b[0].length):-1},x:function(a,b,c){return Rk(a,eA.x.toString(),b,c)},p6:function(a,b,c){return Rk(a,eA.p6.toString(),b,c)},y:function(a,
b,c){Qb.lastIndex=0;if(b=Qb.exec(b.substring(c,c+2))){var d=+b[0];a=(a.y=d+(68<d?1900:2E3),c+b[0].length)}else a=-1;return a},Y:function(a,b,c){Qb.lastIndex=0;return(b=Qb.exec(b.substring(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}},Qb=/^\s*\d+/,nj=Y.map({FUa:0,lZa:1});Y.time.format.Je=function(a){function b(a){try{ih=zf;var d=new ih;d.df=a;return c(d)}finally{ih=Date}}var c=Y.time.format(a);b.parse=function(a){try{ih=zf;var b=c.parse(a);return b&&b.df}finally{ih=Date}};b.toString=c.toString;return b};
var qn=Y.time.format.Je("%Y-%m-%dT%H:%M:%S.%LZ");Y.time.format.FXa=Date.prototype.toISOString?Mo:qn;Mo.parse=function(a){a=new Date(a);return(0,window.isNaN)(a)?null:a};Mo.toString=qn.toString;Y.time.second=Vk(function(a){return new ih(1E3*Math.floor(a/1E3))},function(a,b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});Y.time.iD=Y.time.second.range;Y.time.iD.Je=Y.time.second.Je.range;Y.time.minute=Vk(function(a){return new ih(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+
6E4*Math.floor(b))},function(a){return a.getMinutes()});Y.time.C1=Y.time.minute.range;Y.time.C1.Je=Y.time.minute.Je.range;Y.time.hour=Vk(function(a){var b=a.getTimezoneOffset()/60;return new ih(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*Math.floor(b))},function(a){return a.getHours()});Y.time.y0=Y.time.hour.range;Y.time.y0.Je=Y.time.hour.Je.range;Y.time.day=Vk(function(a){var b=new ih(1970,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return b},function(a,
b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});Y.time.Vj=Y.time.day.range;Y.time.Vj.Je=Y.time.day.Je.range;Y.time.r_=function(a){var b=Y.time.year(a);return Math.floor((a-b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};Bv.forEach(function(a,b){a=a.toLowerCase();b=7-b;var c=Y.time[a]=Vk(function(a){(a=Y.time.day(a)).setDate(a.getDate()-(a.getDay()+b)%7);return a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=Y.time.year(a).getDay();return Math.floor((Y.time.r_(a)+
(c+b)%7)/7)-(c!==b)});Y.time[a+"s"]=c.range;Y.time[a+"s"].Je=c.Je.range;Y.time[a+"OfYear"]=function(a){var c=Y.time.year(a).getDay();return Math.floor((Y.time.r_(a)+(c+b)%7)/7)}});Y.time.week=Y.time.sunday;Y.time.weeks=Y.time.sunday.range;Y.time.weeks.Je=Y.time.sunday.Je.range;Y.time.U_a=Y.time.VFa;Y.time.month=Vk(function(a){a=Y.time.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});Y.time.NDa=Y.time.month.range;Y.time.NDa.Je=Y.time.month.Je.range;
Y.time.year=Vk(function(a){a=Y.time.day(a);a.setMonth(0,1);return a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});Y.time.TGa=Y.time.year.range;Y.time.TGa.Je=Y.time.year.Je.range;var Yk=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],Wo=[[Y.time.second,1],[Y.time.second,5],[Y.time.second,15],[Y.time.second,30],[Y.time.minute,1],[Y.time.minute,5],[Y.time.minute,15],[Y.time.minute,30],[Y.time.hour,1],[Y.time.hour,
3],[Y.time.hour,6],[Y.time.hour,12],[Y.time.day,1],[Y.time.day,2],[Y.time.week,1],[Y.time.month,1],[Y.time.month,3],[Y.time.year,1]],Dv=[[Y.time.format("%Y"),function(){return!0}],[Y.time.format("%B"),function(a){return a.getMonth()}],[Y.time.format("%b %d"),function(a){return 1!=a.getDate()}],[Y.time.format("%a %d"),function(a){return a.getDay()&&1!=a.getDate()}],[Y.time.format("%I %p"),function(a){return a.getHours()}],[Y.time.format("%I:%M"),function(a){return a.getMinutes()}],[Y.time.format(":%S"),
function(a){return a.getSeconds()}],[Y.time.format(".%L"),function(a){return a.getMilliseconds()}]],fA=Y.scale.Wp(),xP=nv(Dv);Wo.year=function(a,b){return fA.domain(a.map(ov)).ph(b).map(am)};Y.time.scale=function(){return $l(Y.scale.Wp(),Wo,xP)};var gA=Wo.map(function(a){return[a[0].Je,a[1]]}),yP=[[Y.time.format.Je("%Y"),function(){return!0}],[Y.time.format.Je("%B"),function(a){return a.getUTCMonth()}],[Y.time.format.Je("%b %d"),function(a){return 1!=a.getUTCDate()}],[Y.time.format.Je("%a %d"),function(a){return a.getUTCDay()&&
1!=a.getUTCDate()}],[Y.time.format.Je("%I %p"),function(a){return a.getUTCHours()}],[Y.time.format.Je("%I:%M"),function(a){return a.getUTCMinutes()}],[Y.time.format.Je(":%S"),function(a){return a.getUTCSeconds()}],[Y.time.format.Je(".%L"),function(a){return a.getUTCMilliseconds()}]],Dd=nv(yP);gA.year=function(a,b){return fA.domain(a.map(Tq)).ph(b).map(pv)};Y.time.scale.Je=function(){return $l(Y.scale.Wp(),gA,Dd)}})();h7.prototype.xs=function(){this.EL.innerHTML="";i7(this,this.cU)};
h7.prototype.transition=function(a){this.cU=a;var b=this.iu.Di(),c=this.Hg.Di();this.iu.domain(Y.sP(a,function(a){return a.time}));var d=Y.max(a,function(a){return a.value});if(!d||d<this.u9)d=this.u9;this.Hg.domain([0,d]);Y.select(".bargraph-xAxis").transition().duration(500).call(this.vba);Y.select(".bargraph-yAxis").transition().duration(500).call(this.DZ);d=Y.select(".bargraph-gridLines").hg("line.bargraph-gridLine").data(this.Hg.ph(5));d.transition().duration(500).Ca("y1",this.Hg).Ca("y2",this.Hg);
d.Xj().append("line").transition().duration(500).Ca("class","bargraph-gridLine").Ca("x1",0).Ca("x2",this.np).Ca("y1",this.Hg).Ca("y2",this.Hg);d.XH().remove();a=this.bu.hg("rect").data(a,function(a){return a.time});a.Ca("data-tooltip",this.bV).transition().duration(500).Ca("x",function(a){return this.iu(a.time)-this.Eo/2}.bind(this)).Ca("y",function(a){return this.Hg(a.value)}.bind(this)).Ca("height",function(a){return this.Zi-this.Hg(a.value)}.bind(this));a.Xj().append("rect").Ca("data-tooltip",
this.bV).Ca("class","bargraph-bar").Ca("x",function(a){return b(a.time)-this.Eo/2}.bind(this)).Ca("y",function(a){return c(a.value)}).Ca("width",this.Eo).Ca("height",function(a){return this.Zi-c(a.value)}.bind(this)).transition().duration(500).Ca("x",function(a){return this.iu(a.time)-this.Eo/2}.bind(this)).Ca("y",function(a){return this.Hg(a.value)}.bind(this)).Ca("height",function(a){return this.Zi-this.Hg(a.value)}.bind(this));a.XH().transition().duration(500).Ca("x",function(a){return this.iu(a.time)-
this.Eo/2}.bind(this)).Ca("y",function(a){return this.Hg(a.value)}.bind(this)).Ca("height",function(a){return this.Zi-this.Hg(a.value)}.bind(this)).remove()};z.q(j7,z.uC);z.f=j7.prototype;z.f.ak=z.fc("none");z.f.Fb=function(){this.aA=new h7(this.query(".bargraph"));z.Yx(this.Oa).H("show-graph-next",this.bxa,this).H("show-graph-previous",this.cxa,this).H("switch-graph",this.Wxa,this).H("show-syndicated-views-popover",this.uxa,this)};z.f.S=function(){j7.fa.S.call(this);z.qx(this,this.lb,"resize-end",this.aA.xs,this.aA)};
z.f.$Z=function(a){a=a.value.map(function(a){return a.userId?z.$o.rb(d7,a):z.$o.rb(c7,a)});for(var b=X3a(this.$k,this.Yl,this.hx),c=b.buckets,d=b.Vj,b=0;b<a.length;b++){var e=a[b],g=void 0,g=e.timestampMs?a7(e.timestampMs):a7(e.collectedAt);c[g]&&(c[g].reads+=e.reads,c[g].views+=e.views,c[g].fans+=e.upvotes-e.unvotes,c[g].ttr+=e.ttrMs/6E4,c[g].subscribers+=e.updateNotificationSubscribers-e.updateNotificationUnsubscribers,c[g].claps+=e.claps,0>c[g].fans&&(c[g].fans=0))}var k={},l={};this.hx.forEach(function(a){k[a]=
[];l[a]=0;for(var b={reads:"reads",views:"views",fans:"fans",ttr:"mins",subscribers:"subscribers",claps:"claps"}[a],e=0;e<d.length;e++){var g=c[d[e]][a];l[a]+=g;k[a].push({time:d[e],value:Math.round(g),label:1==g?b.substring(0,b.length-1):b})}l[a]=Math.round(l[a]);0>l[a]&&(l[a]=0)});this.jH=k;this.ix=l};z.f.bxa=function(){this.$k=this.Yl+1;this.Yl+=2592E6;k7(this)};z.f.cxa=function(){this.Yl=this.$k-1;this.$k-=2592E6;k7(this)};
z.f.Wxa=function(a){var b=a.target,c=this.query(".chartTabs .is-active");c!=b&&(z.be(c,"is-active"),z.Vd(b,"is-active"));this.aA.transition(this.jH[a.value]);this.WU=a.value};z.f.sya=function(){this.aA.transition(this.jH[this.WU]);n7(this);m7(this)};z.f.uxa=function(a){z.SC(z.TC(this.na),a.target).Ta(r4a).aa()};z.m(o7,z.Q);o7.prototype.S=function(){var a=this;z.Q.prototype.S.call(this);z.Yx(this.U()).H("sort-table",this.tqa,this);z.qx(this,this.aj,"add",this.Ssa,this);this.ud=new z.CS(this.X,this.aj,25);this.ud.lo(z.Lw(this.U()));(0,window.setTimeout)(function(){a.ud&&z.DS(a.ud)},250)};o7.prototype.ia=function(){z.Gm(this.ud);this.ud=null;this.rt&&(this.rt.cancel(),this.rt=null);z.Zx(this.U());z.Q.prototype.ia.call(this)};
o7.prototype.Ssa=function(a){var b=this.query(".js-statsTableBody"),c=this.aj.xe()-a.length-1;a=z.pw(o4a,{postStats:a,HEa:-1==c?null:z.rD(this.aj,c),Er:this.Qma});a=z.Ys("\x3ctable\x3e"+a+"\x3c/table\x3e").rows;z.ng(b,a)};o7.prototype.tqa=function(a){var b=this;this.aj.Lk?(this.rt&&(this.rt.cancel(),this.rt=null),this.ha.aa(z.pw(c4a),{Ak:15E3}),this.rt=z.Uta(this.aj,15E3),z.v(z.u(this.rt,function(){b.ha.Xb();v4a(b,a)}),function(a){b.ha.aa(z.pw(d4a),{type:"error"});z.kx(a)})):v4a(this,a)};
var s4a="date",u4a="date";z.q(p7,j7);z.f=p7.prototype;z.f.vc=function(){return z.u(z.u(this.Qa.nC(this.fh,this.MY),this.Eb,this),this.Kc,this)};z.f.Fb=function(){z.xC(this,{});p7.fa.Fb.call(this);this.z3()};z.f.Uc=function(a){return z.u(this.Qa.nC(this.fh,this.MY,a),this.Eb,this)};z.f.S=function(){p7.fa.S.call(this);var a=this.query(".js-statsTable");if(a){var b=new o7(this.pa(),this.Nw,V3a(this.se));b.Ha(a);this.track(b)}};
z.f.AP=function(){return this.fh&&"all"==this.Xa?this.V.R(z.bCa,{startTimeMs:this.$k,endTimeMs:this.Yl,username:this.fh}):this.fh?this.V.R(z.cCa,{startTimeMs:this.$k,endTimeMs:this.Yl,postId:this.Xa}):"all"==this.Xa?this.V.R(z.$Ba,{startTimeMs:this.$k,endTimeMs:this.Yl}):this.V.R(z.aCa,{startTimeMs:this.$k,endTimeMs:this.Yl,postId:this.Xa})};z.f.z3=function(){z.v(z.u(z.u(z.vC(this,"request").get(this.AP()),this.$Z,this),function(){i7(this.aA,this.jH.views);m7(this);n7(this)},this),function(a){z.kx(a)})};
z.f.Eb=function(a){this.Nw=a.XC};z.f.Kc=function(){z.qw(this.Oa,p4a,{postStats:z.tD(this.Nw),Er:V3a(this.se),oC:"series"==this.se?{views:!0,subscribers:!0,claps:!0}:{views:!0,reads:!0,fans:!0},activeTab:this.se,username:this.fh})};z.m(q7,z.Q);q7.prototype.Lj=function(a){var b=(a=(this.EV=a)?this.EV:this.kna)?a.time:null;this.BV&&this.BV(a);Y.select(this.U()).aP("barGraph2--highlighted",!!b||this.AV);(a=this.query(".js-barGraphAverage"))&&z.de(a,"u-hide",!!b||!this.AV);a=this.query(".js-barGraphBars");Y.select(a).hg("rect").filter(function(a){return a.time!==b}).aP("barGraph2-bar--highlighted",!1);Y.select(a).hg("rect").filter(function(a){return a.time===b}).aP("barGraph2-bar--highlighted",!0)};
q7.prototype.xs=function(a){var b=this.U();if(a.length){var c=b.offsetHeight,c=c-5-20;this.Yd=a;var d=b.offsetWidth-50,e=d/a.length-2,g=Y.time.scale().range([e/2,d-e/2]),k=Y.scale.Wp().range([c,0]),l=Y.svg.axis().scale(g).TQ("bottom").ph(3),p=Y.svg.axis().scale(k).TQ("left").ph(5),b=Y.select(b).append("svg").Ca("width",d+50+0).Ca("height",c+5+20).Ca("style","padding: 2px").H("mouseleave",this.Lj.bind(this,null)),b=b.append("g").Ca("transform","translate(50,5)");g.domain(Y.sP(a,function(a){return a.time}));
k.domain([0,Y.max(a,function(a){return a.value})]);b.append("g").Ca("class","bargraph-xAxis").Ca("transform","translate(0,"+c+")").call(l);b.append("g").Ca("class","bargraph-yAxis").call(p);b.append("g").Ca("class","bargraph-gridLines").hg("line").data(k.ph(5)).Xj().append("line").Ca("class","bargraph-gridLine").Ca("x1",0).Ca("x2",d).Ca("y1",k).Ca("y2",k);b.append("g").Ca("class","js-barGraphBars").hg("rect").data(a).Xj().append("rect").Ca("class","barGraph2-bar").Ca("x",function(a){return g(a.time)-
e/2}).Ca("width",e).Ca("y",function(a){return k(a.value)}).Ca("height",function(a){return c-k(a.value)}).H("mouseenter",this.Lj.bind(this));var r=0;a.forEach(function(a){r+=a.value});a=Math.round(r/Object.keys(a).length);b.append("line").Ca("x1",0).Ca("x2",d).Ca("y1",k(a)).Ca("y2",k(a)).Ca("class","bargraph-averageLine u-hide js-barGraphAverage")}};z.q(r7,z.L);z.f=r7.prototype;z.f.F=function(){return""};z.f.J=function(){return""};z.f.Aa=function(){return z.J(this,"postId")};z.f.Db=function(a){return z.K(this,"postId",a)};z.f.hv=function(a){return z.K(this,"authorId",a)};z.f.SP=function(){return z.J(this,"recommends")};z.f.xR=function(a){return z.K(this,"recommends",a)};z.f.L=function(){return r7.prototype};
z.f.D={name:"CollectionViewStat",N:!1,fields:{timeWindowStart:{name:"timeWindowStart",g:z.V,h:1},postId:{name:"postId",g:z.U,h:2},authorId:{name:"authorId",g:z.U,h:3},page:{name:"page",g:z.U,h:4},ttrMs:{name:"ttrMs",g:z.V,h:5},views:{name:"views",g:z.V,h:6},recommends:{name:"recommends",g:z.V,h:7}},O:{}};z.q(s7,z.L);z.f=s7.prototype;z.f.F=function(){return""};z.f.J=function(){return""};z.f.vb=function(){return z.J(this,"collectionId")};z.f.L=function(){return s7.prototype};
z.f.D={name:"CollectionVisitorStat",N:!1,fields:{timeWindowStart:{name:"timeWindowStart",g:z.V,h:1},collectionId:{name:"collectionId",g:z.U,h:2},dailyUniqueVisitors:{name:"dailyUniqueVisitors",g:z.V,h:3}},O:{}};z.m(t7,z.Q);t7.prototype.S=function(){z.Q.prototype.S.call(this);var a=new q7(this.query(".js-barGraph")),b=this.highlight.bind(this);a.BV=b;this.VO=a;this.track(this.VO);a=(0,z.Ia)();b=e7(a,30);b=Math.max(14533344E5,b);this.xs(0,0,[]);z.u(this.fetch(b,a),this.xs.bind(this,b,a));z.Yx(this.U()).H("select-time",this.ywa,this)};t7.prototype.highlight=function(a){a?this.A2(a):this.kR(this.Yd)};
t7.prototype.xs=function(a,b,c){this.query(".js-barGraph").innerHTML="";this.yF=a;this.pH=b;this.Yd=c;this.VO.xs(c);this.kR(c)};t7.prototype.ywa=function(a){var b=(0,z.Ia)(),c=e7(b,30);"threeMonths"==a.value&&(c=e7(b,90));for(var c=Math.max(14533344E5,c),d=["month","threeMonths"],e=0;e<d.length;e++)z.de(this.query(".js-time-"+d[e]),"is-active",d[e]==a.value);z.u(this.fetch(c,b),this.xs.bind(this,c,b))};z.m(u7,t7);u7.prototype.fetch=function(a,b){var c=this.V.R(z.wCa,{collectionId:this.jg},{from:a,to:b});return z.v(z.u(this.Z.get(c),function(c){c=c.value.map(w4a);var e=W3a(a,b);c.forEach(function(a){var b=a7(a.timeWindowStart);e[b].value+=a.views});return z.sb(e)}),z.kx)};u7.prototype.A2=function(a){var b=this.query(".js-viewsStatsText");z.qw(b,l4a,{date:z.Fh(a.time,"%b %d"),views:Math.floor(a.value)})};
u7.prototype.kR=function(a){var b=this.query(".js-viewsStatsText"),c=0;a.forEach(function(a){c+=a.value});z.qw(b,h4a,{Vj:a.length,views:c})};z.m(v7,t7);v7.prototype.fetch=function(a,b){var c=this.V.R(z.wCa,{collectionId:this.jg},{from:a,to:b});return z.v(z.u(this.Z.get(c),function(c){c=c.value.map(w4a);var e=W3a(a,b);c.forEach(function(a){var b=a7(a.timeWindowStart);e[b].value+=a.ttrMs/6E4});return z.sb(e)}),z.kx)};v7.prototype.A2=function(a){var b=this.query(".js-readingTimeStatsText");z.qw(b,m4a,{date:z.Fh(a.time,"%b %d"),readingTime:Math.floor(a.value)})};
v7.prototype.kR=function(a){var b=this.query(".js-readingTimeStatsText"),c=0;a.forEach(function(a){c+=a.value});z.qw(b,g4a,{Vj:a.length,readingTime:Math.floor(c)})};z.m(w7,t7);w7.prototype.fetch=function(a,b){var c=this.V.R(z.xCa,{collectionId:this.jg},{from:a,to:b});return z.v(z.u(this.Z.get(c),function(c){c=c.value.map(x4a);return y4a(a,b,c)}),z.kx)};w7.prototype.A2=function(a){var b=this.query(".js-visitorsStatsText");z.qw(b,n4a,{date:z.Fh(a.time,"%b %d"),UR:Math.floor(a.value)})};w7.prototype.kR=function(a){var b=this.query(".js-visitorsStatsText"),c=0;a.forEach(function(a){c+=a.value});var d=Math.round(c/Object.keys(a).length);z.qw(b,i4a,{Vj:a.length,UR:d})};
w7.prototype.xs=function(a,b,c){t7.prototype.xs.call(this,a,b,c);a=this.VO;a.AV=!0;a.Lj(null)};z.m(x7,z.uC);z.f=x7.prototype;z.f.vc=function(){var a;a=this.Ba;a=z.u(z.UD(a.Z,z.Tv,{collectionSlug:this.Nb}),a.W1,a);return z.u(z.u(a,this.Eb,this),this.Kc,this)};z.f.Uc=function(a){this.Eb(this.Ba.W1(a))};
z.f.S=function(){z.uC.prototype.S.call(this);this.oba=new u7(this.pa(),this.Oa.querySelector(".js-viewsStats"),this.Va.id);this.track(this.oba);this.v$=new v7(this.pa(),this.Oa.querySelector(".js-readingTimeStats"),this.Va.id);this.track(this.v$);this.rba=new w7(this.pa(),this.Oa.querySelector(".js-visitorsStats"),this.Va.id);this.track(this.rba);z.Yx(this.Oa).H("show-tab",this.IY,this)};z.f.Eb=function(a){this.Va=a.collection};z.f.Kc=function(){z.qw(this.Oa,j4a,{collection:this.Va})};
z.f.IY=function(a){"stories"==a.value&&this.wa.navigate(this.V.lj(z.HC,this.Va))};z.m(y7,j7);z.f=y7.prototype;z.f.vc=function(){return z.u(z.u(this.Qa.WB(this.Nb),this.Eb,this),this.Kc,this)};z.f.Uc=function(a){return z.u(this.Qa.WB(this.Nb,a),this.Eb,this)};z.f.S=function(){j7.prototype.S.call(this);var a=this.query(".js-statsTable");if(a){var b=new o7(this.pa(),this.Nw,this.Gaa);b.Ha(a);this.track(b)}z.Yx(this.Oa).H("show-tab",this.IY,this)};z.f.Fb=function(){j7.prototype.Fb.call(this);this.z3()};z.f.ia=function(){this.SL&&this.SL.cancel();j7.prototype.ia.call(this)};
z.f.Eb=function(a){this.Va=a.collection;this.Nw=a.XC};z.f.Kc=function(){z.qw(this.Oa,p4a,{username:this.fh,collection:this.Va,postStats:z.tD(this.Nw),Er:this.Gaa,oC:{views:!0,reads:!0,fans:!0}})};z.f.IY=function(a){"overview"==a.value&&this.wa.navigate(this.V.lj(z.Tv,this.Va))};z.f.AP=function(){return this.V.R(z.cCa,{startTimeMs:this.$k,endTimeMs:this.Yl,postId:this.Xa})};
z.f.z3=function(){var a=this,b=this.query(".js-statsTableBody");if(b){var c=b.querySelector(".js-statsTableRow"),d=c.getAttribute("data-action-value");this.Xa=d;this.SL=z.xd(z.v(z.u(z.u(this.Z.get(this.AP()),this.$Z,this),function(){i7(a.aA,a.jH[a.WU]);m7(a);n7(a);a.Xa=d;a.k$=Number(c.getAttribute("data-timestamp"));a.$k<a.k$&&(a.$k=a7(Date.now()-25056E5),a.Yl=Date.now());k7(a)},this),z.kx),function(){a.SL=null},this)}};var z4a=z.oy;z.ry(z.ry(z.ry(z4a.pa().scope("app"),"UserStatsScreen",p7),"CollectionStatsScreen2",x7),"CollectionStatsStoriesScreen",y7);z.wN(z4a,"stats");}).call(this, _mdm);
