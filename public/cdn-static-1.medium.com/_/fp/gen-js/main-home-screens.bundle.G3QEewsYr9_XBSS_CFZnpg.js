(function(z){
'use strict';var l0=function(a){z.L.call(this);this.C(a)},m0=function(a){z.Sh.call(this);this.C(a)},n0=function(a){z.Sh.call(this);this.C(a)},NUa=function(a,b){return z.u(a.Z.get(b),a.Y1,a)},OUa=function(a,b,c){return z.u(c?z.Bd(a.Ba.Y1(c)):NUa(a.Ba,b),function(c){a.ka.fc(c);var e=z.zM(a,b);z.sD(e,c.streamItems,c.paging);c.ze=e})},o0=function(a){m0.apply(this,arguments)},p0=function(a){n0.apply(this,arguments)},PUa=function(a,b,c){var d=a.V.R(z.rm,{collectionSlug:b});return z.OD(a,d,function(){return OUa(this.tb,
d,c)})},QUa=function(a){if(!a.length)throw Error("getFirst called on an empty array");return a[0]},q0=function(){return(0,z.y)('\x3cdiv class\x3d"u-flex u-marginBottom24"\x3e\x3cdiv class\x3d"avatarPlaceholder u-height32 u-width32 u-flex0"\x3e\x3c/div\x3e\x3cdiv\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder--thin linePlaceholder--small"\x3e\x3c/div\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder--thin linePlaceholder--smaller"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},r0=function(){return(0,z.y)('\x3csection class\x3d"extremePostPreview u-marginBottom48 u-animation--shimmerInfinite"\x3e\x3cdiv class\x3d"extremePostPreview-post u-minWidth0 u-flex1 u-marginRight24 u-textAlignLeft"\x3e\x3cdiv class\x3d"u-clearfix u-marginBottom16"\x3e\x3cdiv class\x3d"linePlaceholder"\x3e\x3c/div\x3e\x3cdiv class\x3d"linePlaceholder"\x3e\x3c/div\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder--truncated"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"u-flex"\x3e\x3cdiv class\x3d"avatarPlaceholder u-height32 u-width32 u-flex0"\x3e\x3c/div\x3e\x3cdiv\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder--thin linePlaceholder--small"\x3e\x3c/div\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder--thin linePlaceholder--small"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"extremePostPreview-image u-background--brandDust u-flex0 u-width152 u-height145 u-xs-width80 u-xs-height72"\x3e\x3c/div\x3e\x3c/section\x3e')},
DXa=function(){return(0,z.y)('\x3cdiv class\x3d"u-marginBottom32 u-animation--shimmerInfinite"\x3e\x3cdiv class\x3d"u-marginRight32 u-marginLeft32 u-paddingBottom16 u-borderBottomLightest u-clearfix"\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder-thick linePlaceholder--small"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"u-padding32 u-clearfix"\x3e'+q0()+q0()+q0()+"\x3c/div\x3e\x3c/div\x3e")},s0=function(a){z.L.call(this);this.C(a)},t0=function(a){z.bB.call(this,a);this.Z=a.get("request");this.V=
a.get("route-builder");this.ya=a.get("screen")},EXa=function(a,b,c){b=z.A(z.LQ(a,c))+'\x3cdiv class\x3d"u-marginBottom40 js-collectionStream"\x3e';if(null==a.streamItems?0:a.streamItems.length)b+=z.A(z.sQ({items:a.streamItems,context:c.j.Ya.sK,collection:a.collection},0,c));else{var d=z.n("This publication does not have any stories yet.");b+='\x3cdiv class\x3d"u-textAlignCenter u-marginTop180 u-marginBottom180 js-streamItem js-noPosts"\x3e'+z.A(z.vQ({lJ:(0,z.N)(""+d)}))+"\x3c/div\x3e"}b+="\x3c/div\x3e"+
z.A(z.AE(a,c))+z.A(z.BE(a,c))+z.A(z.JQ({collection:a.collection,content:(0,z.N)(""+z.A(z.KQ(a,c)))},c));return(0,z.y)(b)},u0=function(a,b,c){z.rC.call(this,a,b,c);this.Nb=b.collectionSlug;this.t8=this.Va=null;this.na=a.get("popover");this.gB=a.get("referrer-tracker");this.Qa=a.get("screen-request");this.Ra=null;this.sh=!!c.Aj},v0=function(a){z.bB.call(this,a);this.ya=a.get("screen")},w0=function(a){z.bB.call(this,a);this.ya=a.get("screen")},x0=function(a){z.bB.call(this,a);this.ya=a.get("screen")},
FXa=function(a,b,c){var d=a.zD,e=a.streamItems;null==a.heroPromos||z.ma(a.heroPromos);var g=a.heroPromos;b="";var k=d==c.j.Ya.Zs,d='\x3cdiv class\x3d"js-homeStream"\x3e'+z.A(z.sQ({items:e,context:d},0,c))+"\x3c/div\x3e",d=(0,z.N)(d);a=z.A(z.rT({navBar:a.navBar,Vu:k},c))+'\x3cdiv class\x3d"homeContainer u-clearfix js-homepage"\x3e'+z.A(d)+(g&&g.length?z.A(z.MF({promo:g[0],eCa:!0},0,c)):"");g='\x3cdiv class\x3d"'+z.F(z.E("u-foreground u-minHeight100vh"))+'"\x3e';k=(0,z.y)('\x3cdiv class\x3d"extreme-container12col u-flex u-marginTop48"\x3e\x3cdiv class\x3d"extreme-container8col u-width100pct u-flex1 u-borderBox u-paddingRight24 extreme-10colSizeFull extreme-10colPadding0 js-mainfeed"\x3e'+
z.A(r0())+z.A(r0())+z.A(r0())+z.A(r0())+'\x3c/div\x3e\x3cdiv class\x3d"extreme-container4col u-flex0 extreme-10colHide u-heightInherit"\x3e\x3cdiv class\x3d"extremeSidebar extreme-container4col" data-scroll\x3d"dock" data-dock-offset\x3d"js-metabarBottom"\x3e\x3cdiv class\x3d"js-sidebar"\x3e'+z.A(DXa())+z.A(DXa())+"\x3c/div\x3e"+z.A(z.$Q(c))+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");c=""+(g+k+z.A(z.AE(null,c))+"\x3c/div\x3e");c=(0,z.y)(c);return(0,z.y)(b+(a+c+"\x3c/div\x3e"))},y0=function(a,b,c){z.rC.call(this,
a,b,c);this.wa=a.get("app");this.Qa=a.get("screen-request");this.aaa=a.get("routeManager").Jg(this.path);this.tb=a.get("list-store");this.V=a.get("route-builder");this.lb=a.get("dom-monitor");this.sb=a.get("element-tracker");this.na=a.get("popover");this.Jw=this.Gg=this.zF=this.Ra=null},HXa=function(a){var b={},b=(b.ignoredIds=GXa(a),b),b=a.V.R(z.Cya,null,b);z.u(a.Qa.ob(b,z.cM,null,!1),function(b){var d=a.query(".js-sidebar");d&&(z.nw(d,z.sQ,{items:b.streamItems,context:40}),a.sb.zl())})},IXa=function(a){var b=
{},b=(b.ignoredIds=GXa(a),b),c=z.Bw("forceRerankFeed");c&&(b.forceRerankFeed=c);var d=a.V.R(z.Bya,null,b);z.u(a.Qa.ob(d,z.cM,null,!0),function(){var b=a.query(".js-mainfeed"),c=a.tb.vr[d];c&&(b&&z.nw(b,z.sQ,{items:z.qD(c),context:39}),c=new z.xS(a.pa(),c),c.Ha(b),c.ld(39),c.Xv=!0,a.track(c),a.Gg=c)})},GXa=function(a){return 0==z.qD(a.Ra).length?[]:QUa(z.qD(a.Ra)).section.items.map(function(a){return a.post.postId})};z.q(l0,z.L);l0.prototype.H=function(){return""};l0.prototype.J=function(){return""};
l0.prototype.L=function(){return l0.prototype};l0.prototype.D={name:"TopStoriesNavigation",N:!1,fields:{titleDateFormatted:{name:"titleDateFormatted",g:z.U,h:1},prevSlug:{name:"prevSlug",g:z.U,h:2},nextSlug:{name:"nextSlug",g:z.U,h:3}},O:{}};z.q(m0,z.Sh);z.f=m0.prototype;z.f.H=function(){return""};z.f.J=function(){return""};z.f.Jb=function(){return z.J(this,"collection")};z.f.He=z.h(493);z.f.L=function(){return m0.prototype};
z.f.D={name:"CollectionPageStreamResponse",N:!1,fields:{collection:{name:"collection",g:function(){return z.Kp},h:1},streamItems:{name:"streamItems",g:function(){return z.bM},ba:z.S,h:2},paging:{name:"paging",g:function(){return z.$p},h:3},header:{name:"header",g:function(){return z.lp},h:4}},O:{}};z.f.He=z.X(493,function(){return z.J(this,"streamItems")});z.q(n0,z.Sh);z.f=n0.prototype;z.f.H=function(){return""};z.f.J=function(){return""};z.f.He=z.h(490);z.f.b0=z.h(507);z.f.fy=z.h(508);z.f.L=function(){return n0.prototype};
z.f.D={name:"HomepageStreamResponse",N:!1,fields:{streamItems:{name:"streamItems",g:function(){return z.bM},ba:z.S,h:1},paging:{name:"paging",g:function(){return z.$p},h:2},heroPromos:{name:"heroPromos",g:function(){return z.mr},ba:z.S,h:3},browsableStreamConfigList:{name:"browsableStreamConfigList",isRemoved:z.S},browsableStreamConfigIndex:{name:"browsableStreamConfigIndex",isRemoved:z.S},catalog:{name:"catalog",g:function(){return z.Aq},h:6},topStoriesNavigation:{name:"topStoriesNavigation",g:function(){return l0},
h:7},navBar:{name:"navBar",g:function(){return z.rM},h:8}},O:{}};z.f.fy=z.X(508,function(){return z.J(this,"navBar")});z.f.He=z.X(490,function(){return z.J(this,"streamItems")});z.m(o0,m0);o0.prototype.C=function(){this.ze=null;m0.prototype.C.call(this)};z.m(p0,n0);p0.prototype.C=function(){this.ze=null;n0.prototype.C.call(this)};z.Mx.prototype.Y1=z.X(578,function(a){return this.ec(o0,a)});z.Mx.prototype.e2=z.X(572,function(a){return this.ec(p0,a)});
z.Mx.prototype.Cp=z.X(571,function(a){return z.u(this.Z.get(a),this.e2,this)});z.AD.prototype.Cp=z.X(570,function(a,b,c){return z.u(b?z.Bd(this.Ba.e2(b)):this.Ba.Cp(a),function(b){this.ka.fc(b);var e=z.zM(this,a);z.sD(e,b.streamItems,b.paging);c&&z.pD(e,"source",c);b.ze=e},this)});z.ND.prototype.Cp=z.X(569,function(a,b){return z.OD(this,a,function(){return this.tb.Cp(a,b)})});n0.prototype.b0=z.X(507,function(){return z.J(this,"heroPromos")});z.Kp.prototype.IP=z.X(246,function(){return z.J(this,"collectionFeatures")});
z.fN.prototype.IP=z.X(245,function(){return z.J(this,"collectionFeatures")});z.Io.prototype.Kc=z.X(55,function(){return z.J(this,"createdAt")});z.$o.prototype.Kc=z.X(54,function(){return z.J(this,"createdAt")});z.ip.prototype.Kc=z.X(53,function(){return z.J(this,"createdAt")});z.pp.prototype.Kc=z.X(52,function(){return z.J(this,"createdAt")});z.SK.prototype.Kc=z.X(51,function(){return z.J(this,"createdAt")});z.Zp.prototype.Kc=z.X(50,function(){return z.J(this,"createdAt")});
z.sq.prototype.Kc=z.X(49,function(){return z.J(this,"createdAt")});z.tq.prototype.Kc=z.X(48,function(){return z.J(this,"createdAt")});z.Aq.prototype.Kc=z.X(47,function(){return z.J(this,"createdAt")});z.kr.prototype.Kc=z.X(46,function(){return z.J(this,"createdAt")});z.pr.prototype.Kc=z.X(45,function(){return z.J(this,"createdAt")});z.bM.prototype.Kc=z.X(44,function(){return z.J(this,"createdAt")});z.tM.prototype.Kc=z.X(43,function(){return z.J(this,"createdAt")});
z.mM.prototype.Kc=z.X(42,function(){return z.J(this,"createdAt")});z.Ys.prototype.Kc=z.X(41,function(){return z.J(this,"createdAt")});z.gM.prototype.Kc=z.X(40,function(){return z.J(this,"createdAt")});z.Dx.prototype.Kc=z.X(39,function(){return z.J(this,"createdAt")});z.Fx.prototype.Kc=z.X(38,function(){return z.J(this,"createdAt")});z.q(s0,z.L);s0.prototype.H=function(){return""};s0.prototype.J=function(){return""};s0.prototype.L=function(){return s0.prototype};
s0.prototype.D={name:"EntityClientPresented",N:!1,fields:{entityId:{name:"entityId",g:z.U,h:1},entityType:{name:"entityType",g:function(){return z.JAa},h:2}},O:{}};z.m(t0,z.bB);z.f=t0.prototype;z.f.S=function(){z.bB.prototype.S.call(this);z.Vx(this.ya.U()).F("open-promo-link",this.Qma,this)};z.f.ia=function(){z.bB.prototype.ia.call(this);z.Vx(this.ya.U()).clear("open-promo-link")};
z.f.ev=function(a){Object.keys(a).forEach(function(b){var c=a[b].getAttribute("data-collection-id");z.Ox(z.HEa,{promoId:b,collectionId:c})})};z.f.Qma=function(a){var b=a.target.getAttribute("data-promo-id");a=a.target.getAttribute("data-collection-id");z.Ox(z.IEa,{promoId:b,collectionId:a});return 1};z.f.Tn=function(){return this.ya.cb(".js-trackedPromo")};z.f.wm=function(a){return a.getAttribute("data-promo-id")};z.m(u0,z.rC);z.f=u0.prototype;z.f.xc=function(){return z.u(z.u(PUa(this.Qa,this.Nb),this.Eb,this),this.Jc,this)};z.f.Uc=function(a){return z.u(PUa(this.Qa,this.Nb,a),this.Eb,this)};z.f.Eb=function(a){z.uC(this,a);this.Va=a.collection;this.t8=a.header;this.Ra=a.ze};z.f.Jc=function(){z.nw(this.Oa,EXa,{collection:this.Va,header:this.t8,streamItems:z.qD(this.Ra)})};
z.f.S=function(){z.rC.prototype.S.call(this);var a={collectionId:this.Va.nb()};z.Ox(z.GEa,a);if(this.Va.Id()&&(a=this.Va.IP()||[],z.Wa(a,12))){var a=window.location.href,b=this.gB.YP();z.Ky(a,b)}this.sh&&this.IY();z.tw()||(this.K$(),z.nx(this,this.Ra,"add",this.K$.bind(this)));this.Ra.Mk?z.nx(this,this.Ra,"done",this.xaa.bind(this)):this.xaa()};
z.f.Fb=function(){this.track(new z.JE(this.pa()));this.track(new t0(this.pa()));this.track(new z.rF(this.pa()));var a=this.query(".js-collectionStream"),b=new z.xS(this.pa(),this.Ra);b.ld(14);b.Ha(a);this.track(b)};z.f.gI=function(){return new z.dE({collectionId:this.Va.nb()})};z.f.IY=function(){var a=this.query(".js-pubManageMenu");a&&z.NC(z.PC(z.QC(this.na).Ta(z.SKa,{title:z.mw(z.ZKa),Hx:z.mw(z.YKa),B3:!0}),a).Bg(this.U()),{b1:!0}).aa()};
z.f.K$=function(){var a=this.query(".js-aboutCollectionBox");a&&z.nw(a,z.xQ,{collection:this.Va})};z.f.xaa=function(){var a=this.query(".js-collectionFooter");z.Ts(a)};z.m(v0,z.bB);v0.prototype.Tn=function(){return this.ya.cb(".js-trackedEntity")};v0.prototype.wm=function(a){return a.getAttribute("data-entity-id")};v0.prototype.ev=function(a){a=a||{};z.qb(a,function(a,c){a=Number(a.getAttribute("data-entity-type"));!a||(0,window.isNaN)(a)?window.console.error("Entity "+c+" does not have an entity type."):(c=(new s0({entityId:c,entityType:a})).Hb(),z.Ox(z.eFa,c))})};z.m(w0,z.bB);w0.prototype.Tn=function(){return this.ya.cb(".js-trackedSequence")};w0.prototype.wm=function(a){return a.getAttribute("data-sequence-id")};w0.prototype.ev=function(a){a=a||{};z.wb(a).forEach(function(a){z.Ox(z.LFa,{sequenceId:a})})};z.m(x0,z.bB);x0.prototype.Tn=function(){return this.ya.cb(".js-trackedTopic")};x0.prototype.wm=function(a){return a.getAttribute("data-topic-id")};x0.prototype.rM=function(a){return a.getAttribute("data-source")||""};x0.prototype.ev=function(a){var b=this;a=a||{};z.wb(a).forEach(function(c){var d=b.rM(a[c]);z.Ox(z.fFa,{topicId:c,source:d})})};z.m(y0,z.rC);z.f=y0.prototype;z.f.xc=function(){return z.u(z.u(this.Qa.Cp(this.path),this.e8,this),this.Jc,this)};z.f.iI=function(){return null};z.f.bk=function(){return z.Fq()?z.tw()?"gentle":"aggressive":"none"};z.f.Uc=function(a){return z.u(this.Qa.Cp(this.path,a),this.e8,this)};z.f.Fb=function(){this.track(new z.hE(this.pa()));this.track(new z.JE(this.pa()));this.track(new x0(this.pa()));this.track(new v0(this.pa()));this.track(new z.rF(this.pa()));this.track(new w0(this.pa()));this.PF();this.Aw()};
z.f.ky=function(){return z.Nq()?30:1};
z.f.S=function(){var a=this;z.rC.prototype.S.call(this);var b={};b.count=this.Ra.we();var c;a:switch(this.ky()){case 30:c="grid_home";break a;default:c="reading_list"}b.context=c;z.Ox(z.iDa,b);z.di(z.zm).user_research_prompt&&this.track(new z.yF(this.pa()));z.J(z.zm,"isSwBoot")&&"/"==this.path&&(this.zF=this.Qa.Cp("/?swfillcache\x3d1"),z.u(this.zF,function(b){var c=b.ze,d=z.oD(a.Ra,0);z.oD(c,0).Kc()>d.Kc()&&(a.Gg&&(z.px(a,a.Gg),a.Gg.Sf()),z.sD(a.Ra,z.qD(c),b.paging),(b=a.query(".js-homeStream"))&&
z.nw(b,z.sQ,{items:z.qD(a.Ra),context:a.ky()}),a.Aw())}));var b=this.cb(".js-metabar .js-metabarGetStarted"),d=this.dx;d&&!z.iu(b)&&(0,z.ob)(b,function(b){z.nx(a,d,"affix",function(){z.Ts(b)});z.nx(a,d,"dock",function(){z.Ss(b)})});IXa(this);HXa(this);z.di(z.zm).enable_branch_io&&z.LA({})};z.f.ia=function(){this.zF&&(this.zF.cancel(!0),this.zF=null);z.rC.prototype.ia.call(this)};
z.f.Aw=function(){var a=this.query(".js-homeStream");if(a){var b=new z.xS(this.pa(),this.Ra);b.Ha(a);b.ld(this.ky());b.Xv=!0;this.track(b);this.Gg=b}};z.f.e8=function(a){this.Ra=z.rN(a.ze,25);this.Jw=a.fy()};z.f.Jc=function(a){z.uC(this,a);a={navBar:a.fy(),streamItems:z.qD(this.Ra),zD:this.ky(),heroPromos:a.b0()};z.nw(this.Oa,FXa,a)};z.f.PF=function(){this.Jw&&this.track(new z.BT(this.pa(),this.Jw))};z.f.n2=z.Dpa();var JXa=z.ly;z.oy(z.oy(JXa.pa().scope("app"),"CollectionHomeScreen",u0),"HomeScreen",y0);z.tN(JXa,"home-screens");}).call(this, _mdm);
