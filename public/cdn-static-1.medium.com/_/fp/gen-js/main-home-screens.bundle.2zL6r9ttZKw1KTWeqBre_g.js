(function(z){
'use strict';var o0=function(a){z.L.call(this);this.C(a)},p0=function(a){z.ei.call(this);this.C(a)},q0=function(a){z.ei.call(this);this.C(a)},KUa=function(a,b){return z.u(a.Z.get(b),a.T1,a)},LUa=function(a,b,c){return z.u(c?z.Gd(a.Ba.T1(c)):KUa(a.Ba,b),function(c){a.ka.fc(c);var e=z.CM(a,b);z.vD(e,c.streamItems,c.paging);c.Ae=e})},r0=function(a){p0.apply(this,arguments)},s0=function(a){q0.apply(this,arguments)},MUa=function(a,b,c){var d=a.V.R(z.um,{collectionSlug:b});return z.RD(a,d,function(){return LUa(this.tb,
d,c)})},zXa=function(a){if(!a.length)throw Error("getFirst called on an empty array");return a[0]},t0=function(){return(0,z.y)('\x3cdiv class\x3d"u-flex u-marginBottom24"\x3e\x3cdiv class\x3d"avatarPlaceholder u-height32 u-width32 u-flex0"\x3e\x3c/div\x3e\x3cdiv\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder--thin linePlaceholder--small"\x3e\x3c/div\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder--thin linePlaceholder--smaller"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},u0=function(){return(0,z.y)('\x3csection class\x3d"extremePostPreview u-marginBottom48 u-animation--shimmerInfinite"\x3e\x3cdiv class\x3d"extremePostPreview-post u-minWidth0 u-flex1 u-marginRight24 u-textAlignLeft"\x3e\x3cdiv class\x3d"u-clearfix u-marginBottom16"\x3e\x3cdiv class\x3d"linePlaceholder"\x3e\x3c/div\x3e\x3cdiv class\x3d"linePlaceholder"\x3e\x3c/div\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder--truncated"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"u-flex"\x3e\x3cdiv class\x3d"avatarPlaceholder u-height32 u-width32 u-flex0"\x3e\x3c/div\x3e\x3cdiv\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder--thin linePlaceholder--small"\x3e\x3c/div\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder--thin linePlaceholder--small"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"extremePostPreview-image u-background--brandDust u-flex0 u-width152 u-height145 u-xs-width80 u-xs-height72"\x3e\x3c/div\x3e\x3c/section\x3e')},
AXa=function(){return(0,z.y)('\x3cdiv class\x3d"u-marginBottom32 u-animation--shimmerInfinite"\x3e\x3cdiv class\x3d"u-marginRight32 u-marginLeft32 u-paddingBottom16 u-borderBottomLightest u-clearfix"\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder-thick linePlaceholder--small"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"u-padding32 u-clearfix"\x3e'+t0()+t0()+t0()+"\x3c/div\x3e\x3c/div\x3e")},v0=function(a){z.L.call(this);this.C(a)},w0=function(a){z.eB.call(this,a);this.Z=a.get("request");this.V=
a.get("route-builder");this.ya=a.get("screen")},BXa=function(a,b,c){b=z.A(z.OQ(a,c))+'\x3cdiv class\x3d"u-marginBottom40 js-collectionStream"\x3e';if(null==a.streamItems?0:a.streamItems.length)b+=z.A(z.vQ({items:a.streamItems,context:c.j.Za.qK,collection:a.collection},0,c));else{var d=z.n("This publication does not have any stories yet.");b+='\x3cdiv class\x3d"u-textAlignCenter u-marginTop180 u-marginBottom180 js-streamItem js-noPosts"\x3e'+z.A(z.yQ({jJ:(0,z.N)(""+d)}))+"\x3c/div\x3e"}b+="\x3c/div\x3e"+
z.A(z.DE(a,c))+z.A(z.EE(a,c))+z.A(z.MQ({collection:a.collection,content:(0,z.N)(""+z.A(z.NQ(a,c)))},c));return(0,z.y)(b)},x0=function(a,b,c){z.uC.call(this,a,b,c);this.Nb=b.collectionSlug;this.o8=this.Va=null;this.na=a.get("popover");this.eB=a.get("referrer-tracker");this.Qa=a.get("screen-request");this.Ra=null;this.uh=!!c.yj},y0=function(a){z.eB.call(this,a);this.ya=a.get("screen")},z0=function(a){z.eB.call(this,a);this.ya=a.get("screen")},A0=function(a){z.eB.call(this,a);this.ya=a.get("screen")},
CXa=function(a,b,c){var d=a.xD,e=a.streamItems;null==a.heroPromos||z.ma(a.heroPromos);var g=a.heroPromos;b="";var k=d==c.j.Za.Zs,d='\x3cdiv class\x3d"js-homeStream"\x3e'+z.A(z.vQ({items:e,context:d},0,c))+"\x3c/div\x3e",d=(0,z.N)(d);a=z.A(z.uT({navBar:a.navBar,Tu:k},c))+'\x3cdiv class\x3d"homeContainer u-clearfix js-homepage"\x3e'+z.A(d)+(g&&g.length?z.A(z.PF({promo:g[0],WBa:!0},0,c)):"");g='\x3cdiv class\x3d"'+z.F(z.E("u-foreground u-minHeight100vh"))+'"\x3e';k=(0,z.y)('\x3cdiv class\x3d"extreme-container12col u-flex u-marginTop48"\x3e\x3cdiv class\x3d"extreme-container8col u-width100pct u-flex1 u-borderBox u-paddingRight24 extreme-10colSizeFull extreme-10colPadding0 js-mainfeed"\x3e'+
z.A(u0())+z.A(u0())+z.A(u0())+z.A(u0())+'\x3c/div\x3e\x3cdiv class\x3d"extreme-container4col u-flex0 extreme-10colHide u-heightInherit"\x3e\x3cdiv class\x3d"extremeSidebar extreme-container4col" data-scroll\x3d"dock" data-dock-offset\x3d"js-metabarBottom"\x3e\x3cdiv class\x3d"js-sidebar"\x3e'+z.A(AXa())+z.A(AXa())+"\x3c/div\x3e"+z.A(z.cR(c))+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");c=""+(g+k+z.A(z.DE(null,c))+"\x3c/div\x3e");c=(0,z.y)(c);return(0,z.y)(b+(a+c+"\x3c/div\x3e"))},B0=function(a,b,c){z.uC.call(this,
a,b,c);this.wa=a.get("app");this.Qa=a.get("screen-request");this.W$=a.get("routeManager").Jg(this.path);this.tb=a.get("list-store");this.V=a.get("route-builder");this.lb=a.get("dom-monitor");this.sb=a.get("element-tracker");this.na=a.get("popover");this.Hw=this.Gg=this.xF=this.Ra=null},EXa=function(a){var b={},b=(b.ignoredIds=DXa(a),b),b=a.V.R(z.zya,null,b);z.u(a.Qa.ob(b,z.fM,null,!1),function(b){var d=a.query(".js-sidebar");d&&(z.qw(d,z.vQ,{items:b.streamItems,context:40}),a.sb.zl())})},FXa=function(a){var b=
{},b=(b.ignoredIds=DXa(a),b),c=z.Ew("forceRerankFeed");c&&(b.forceRerankFeed=c);var d=a.V.R(z.yya,null,b);z.u(a.Qa.ob(d,z.fM,null,!0),function(){var b=a.query(".js-mainfeed"),c=a.tb.sr[d];c&&(b&&z.qw(b,z.vQ,{items:z.tD(c),context:39}),c=new z.AS(a.pa(),c),c.Ha(b),c.kd(39),c.Uv=!0,a.track(c),a.Gg=c)})},DXa=function(a){return 0==z.tD(a.Ra).length?[]:zXa(z.tD(a.Ra)).section.items.map(function(a){return a.post.postId})};z.q(o0,z.L);o0.prototype.F=function(){return""};o0.prototype.J=function(){return""};
o0.prototype.L=function(){return o0.prototype};o0.prototype.D={name:"TopStoriesNavigation",N:!1,fields:{titleDateFormatted:{name:"titleDateFormatted",g:z.U,h:1},prevSlug:{name:"prevSlug",g:z.U,h:2},nextSlug:{name:"nextSlug",g:z.U,h:3}},O:{}};z.q(p0,z.ei);z.f=p0.prototype;z.f.F=function(){return""};z.f.J=function(){return""};z.f.Jb=function(){return z.J(this,"collection")};z.f.Ie=z.h(493);z.f.L=function(){return p0.prototype};
z.f.D={name:"CollectionPageStreamResponse",N:!1,fields:{collection:{name:"collection",g:function(){return z.Np},h:1},streamItems:{name:"streamItems",g:function(){return z.eM},ba:z.S,h:2},paging:{name:"paging",g:function(){return z.cq},h:3},header:{name:"header",g:function(){return z.op},h:4}},O:{}};z.f.Ie=z.X(493,function(){return z.J(this,"streamItems")});z.q(q0,z.ei);z.f=q0.prototype;z.f.F=function(){return""};z.f.J=function(){return""};z.f.Ie=z.h(490);z.f.Y_=z.h(507);z.f.dy=z.h(508);z.f.L=function(){return q0.prototype};
z.f.D={name:"HomepageStreamResponse",N:!1,fields:{streamItems:{name:"streamItems",g:function(){return z.eM},ba:z.S,h:1},paging:{name:"paging",g:function(){return z.cq},h:2},heroPromos:{name:"heroPromos",g:function(){return z.pr},ba:z.S,h:3},browsableStreamConfigList:{name:"browsableStreamConfigList",isRemoved:z.S},browsableStreamConfigIndex:{name:"browsableStreamConfigIndex",isRemoved:z.S},catalog:{name:"catalog",g:function(){return z.Fq},h:6},topStoriesNavigation:{name:"topStoriesNavigation",g:function(){return o0},
h:7},navBar:{name:"navBar",g:function(){return z.uM},h:8}},O:{}};z.f.dy=z.X(508,function(){return z.J(this,"navBar")});z.f.Ie=z.X(490,function(){return z.J(this,"streamItems")});z.m(r0,p0);r0.prototype.C=function(){this.Ae=null;p0.prototype.C.call(this)};z.m(s0,q0);s0.prototype.C=function(){this.Ae=null;q0.prototype.C.call(this)};z.Px.prototype.T1=z.X(578,function(a){return this.ec(r0,a)});z.Px.prototype.Z1=z.X(572,function(a){return this.ec(s0,a)});
z.Px.prototype.Cp=z.X(571,function(a){return z.u(this.Z.get(a),this.Z1,this)});z.DD.prototype.Cp=z.X(570,function(a,b,c){return z.u(b?z.Gd(this.Ba.Z1(b)):this.Ba.Cp(a),function(b){this.ka.fc(b);var e=z.CM(this,a);z.vD(e,b.streamItems,b.paging);c&&z.sD(e,"source",c);b.Ae=e},this)});z.QD.prototype.Cp=z.X(569,function(a,b){return z.RD(this,a,function(){return this.tb.Cp(a,b)})});q0.prototype.Y_=z.X(507,function(){return z.J(this,"heroPromos")});z.Np.prototype.DP=z.X(246,function(){return z.J(this,"collectionFeatures")});
z.iN.prototype.DP=z.X(245,function(){return z.J(this,"collectionFeatures")});z.Lo.prototype.Lc=z.X(55,function(){return z.J(this,"createdAt")});z.cp.prototype.Lc=z.X(54,function(){return z.J(this,"createdAt")});z.lp.prototype.Lc=z.X(53,function(){return z.J(this,"createdAt")});z.sp.prototype.Lc=z.X(52,function(){return z.J(this,"createdAt")});z.VK.prototype.Lc=z.X(51,function(){return z.J(this,"createdAt")});z.bq.prototype.Lc=z.X(50,function(){return z.J(this,"createdAt")});
z.vq.prototype.Lc=z.X(49,function(){return z.J(this,"createdAt")});z.wq.prototype.Lc=z.X(48,function(){return z.J(this,"createdAt")});z.Fq.prototype.Lc=z.X(47,function(){return z.J(this,"createdAt")});z.nr.prototype.Lc=z.X(46,function(){return z.J(this,"createdAt")});z.sr.prototype.Lc=z.X(45,function(){return z.J(this,"createdAt")});z.eM.prototype.Lc=z.X(44,function(){return z.J(this,"createdAt")});z.wM.prototype.Lc=z.X(43,function(){return z.J(this,"createdAt")});
z.pM.prototype.Lc=z.X(42,function(){return z.J(this,"createdAt")});z.at.prototype.Lc=z.X(41,function(){return z.J(this,"createdAt")});z.jM.prototype.Lc=z.X(40,function(){return z.J(this,"createdAt")});z.Gx.prototype.Lc=z.X(39,function(){return z.J(this,"createdAt")});z.Ix.prototype.Lc=z.X(38,function(){return z.J(this,"createdAt")});z.q(v0,z.L);v0.prototype.F=function(){return""};v0.prototype.J=function(){return""};v0.prototype.L=function(){return v0.prototype};
v0.prototype.D={name:"EntityClientPresented",N:!1,fields:{entityId:{name:"entityId",g:z.U,h:1},entityType:{name:"entityType",g:function(){return z.GAa},h:2}},O:{}};z.m(w0,z.eB);z.f=w0.prototype;z.f.S=function(){z.eB.prototype.S.call(this);z.Yx(this.ya.U()).H("open-promo-link",this.Jma,this)};z.f.ia=function(){z.eB.prototype.ia.call(this);z.Yx(this.ya.U()).clear("open-promo-link")};
z.f.bv=function(a){Object.keys(a).forEach(function(b){var c=a[b].getAttribute("data-collection-id");z.Rx(z.EEa,{promoId:b,collectionId:c})})};z.f.Jma=function(a){var b=a.target.getAttribute("data-promo-id");a=a.target.getAttribute("data-collection-id");z.Rx(z.FEa,{promoId:b,collectionId:a});return 1};z.f.Un=function(){return this.ya.cb(".js-trackedPromo")};z.f.xm=function(a){return a.getAttribute("data-promo-id")};z.m(x0,z.uC);z.f=x0.prototype;z.f.vc=function(){return z.u(z.u(MUa(this.Qa,this.Nb),this.Eb,this),this.Kc,this)};z.f.Uc=function(a){return z.u(MUa(this.Qa,this.Nb,a),this.Eb,this)};z.f.Eb=function(a){z.xC(this,a);this.Va=a.collection;this.o8=a.header;this.Ra=a.Ae};z.f.Kc=function(){z.qw(this.Oa,BXa,{collection:this.Va,header:this.o8,streamItems:z.tD(this.Ra)})};
z.f.S=function(){z.uC.prototype.S.call(this);var a={collectionId:this.Va.nb()};z.Rx(z.DEa,a);if(this.Va.Jd()&&(a=this.Va.DP()||[],z.Wa(a,12))){var a=window.location.href,b=this.eB.TP();z.Ny(a,b)}this.uh&&this.EY();z.ww()||(this.F$(),z.qx(this,this.Ra,"add",this.F$.bind(this)));this.Ra.Lk?z.qx(this,this.Ra,"done",this.saa.bind(this)):this.saa()};
z.f.Fb=function(){this.track(new z.ME(this.pa()));this.track(new w0(this.pa()));this.track(new z.uF(this.pa()));var a=this.query(".js-collectionStream"),b=new z.AS(this.pa(),this.Ra);b.kd(14);b.Ha(a);this.track(b)};z.f.fI=function(){return new z.gE({collectionId:this.Va.nb()})};z.f.EY=function(){var a=this.query(".js-pubManageMenu");a&&z.QC(z.SC(z.TC(this.na).Ta(z.PKa,{title:z.pw(z.WKa),Fx:z.pw(z.VKa),w3:!0}),a).Bg(this.U()),{X0:!0}).aa()};
z.f.F$=function(){var a=this.query(".js-aboutCollectionBox");a&&z.qw(a,z.AQ,{collection:this.Va})};z.f.saa=function(){var a=this.query(".js-collectionFooter");z.Ws(a)};z.m(y0,z.eB);y0.prototype.Un=function(){return this.ya.cb(".js-trackedEntity")};y0.prototype.xm=function(a){return a.getAttribute("data-entity-id")};y0.prototype.bv=function(a){a=a||{};z.rb(a,function(a,c){a=Number(a.getAttribute("data-entity-type"));!a||(0,window.isNaN)(a)?window.console.error("Entity "+c+" does not have an entity type."):(c=(new v0({entityId:c,entityType:a})).Hb(),z.Rx(z.bFa,c))})};z.m(z0,z.eB);z0.prototype.Un=function(){return this.ya.cb(".js-trackedSequence")};z0.prototype.xm=function(a){return a.getAttribute("data-sequence-id")};z0.prototype.bv=function(a){a=a||{};z.wb(a).forEach(function(a){z.Rx(z.IFa,{sequenceId:a})})};z.m(A0,z.eB);A0.prototype.Un=function(){return this.ya.cb(".js-trackedTopic")};A0.prototype.xm=function(a){return a.getAttribute("data-topic-id")};A0.prototype.oM=function(a){return a.getAttribute("data-source")||""};A0.prototype.bv=function(a){var b=this;a=a||{};z.wb(a).forEach(function(c){var d=b.oM(a[c]);z.Rx(z.cFa,{topicId:c,source:d})})};z.m(B0,z.uC);z.f=B0.prototype;z.f.vc=function(){return z.u(z.u(this.Qa.Cp(this.path),this.Z7,this),this.Kc,this)};z.f.hI=function(){return null};z.f.ak=function(){return z.Iq()?z.ww()?"gentle":"aggressive":"none"};z.f.Uc=function(a){return z.u(this.Qa.Cp(this.path,a),this.Z7,this)};z.f.Fb=function(){this.track(new z.kE(this.pa()));this.track(new z.ME(this.pa()));this.track(new A0(this.pa()));this.track(new y0(this.pa()));this.track(new z.uF(this.pa()));this.track(new z0(this.pa()));this.NF();this.yw()};
z.f.iy=function(){return z.Qq()?30:1};
z.f.S=function(){var a=this;z.uC.prototype.S.call(this);var b={};b.count=this.Ra.xe();var c;a:switch(this.iy()){case 30:c="grid_home";break a;default:c="reading_list"}b.context=c;z.Rx(z.fDa,b);z.gi(z.Cm).user_research_prompt&&this.track(new z.BF(this.pa()));z.J(z.Cm,"isSwBoot")&&"/"==this.path&&(this.xF=this.Qa.Cp("/?swfillcache\x3d1"),z.u(this.xF,function(b){var c=b.Ae,d=z.rD(a.Ra,0);z.rD(c,0).Lc()>d.Lc()&&(a.Gg&&(z.sx(a,a.Gg),a.Gg.Tf()),z.vD(a.Ra,z.tD(c),b.paging),(b=a.query(".js-homeStream"))&&
z.qw(b,z.vQ,{items:z.tD(a.Ra),context:a.iy()}),a.yw())}));var b=this.cb(".js-metabar .js-metabarGetStarted"),d=this.bx;d&&!z.lu(b)&&(0,z.pb)(b,function(b){z.qx(a,d,"affix",function(){z.Ws(b)});z.qx(a,d,"dock",function(){z.Vs(b)})});FXa(this);EXa(this);z.gi(z.Cm).enable_branch_io&&z.OA({})};z.f.ia=function(){this.xF&&(this.xF.cancel(!0),this.xF=null);z.uC.prototype.ia.call(this)};
z.f.yw=function(){var a=this.query(".js-homeStream");if(a){var b=new z.AS(this.pa(),this.Ra);b.Ha(a);b.kd(this.iy());b.Uv=!0;this.track(b);this.Gg=b}};z.f.Z7=function(a){this.Ra=z.uN(a.Ae,25);this.Hw=a.dy()};z.f.Kc=function(a){z.xC(this,a);a={navBar:a.dy(),streamItems:z.tD(this.Ra),xD:this.iy(),heroPromos:a.Y_()};z.qw(this.Oa,CXa,a)};z.f.NF=function(){this.Hw&&this.track(new z.ET(this.pa(),this.Hw))};z.f.i2=z.Apa();var GXa=z.oy;z.ry(z.ry(GXa.pa().scope("app"),"CollectionHomeScreen",x0),"HomeScreen",B0);z.wN(GXa,"home-screens");}).call(this, _mdm);
